{"version":3,"sources":["webpack:///0-99a9cf075a2d8990945f.js","webpack:///./src/List/HelpLink.component.js","webpack:///./src/config/inlinehelp-mapping.json","webpack:///./src/EditModel/stepper/stepper.js","webpack:///./src/utils/Auth.js","webpack:///./src/config/field-config/field-groups.js","webpack:///./src/EditModel/FormHeading.js","webpack:///./src/EditModel/formHelpers.js","webpack:///./src/EditModel/BackButton.component.js","webpack:///./src/EditModel/SaveButton.component.js","webpack:///./src/EditModel/CancelButton.component.js","webpack:///./src/EditModel/form-rules/index.js","webpack:///./src/EditModel/FormButtons.component.js","webpack:///./src/config/field-config/field-defaults.js","webpack:///./src/config/field-rules.js","webpack:///./~/material-ui/svg-icons/navigation/arrow-back.js","webpack:///./~/material-ui/svg-icons/navigation/arrow-forward.js","webpack:///./src/EditModel/form-helpers/validateFields.js","webpack:///./src/EditModel/DataIndicatorGroupsAssignment.component.js","webpack:///./src/EditModel/EditModelForm.component.js","webpack:///./src/EditModel/IndicatorExpressionManagerContainer.component.js","webpack:///./src/EditModel/SharingNotification.component.js","webpack:///./src/EditModel/data-element/DataElementGroupsAssignment.component.js","webpack:///./src/EditModel/extraFields.js","webpack:///./src/EditModel/form-helpers/extractFirstErrorMessageFromServer.js","webpack:///./src/config/disabled-on-edit/category.js","webpack:///./src/config/disabled-on-edit/categoryCombo.js","webpack:///./src/config/disabled-on-edit/categoryOptionCombo.js","webpack:///./src/config/disabled-on-edit/categoryOptionGroup.js","webpack:///./src/config/disabled-on-edit/categoryOptionGroupSet.js","webpack:///./src/config/disabled-on-edit/index.js","webpack:///./src/config/disabled-on-edit/optionGroup.js","webpack:///./src/config/disabled-on-edit/optionGroupSet.js","webpack:///./src/config/disabled-on-edit/optionSet.js","webpack:///./src/config/disabled-on-edit/programRule.js","webpack:///./~/d2-ui/lib/expression-manager/ExpressionStatus.store.js","webpack:///./src/EditModel/EditModel.component.js","webpack:///./src/EditModel/EditModelContainer.component.js"],"names":["webpackJsonp","3544","module","__webpack_exports__","__webpack_require__","mappingPathExists","mappingKey","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default","a","getDocsVersion","_ref","major","minor","snapshot","replacePlaceholder","variablesToReplace","placeholderRegex","replace","match","variable","has","get","replaceMappingPathPlaceholder","path","Object","keys","find","pathToMatch","RegExp","test","getPartialHelpContentPath","replacedMappingPath","variablesToReplaceCamel","findHelpLinkForPath","schema","Map","i","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__","HelpLink","_ref2","_ref3","d2","window","location","hash","docsLink","system","version","helpLink","__WEBPACK_IMPORTED_MODULE_0_react___default","createElement","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default","href","target","rel","tooltip","i18n","getTranslation","tooltipPosition","iconClassName","iconStyle","top","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__","propTypes","string","isRequired","contextTypes","object","3545","exports","/edit/categorySection/categoryOptionGroupSet","/edit/categorySection/categoryOptionGroup","/edit/categorySection/categoryOptionCombo","/edit/categorySection/categoryOption","/edit/categorySection/categoryCombo","/edit/categorySection/category","/list/categorySection","/edit/dataElementSection/dataElementGroupSet","/edit/dataElementSection/dataElementGroup","/edit/dataElementSection/dataElement","/list/dataElementSection","/edit/dataSetSection/dataSet/${objectId}/sections","/edit/dataSetSection/dataSet","/list/dataSetSection/dataSet","/edit/indicatorSection/programIndicatorGroup","/list/indicatorSection/programIndicatorGroup","/edit/indicatorSection/programIndicator","/list/indicatorSection/programIndicator","/edit/indicatorSection/indicatorGroupSet","/edit/indicatorSection/indicatorGroup","/edit/indicatorSection/indicatorType","/edit/indicatorSection/indicator","/list/indicatorSection","/edit/organisationUnitSection/organisationUnitGroupSet","/edit/organisationUnitSection/organisationUnitGroup","/edit/organisationUnitSection/organisationUnitLevel","/edit/organisationUnitSection/organisationUnit","/list/organisationUnitSection","/edit/programSection/trackedEntityAttribute","/edit/programSection/programRuleVariable","/edit/programSection/relationshipType","/edit/programSection/trackedEntity","/edit/programSection/programRule","/edit/programSection/program","/list/programSection","/edit/validationSection/validationNotificationTemplate","/edit/validationSection/validationRuleGroup","/edit/validationSection/validationRule","/list/validationSection","/edit/otherSection/legendSet","/list/otherSection/legendSet","/edit/otherSection/pushAnalysis","/list/otherSection/pushAnalysis","/edit/otherSection/externalMapLayer","/list/otherSection/externalMapLayer","/edit/otherSection/predictorGroup","/list/otherSection/predictorGroup","/edit/otherSection/optionGroupSet","/list/otherSection/optionGroupSet","/edit/otherSection/optionGroup","/list/otherSection/optionGroup","/edit/otherSection/${objectType}","/list/otherSection/${objectType}","3546","_objectWithoutProperties","obj","indexOf","prototype","hasOwnProperty","call","_toConsumableArray","arr","Array","isArray","arr2","length","from","isActiveStep","activeStep","step","index","__WEBPACK_IMPORTED_MODULE_10_lodash_fp__","key","StepperNavigationBack","_ref4","onBackClick","__WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton___default","onClick","__WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back___default","StepperNavigationForward","_ref5","onForwardClick","__WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward___default","createStepperNavigation","BackwardButton","ForwardButton","styles","buttons","display","flexDirection","justifyContent","padding","_ref6","children","style","d","getStepFields","createStepper","createStepperFromConfig","createStepperContentFromConfig","createConnectedForwardButton","createConnectedBackwardButton","__WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step__","__WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton__","__WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward__","__WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_i18n_Translate_component__","__WEBPACK_IMPORTED_MODULE_9_loglevel__","__WEBPACK_IMPORTED_MODULE_9_loglevel___default","__WEBPACK_IMPORTED_MODULE_11_react_redux__","__WEBPACK_IMPORTED_MODULE_12_redux__","__WEBPACK_IMPORTED_MODULE_13__config_field_config_field_groups__","fieldConfigs","modelType","stepsByField","groupsByField","map","field","name","props","concat","steps","stepperClicked","_ref$orientation","orientation","undefined","linear","margin","label","stepperConfig","arguments","disabled","getStepChildren","stepChildren","push","content","active","stepConfig","component","warn","mapDispatchToProps","actionCreators","dispatch","nextStepActionCreator","previousStepAcionCreator","3547","withAuth","__WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName__","__WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName___default","_extends","assign","source","WrappedComponent","WithAuth","extraProps","getCurrentUser","currentUser","getModelDefinitionByName","models","displayName","3562","__WEBPACK_IMPORTED_MODULE_0_lodash_fp__","__WEBPACK_IMPORTED_MODULE_1__field_order__","fieldGroupsForModelType","fields","for","this","isGroupedFields","getStepLength","groupNoByName","fieldName","modelGroup","group","includes","groupNameByStep","stepNo","reduce","fieldsWithStep","groupFields","3566","FormHeading","context","level","groupName","isDirtyHandler","skipTranslation","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_5__BackButton_component__","__WEBPACK_IMPORTED_MODULE_6__router_utils__","goToAndScrollUp","__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","oneOfType","array","number","func","bool","defaultProps","3567","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","arg","info","value","error","done","then","err","getLabelText","labelText","fieldConfig","createAttributeFieldConfigs","schemaName","modelDefinition","attributeProperties","attributeName","attribute","__WEBPACK_IMPORTED_MODULE_11__forms_fields__","valueType","type","optionSet","required","Boolean","mandatory","fieldOptions","options","option","code","translateValidators","validators","validator","message","setRequiredFieldsLabelText","translatedName","setRequiredFieldsStepName","__WEBPACK_IMPORTED_MODULE_9__config_field_config_field_groups__","stepName","createUniqueValidator","uid","trim","modelDefinitionWithFilter","filter","on","referenceProperty","equals","notEqual","list","collection","size","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","addUniqueValidatorWhenUnique","modelToEdit","unique","asyncValidators","id","isAttribute","model","attributes","Set","addValuesToFieldConfigs","transformValuesUsingConverters","addModelToFieldConfigProps","createFieldConfigsFor","fieldNames","filterFieldConfigs","__WEBPACK_IMPORTED_MODULE_4_lodash_fp__","includeAttributes","runRules","customFieldOrderName","__WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream___default","props$","combineLatest","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","createFieldConfigForModelTypes","fieldConfigsWithValues","fieldConfigsToUse","__WEBPACK_IMPORTED_MODULE_12__form_rules__","createFormFor","source$","properties","CreatedFormBuilderForm","editFieldChanged","_ref5$detailsFormStat","detailsFormStatusChange","onUpdateField","convertValueUsingFieldConverter","fieldConfigsAfterRules","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__","onUpdateFormStatus","addPropsToFieldConfig","__WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream__","__WEBPACK_IMPORTED_MODULE_6__forms_FormFieldsForModel__","__WEBPACK_IMPORTED_MODULE_7__forms_FormFieldsManager__","__WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__","__WEBPACK_IMPORTED_MODULE_10__config_field_overrides_index__","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","TypeError","regeneratorRuntime","mark","_callee","forcedFieldOrderNames","formFieldsManager","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","overrideConfig","wrap","_context","prev","sent","setFieldOrder","addFieldOverrideFor","t0","return","finish","abrupt","getFormFieldsForModel","stop","_x2","_x3","beforePassToFieldConverter","onChangeCallback","converter","beforeUpdateConverter","3569","BackButton","_props$isDirtyHandler","__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__","getState","bind","otherProps","onClickWithConfirm","dirty","confirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__","PropTypes","3570","SaveButton","isSaving","isValid","rest","buttonText","__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default","primary","__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__","3628","CancelButton","_ref$isDirtyHandler","isPristine","shouldConfirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton___default","secondary","__WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton__","3629","getRulesForModelType","__WEBPACK_IMPORTED_MODULE_3__config_field_rules__","changeValue","operationParams","ruleResult","setValue","setProp","propName","thenValue","elseValue","hideField","hiddenComponent","showField","getOperation","operationType","operationsMap","__WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop___default","getWhenOperator","operatorType","whenOperatorMap","hasValueOperator","hasStringValueOperator","toString","equalsOperator","left","right","notEqualsOperator","oneOfOperator","noneOfOperator","isPointOperator","poly","JSON","parse","isNaN","e","isHiddenFieldOperator","b","systemSettingIsTrueOperator","settingKey","__WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__","systemSettingIsFalseOperator","ruleRunner","whenFieldName","operatorFn","whenValue","rulesRunner","rules","rule","whenRule","fieldConfigForRule","operator","applyRulesToFieldConfigs","forEach","__WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray___default","when","rulePassed","some","result","operations","operation","fieldConfigForOperation","__WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop__","__WEBPACK_IMPORTED_MODULE_1_lodash_fp__","__WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray__","3632","FormButtons","defaultStyle","marginTop","buttonStyle","marginRight","width","buttonsToRender","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default","child","cloneElement","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__","isFormValid","3650","defaultAnalyticsPeriodBoundaries","current","enrollment","analyticsPeriodBoundaryType","__WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__","boundaryTarget","event","val","createDefaultRuleForField","defaultValue","3651","setValueTypeToOptionSet","__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__","generated","pattern","3659","_interopRequireDefault","__esModule","default","defineProperty","_react","_react2","_pure","_pure2","_SvgIcon","_SvgIcon2","NavigationArrowBack","muiName","3660","NavigationArrowForward","3676","getFirstInvalidFieldMessage","formRef","formRefStateClone","getStateClone","firstInvalidField","getFirstInvalidField","setState","getErrorMessage","isInvalidField","validatedResult","isRequiredField","isDirtyField","isRequiredOrDirtyField","validateField","validateResult","invalid","fieldStep","errorMessage","3700","_defineProperty","enumerable","configurable","writable","getLoadingIndicator","textAlign","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_circular_progress_CircularProgress__","findValue","optionList","indicatorGroups","values","indicatorGroup","__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__","createClass","getInitialState","indicatorGroupValues","remove","save","indicatorGroupSets","componentDidMount","_this","Api","getApi","paging","response","subscription","subscribe","forceUpdate","componentWillUnmount","unsubscribe","render","_this2","state","indicatorGroupSet","ig","text","translateLabel","onChange","_updateGroupStatus","fullWidth","indicatorGroupSetId","oldValue","3701","__WEBPACK_IMPORTED_MODULE_1_loglevel__","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","__WEBPACK_IMPORTED_MODULE_2_rxjs__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_circular_progress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_forms_FormBuilder_component__","__WEBPACK_IMPORTED_MODULE_7__SaveButton_component__","__WEBPACK_IMPORTED_MODULE_8__CancelButton_component__","__WEBPACK_IMPORTED_MODULE_9__SharingNotification_component__","__WEBPACK_IMPORTED_MODULE_10__FormButtons_component__","__WEBPACK_IMPORTED_MODULE_11__config_field_config_field_groups__","__WEBPACK_IMPORTED_MODULE_12__extraFields__","__WEBPACK_IMPORTED_MODULE_13__config_disabled_on_edit__","__WEBPACK_IMPORTED_MODULE_14__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_15__objectActions__","__WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_17__App_appStateStore__","__WEBPACK_IMPORTED_MODULE_18__formHelpers__","__WEBPACK_IMPORTED_MODULE_19__form_rules__","__WEBPACK_IMPORTED_MODULE_20__form_helpers_extractFirstErrorMessageFromServer__","__WEBPACK_IMPORTED_MODULE_21__stepper_stepper__","__WEBPACK_IMPORTED_MODULE_22__form_helpers_validateFields__","currentSection$","sideBar","currentSection","currentSubSection","distinctUntilChanged","editFormFieldsForCurrentSection$","flatMap","isAddOperation","d2$","modelToEditAndModelForm$","currentType","editFormFieldsForCurrentModelType","config","isLoading","modelId","onSaveSuccess","onSaveError","onCancel","mixins","formState","validating","valid","pristine","componentWillMount","newState","setActiveStep","show","action","saveSubscription","setFormRef","form","_onUpdateField","update","_onUpdateFormStatus","saveSuccess","translate","saveFail","httpStatusCode","firstErrorMessage","_saveAction","preventDefault","invalidFieldMessage","saveObject","_closeAction","renderSharingNotification","formPaperStyle","position","renderStepper","renderForm","ref","loading","3702","__WEBPACK_IMPORTED_MODULE_0_rxjs__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_action_Action__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_expression_manager_ExpressionManager__","__WEBPACK_IMPORTED_MODULE_4_react__","__WEBPACK_IMPORTED_MODULE_4_react___default","__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_expression_manager_ExpressionStatus_store__","__WEBPACK_IMPORTED_MODULE_7__utils_createActionToValidation___","actionToValidation$","createActionsFromNames","requestExpressionStatus","debounceTime","encodedFormula","encodeURIComponent","data","url","request","concatAll","IndicatorExpressionManagerContainer","indicatorExpressionChanged","description","formula","titleText","organisationUnitGroups","constants","programTrackedEntityAttributes","programIndicators","programDataElements","organisationUnitGroup","toArray","constant","refs","expressionManager","getExpressionManager","descriptionLabel","descriptionValue","formulaValue","expressionStatusStore","expressionChanged","validateExpression","3703","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon__","__WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_4__utils_Auth__","SharingNotification","modelDef","createPublic","canCreatePublic","createPrivate","canCreatePrivate","notificationStyle","background","notificationTextStyle","verticalAlign","lineHeight","paddingLeft","toRender","zDepth","className","3704","getLoadingdataElement","dataElementGroups","dataElementGroup","__WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__","dataElementGroupValues","dataElementGroupSets","dataElementGroupSetId","dataElementGroupSet","3708","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_5__IndicatorExpressionManagerContainer_component__","__WEBPACK_IMPORTED_MODULE_6__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_7__DataIndicatorGroupsAssignment_component__","__WEBPACK_IMPORTED_MODULE_8__data_element_DataElementGroupsAssignment_component__","_createClass","defineProperties","descriptor","protoProps","staticProps","saveButton","customContentStyle","maxWidth","IndicatorExtraFields","_React$Component","getPrototypeOf","dialogValid","dialogOpen","setNumerator","setDenominator","closeDialog","saveToModelAndCloseDialog","expressionStatus","expressionFormula","expressionDescription","expressionValues","dialogActions","onTouchTap","title","open","modal","actions","contentStyle","autoScrollBodyContent","repositionOnUpdate","renderExpressionManager","Component","dataElement","indicator","3709","extractFirstErrorMessageFromServer","messages","extractFirstMessageFromErrorReports","extractFirstMessageFromMessages","firstNotUndefinedIn","3713","3714","3715","3716","3717","3718","__WEBPACK_IMPORTED_MODULE_0__category__","__WEBPACK_IMPORTED_MODULE_1__categoryCombo__","__WEBPACK_IMPORTED_MODULE_2__categoryOptionCombo__","__WEBPACK_IMPORTED_MODULE_3__categoryOptionGroup__","__WEBPACK_IMPORTED_MODULE_4__categoryOptionGroupSet__","__WEBPACK_IMPORTED_MODULE_5__optionSet__","__WEBPACK_IMPORTED_MODULE_6__programRule__","__WEBPACK_IMPORTED_MODULE_7__optionGroup__","__WEBPACK_IMPORTED_MODULE_8__optionGroupSet__","disabledByType","category","categoryCombo","categoryOptionCombo","categoryOptionGroup","categoryOptionGroupSet","programRule","optionGroup","optionGroupSet","3719","3720","3721","3722","3723","__WEBPACK_IMPORTED_MODULE_0__store_Store__","3846","EditModel","__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_2__EditModelForm_component__","__WEBPACK_IMPORTED_MODULE_3__router_utils__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__","780","EditModelContainer","params","marginBottom","__WEBPACK_IMPORTED_MODULE_4__FormHeading__","__WEBPACK_IMPORTED_MODULE_2_d2_utilizr__","__WEBPACK_IMPORTED_MODULE_3__EditModel_component__","any"],"mappings":"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","file":"0-99a9cf075a2d8990945f.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 3544:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HelpLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr__ = __webpack_require__(756);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__ = __webpack_require__(3545);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__);\n\n\n\n\n\n\n\n\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion(_ref) {\n    var major = _ref.major,\n        minor = _ref.minor,\n        snapshot = _ref.snapshot;\n\n    if (snapshot) {\n        return 'master';\n    }\n    return major + '.' + minor;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    var placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, function (match, variable) {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a).find(function (mappingKey) {\n        var pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n        return new RegExp(pathToMatch).test(path);\n    });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    var variablesToReplace = new Map([['objectType', schema]]);\n    var variablesToReplaceCamel = new Map([['objectType', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)]]);\n\n    var replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nfunction HelpLink(_ref2, _ref3) {\n    var schema = _ref2.schema;\n    var d2 = _ref3.d2;\n\n    var path = window.location.hash.replace(/^#/, '') // Remove leading hash\n    .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    var docsLink = 'https://docs.dhis2.org/' + getDocsVersion(d2.system.version);\n    var helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default.a,\n            {\n                href: '' + docsLink + helpLink,\n                target: '_blank',\n                rel: 'noopener noreferrer',\n                tooltip: d2.i18n.getTranslation('open_user_guide'),\n                tooltipPosition: 'bottom-center',\n                iconClassName: 'material-icons',\n                iconStyle: { top: -2 }\n            },\n            'help_outline'\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nHelpLink.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/***/ }),\n\n/***/ 3545:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html#create_predictor_group\",\"/list/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html\",\"/edit/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/list/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/edit/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/list/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n/***/ }),\n\n/***/ 3546:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getStepFields; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createStepper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return createStepperFromConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return createStepperContentFromConfig; });\n/* unused harmony export StepperNavigationBack */\n/* unused harmony export StepperNavigationForward */\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = createStepperNavigation;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return createConnectedForwardButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return createConnectedBackwardButton; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper__ = __webpack_require__(1395);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton__ = __webpack_require__(1393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent__ = __webpack_require__(1394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step__ = __webpack_require__(1392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton__ = __webpack_require__(208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward__ = __webpack_require__(3660);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back__ = __webpack_require__(3659);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_i18n_Translate_component__ = __webpack_require__(174);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_redux__ = __webpack_require__(318);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_redux__ = __webpack_require__(206);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__config_field_config_field_groups__ = __webpack_require__(3562);\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// TODO: Move this to d2-ui\n\n\n\n\n\n\n\n\n\n\n\n\n// TODO: Redux helpers, leave these here\n\n\n\n\n\nfunction isActiveStep(activeStep, step, index) {\n    if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_lodash_fp__[\"isString\"])(activeStep)) {\n        return activeStep === step.key;\n    }\n\n    return activeStep === index;\n}\n\nvar getStepFields = function getStepFields(step, fieldConfigs, modelType) {\n    var stepsByField = __WEBPACK_IMPORTED_MODULE_13__config_field_config_field_groups__[\"a\" /* default */].groupsByField(modelType);\n    if (stepsByField) {\n        fieldConfigs.map(function (field) {\n            if (stepsByField[field.name] === step) {\n                field.props.style = { display: 'block' };\n            } else {\n                field.props.style = { display: 'none' };\n            }\n            return field;\n        });\n    }\n    return [].concat(_toConsumableArray(fieldConfigs));\n};\n\nvar createStepper = function createStepper(_ref) {\n    var steps = _ref.steps,\n        activeStep = _ref.activeStep,\n        stepperClicked = _ref.stepperClicked,\n        _ref$orientation = _ref.orientation,\n        orientation = _ref$orientation === undefined ? 'horizontal' : _ref$orientation;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper___default.a,\n        {\n            activeStep: activeStep,\n            linear: false,\n            orientation: orientation,\n            style: { margin: '0 -16px' }\n        },\n        steps.map(function (step, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step___default.a,\n                { key: step.label },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton___default.a,\n                    { onClick: function onClick() {\n                            return stepperClicked(index);\n                        } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_i18n_Translate_component__[\"a\" /* default */],\n                        null,\n                        step.label\n                    )\n                )\n            );\n        })\n    );\n};\n\n/**\n * Create a Stepper component from a configuration object.\n *\n * @param {Array} stepperConfig Config array that defines the steps that should be shown.\n * @param {String} [orientation='horizontal'] The orientation in which to render the Stepper.\n *\n * @returns {ReactComponent} A React component that will render the steps as defined by the `stepperConfig`\n *\n * @example\n * ```\n * const steps = [\n *      { key: 'first', name: 'First step!' },\n *      { key: 'last', name: 'My last step!' },\n * ];\n * const MyStepperComponent = createStepperFromConfig(steps)\n *\n * // <MyStepperComponent activeStep={activeStep.key} />\n * ```\n */\nvar createStepperFromConfig = function createStepperFromConfig(stepperConfig) {\n    var orientation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'horizontal';\n    return function (_ref2) {\n        var activeStep = _ref2.activeStep,\n            stepperClicked = _ref2.stepperClicked,\n            disabled = _ref2.disabled,\n            props = _objectWithoutProperties(_ref2, ['activeStep', 'stepperClicked', 'disabled']);\n\n        var getStepChildren = function getStepChildren(step) {\n            var stepChildren = [];\n\n            stepChildren.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Stepper_StepButton___default.a,\n                { key: 'button', onClick: function onClick() {\n                        return stepperClicked(step.key);\n                    } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_i18n_Translate_component__[\"a\" /* default */],\n                    null,\n                    step.name\n                )\n            ));\n\n            if (step.content) {\n                stepChildren.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_3_material_ui_Stepper_StepContent___default.a,\n                    { key: 'content' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(step.content, props)\n                ));\n            }\n\n            return stepChildren;\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_1_material_ui_Stepper_Stepper___default.a,\n            { linear: false, orientation: orientation, activeStep: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_lodash_fp__[\"isNumber\"])(activeStep) ? activeStep : undefined },\n            stepperConfig.map(function (step, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_4_material_ui_Stepper_Step___default.a,\n                    { key: step.key, active: isActiveStep(activeStep, step, index), disabled: !!disabled },\n                    getStepChildren(step)\n                );\n            })\n        );\n    };\n};\n\n/**\n * Create a StepperContent component from a configuration object. The StepperContent component renders the content that\n * belongs to the current `activeStep`. When the config does not specify a `component` property for the current active\n * step a warning is logged and `null` is rendered.\n * The `component` is passed all the props passed to the StepperContent.\n *\n * @param {Array} stepperConfig Config array that defines the steps and the components that should be rendered for the\n * currently active step.\n *\n * @returns {ReactComponent} A React component that will render the `component` property of the currently active step.\n */\n\nvar createStepperContentFromConfig = function createStepperContentFromConfig(stepperConfig) {\n    return function (_ref3) {\n        var activeStep = _ref3.activeStep,\n            props = _objectWithoutProperties(_ref3, ['activeStep']);\n\n        var step = stepperConfig.find(function (stepConfig) {\n            return stepConfig.key === activeStep;\n        });\n\n        if (step && step.component) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(step.component, props);\n        }\n\n        if (activeStep) {\n            __WEBPACK_IMPORTED_MODULE_9_loglevel___default.a.warn('Could not find a content component for a step with key (' + activeStep + ') in', stepperConfig);\n        } else {\n            __WEBPACK_IMPORTED_MODULE_9_loglevel___default.a.warn('The `activeStep` prop is undefined, therefore the component created by `createStepperContentFromConfig` will render null');\n        }\n\n        return null;\n    };\n};\n\n\nfunction StepperNavigationBack(_ref4) {\n    var onBackClick = _ref4.onBackClick;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton___default.a,\n        { onClick: onBackClick },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_material_ui_svg_icons_navigation_arrow_back___default.a, null)\n    );\n}\n\nfunction StepperNavigationForward(_ref5) {\n    var onForwardClick = _ref5.onForwardClick;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_5_material_ui_IconButton_IconButton___default.a,\n        { onClick: onForwardClick },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_svg_icons_navigation_arrow_forward___default.a, null)\n    );\n}\n\nfunction createStepperNavigation(BackwardButton, ForwardButton) {\n    var styles = {\n        buttons: {\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            padding: '4rem 1rem 1rem'\n        }\n    };\n\n    var StepperNavigation = function StepperNavigation(_ref6) {\n        var children = _ref6.children;\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.buttons },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(BackwardButton, null),\n            children,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ForwardButton, null)\n        );\n    };\n\n    return StepperNavigation;\n}\n\n// ////////////////////////////////////////////////////////////////\n// Redux specfic helpers, don't move to\n\nvar mapDispatchToProps = function mapDispatchToProps(actionCreators) {\n    return function (dispatch) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12_redux__[\"a\" /* bindActionCreators */])(actionCreators, dispatch);\n    };\n};\n\nvar createConnectedForwardButton = function createConnectedForwardButton(nextStepActionCreator) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_react_redux__[\"a\" /* connect */])(undefined, mapDispatchToProps({ onForwardClick: nextStepActionCreator }))(StepperNavigationForward);\n};\nvar createConnectedBackwardButton = function createConnectedBackwardButton(previousStepAcionCreator) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_react_redux__[\"a\" /* connect */])(undefined, mapDispatchToProps({ onBackClick: previousStepAcionCreator }))(StepperNavigationBack);\n};\n\n/***/ }),\n\n/***/ 3547:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return withAuth; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName__ = __webpack_require__(461);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\nvar withAuth = function withAuth(WrappedComponent) {\n\n    var WithAuth = function WithAuth(props, _ref) {\n        var d2 = _ref.d2;\n\n        var extraProps = {\n            getCurrentUser: function getCurrentUser() {\n                return d2.currentUser;\n            },\n            getModelDefinitionByName: function getModelDefinitionByName(modelType) {\n                return d2.models[modelType];\n            }\n\n        };\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(WrappedComponent, _extends({}, props, extraProps));\n    };\n    WithAuth.displayName = 'WithAuth(' + __WEBPACK_IMPORTED_MODULE_2_recompose_getDisplayName___default()(WrappedComponent) + ')';\n    WithAuth.contextTypes = {\n        d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n    };\n    return WithAuth;\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (withAuth);\n\n/***/ }),\n\n/***/ 3562:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__field_order__ = __webpack_require__(1368);\n\n\n\n/*\n    The stepper sets the style of the fields of the not active step to \"display: none\"\n    to hide them from view. For this to work the component of the field needs to recieve\n    the style from props. If the fields are not hidden when changing the active step\n    then check if the component of the corresponding fields are receiving and using the\n    style from props in its outer div.\n*/\n\nvar fieldGroupsForModelType = new Map([['programRule', [{\n    label: 'enter_program_rule_details',\n    fields: ['program', 'programStage', 'name', 'description', 'priority']\n}, {\n    label: 'enter_program_rule_expression',\n    fields: ['condition']\n}, {\n    label: 'define_program_rule_actions',\n    fields: ['programRuleActions']\n}]], ['dataSetNotificationTemplate', [{\n    label: 'what_to_send',\n    fields: ['name', 'code', 'dataSets', 'messageTemplate']\n}, {\n    label: 'when_to_send_it',\n    fields: ['dataSetNotificationTrigger', 'relativeScheduledDays', 'sendStrategy']\n}, {\n    label: 'who_to_send_it_to',\n    fields: ['notificationRecipient', 'recipientUserGroup', 'deliveryChannels']\n}]], ['programNotificationTemplate', [{\n    label: 'what_to_send',\n    fields: ['name', 'messageTemplate']\n}, {\n    label: 'when_to_send_it',\n    fields: ['notificationTrigger', 'relativeScheduledDays']\n}, {\n    label: 'who_to_send_it_to',\n    fields: ['notificationRecipient', 'recipientUserGroup', 'deliveryChannels', 'recipientProgramAttribute', 'notifyUsersInHierarchyOnly', 'notifyParentOrganisationUnitOnly']\n}]], ['programStageNotificationTemplate', [{\n    label: 'what_to_send',\n    fields: ['name', 'messageTemplate']\n}, {\n    label: 'when_to_send_it',\n    fields: ['notificationTrigger', 'relativeScheduledDays']\n}, {\n    label: 'who_to_send_it_to',\n    fields: ['notificationRecipient', 'recipientUserGroup', 'deliveryChannels', 'recipientDataElement', 'recipientProgramAttribute', 'notifyUsersInHierarchyOnly', 'notifyParentOrganisationUnitOnly']\n}]], ['programIndicator', [{\n    label: 'program_indicator__details',\n    fields: ['program', 'name', 'shortName', 'code', 'style', 'description', 'decimals', 'aggregationType', 'analyticsType', 'analyticsPeriodBoundaries', 'displayInForm', 'legendSets', 'aggregateExportCategoryOptionCombo', 'aggregateExportAttributeOptionCombo']\n}, {\n    label: 'program_indicator__edit_expression',\n    fields: ['expression']\n}, {\n    label: 'program_indicator__edit_filter',\n    fields: ['filter']\n}]]]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    for: function _for(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            return fieldGroupsForModelType.get(modelType);\n        }\n\n        return [{\n            label: 'details',\n            fields: __WEBPACK_IMPORTED_MODULE_1__field_order__[\"a\" /* default */].for(modelType)\n        }];\n    },\n    isGroupedFields: function isGroupedFields(modelType) {\n        return modelType && fieldGroupsForModelType.has(modelType);\n    },\n    getStepLength: function getStepLength(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            var modelGroup = fieldGroupsForModelType.get(modelType);\n            return modelGroup.length;\n        }\n        return 0;\n    },\n    groupNoByName: function groupNoByName(fieldName, modelType) {\n        if (this.isGroupedFields(modelType)) {\n            var modelGroup = fieldGroupsForModelType.get(modelType);\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"findIndex\"])(function (group) {\n                return group.fields.includes(fieldName);\n            }, modelGroup);\n        }\n        return 0;\n    },\n    groupNameByStep: function groupNameByStep(stepNo, modelType) {\n        if (this.isGroupedFields(modelType)) {\n            var modelGroup = fieldGroupsForModelType.get(modelType);\n            return modelGroup[stepNo].label;\n        }\n        return '';\n    },\n    groupsByField: function groupsByField(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            return fieldGroupsForModelType.get(modelType).map(function (group) {\n                return group.fields;\n            }).reduce(function (fieldsWithStep, groupFields, stepNo) {\n                groupFields.map(function (field) {\n                    return fieldsWithStep[field] = stepNo;\n                });\n                return fieldsWithStep;\n            }, {});\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 3566:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__ = __webpack_require__(319);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__ = __webpack_require__(3544);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__BackButton_component__ = __webpack_require__(3569);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_utils__ = __webpack_require__(207);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction FormHeading(_ref, context) {\n    var level = _ref.level,\n        schema = _ref.schema,\n        children = _ref.children,\n        groupName = _ref.groupName,\n        isDirtyHandler = _ref.isDirtyHandler,\n        skipTranslation = _ref.skipTranslation,\n        props = _objectWithoutProperties(_ref, ['level', 'schema', 'children', 'groupName', 'isDirtyHandler', 'skipTranslation']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { level: level }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__BackButton_component__[\"a\" /* default */], {\n            onClick: function onClick() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__router_utils__[\"b\" /* goToAndScrollUp */])('/list/' + groupName + '/' + schema);\n            },\n            iconStyle: { top: 3 },\n            isDirtyHandler: isDirtyHandler\n        }),\n        skipTranslation ? children : context.d2.i18n.getTranslation(children),\n        schema && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__[\"a\" /* default */], { schema: schema })\n    );\n}\n\nFormHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array]),\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    groupName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    skipTranslation: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: function isDirtyHandler() {},\n    level: 2,\n    children: '',\n    skipTranslation: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(FormHeading));\n\n/***/ }),\n\n/***/ 3567:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createFieldConfigForModelTypes; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = addUniqueValidatorWhenUnique;\n/* unused harmony export isAttribute */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = createFieldConfigsFor;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = createFormFor;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return addPropsToFieldConfig; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream__ = __webpack_require__(755);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__ = __webpack_require__(1371);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forms_FormFieldsForModel__ = __webpack_require__(1389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__forms_FormFieldsManager__ = __webpack_require__(1390);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__ = __webpack_require__(1368);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__config_field_config_field_groups__ = __webpack_require__(3562);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__config_field_overrides_index__ = __webpack_require__(1387);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__forms_fields__ = __webpack_require__(759);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__form_rules__ = __webpack_require__(3629);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getLabelText(labelText) {\n    var fieldConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // Add required indicator when the field is required\n    if (fieldConfig.props && fieldConfig.props.isRequired) {\n        return labelText + ' (*)';\n    }\n    return labelText;\n}\n\nfunction createAttributeFieldConfigs(d2, schemaName) {\n    var modelDefinition = d2.models[schemaName];\n\n    return Object.keys(modelDefinition.attributeProperties).map(function (attributeName) {\n        var attribute = modelDefinition.attributeProperties[attributeName];\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__forms_fields__[\"a\" /* createFieldConfig */])({\n            name: attribute.name,\n            valueType: attribute.valueType,\n            type: __WEBPACK_IMPORTED_MODULE_11__forms_fields__[\"b\" /* typeToFieldMap */].get(attribute.optionSet ? 'CONSTANT' : attribute.valueType),\n            required: Boolean(attribute.mandatory),\n            fieldOptions: {\n                labelText: attribute.name,\n                options: attribute.optionSet ? attribute.optionSet.options.map(function (option) {\n                    return {\n                        name: option.displayName || option.name,\n                        value: option.code\n                    };\n                }) : []\n            }\n        }, modelDefinition, d2.models);\n    });\n}\n\n// Translate the sync validator messages if there are any validators\nfunction translateValidators(fieldConfig, d2) {\n    if (fieldConfig.validators) {\n        fieldConfig.validators = fieldConfig.validators.map(function (validator) {\n            return _extends({}, validator, {\n                message: d2.i18n.getTranslation(validator.message)\n            });\n        });\n    }\n}\n\n// Get the field's label with required indicator if the field is required\n// Save one translated label for validation messages\nfunction setRequiredFieldsLabelText(fieldConfig, d2) {\n    fieldConfig.translatedName = d2.i18n.getTranslation(fieldConfig.props.labelText);\n    fieldConfig.props.labelText = getLabelText(fieldConfig.translatedName, fieldConfig);\n}\n\n/* \n * If the modelType are grouped in field-groups.js, the step number and group/step name \n * will be added to the fieldConfig. This string can later be used for the validating\n * step in EditModelForm.isRequiredFieldsValid to tell the user which step to find the \n * non-valid required field.\n */\nfunction setRequiredFieldsStepName(fieldConfig, modelType, d2) {\n    // TODO: Find way to fix programNotificationTemplate sending the correct modelType\n    if (__WEBPACK_IMPORTED_MODULE_9__config_field_config_field_groups__[\"a\" /* default */].isGroupedFields(modelType) && modelType !== 'programNotificationTemplate') {\n        var stepNo = __WEBPACK_IMPORTED_MODULE_9__config_field_config_field_groups__[\"a\" /* default */].groupNoByName(fieldConfig.name, modelType);\n        var stepName = __WEBPACK_IMPORTED_MODULE_9__config_field_config_field_groups__[\"a\" /* default */].groupNameByStep(stepNo, modelType);\n        fieldConfig.step = stepNo + 1 + ': ' + d2.i18n.getTranslation(stepName);\n    }\n}\n\nvar createFieldConfigForModelTypes = function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(modelType, forcedFieldOrderNames) {\n        var includeAttributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var customFieldOrderName = arguments[3];\n\n        var d2, formFieldsManager, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _ref2, _ref3, fieldName, overrideConfig;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context.sent;\n                        formFieldsManager = new __WEBPACK_IMPORTED_MODULE_7__forms_FormFieldsManager__[\"a\" /* default */](new __WEBPACK_IMPORTED_MODULE_6__forms_FormFieldsForModel__[\"a\" /* default */](d2.models));\n\n                        formFieldsManager.setFieldOrder(forcedFieldOrderNames || __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__[\"a\" /* default */].for(modelType));\n\n                        _iteratorNormalCompletion = true;\n                        _didIteratorError = false;\n                        _iteratorError = undefined;\n                        _context.prev = 8;\n                        for (_iterator = __WEBPACK_IMPORTED_MODULE_10__config_field_overrides_index__[\"a\" /* default */].for(customFieldOrderName || modelType)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            _ref2 = _step.value;\n                            _ref3 = _slicedToArray(_ref2, 2);\n                            fieldName = _ref3[0];\n                            overrideConfig = _ref3[1];\n\n                            formFieldsManager.addFieldOverrideFor(fieldName, overrideConfig);\n                        }\n\n                        _context.next = 16;\n                        break;\n\n                    case 12:\n                        _context.prev = 12;\n                        _context.t0 = _context['catch'](8);\n                        _didIteratorError = true;\n                        _iteratorError = _context.t0;\n\n                    case 16:\n                        _context.prev = 16;\n                        _context.prev = 17;\n\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n\n                    case 19:\n                        _context.prev = 19;\n\n                        if (!_didIteratorError) {\n                            _context.next = 22;\n                            break;\n                        }\n\n                        throw _iteratorError;\n\n                    case 22:\n                        return _context.finish(19);\n\n                    case 23:\n                        return _context.finish(16);\n\n                    case 24:\n                        return _context.abrupt('return', formFieldsManager.getFormFieldsForModel({ modelDefinition: d2.models[modelType] }, customFieldOrderName).map(function (fieldConfig) {\n                            translateValidators(fieldConfig, d2);\n                            setRequiredFieldsStepName(fieldConfig, modelType, d2);\n                            setRequiredFieldsLabelText(fieldConfig, d2);\n                            return fieldConfig;\n                        }).concat(includeAttributes ? createAttributeFieldConfigs(d2, modelType) : []));\n\n                    case 25:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this, [[8, 12, 16, 24], [17,, 19, 23]]);\n    }));\n\n    return function createFieldConfigForModelTypes(_x2, _x3) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nfunction createUniqueValidator(fieldConfig, modelDefinition, uid) {\n    return function checkAgainstServer(value) {\n        // Don't validate against the server when we have no value\n        if (!value || !value.trim()) {\n            return Promise.resolve(true);\n        }\n\n        var modelDefinitionWithFilter = modelDefinition.filter().on(fieldConfig.fieldOptions.referenceProperty).equals(value);\n\n        if (uid) {\n            modelDefinitionWithFilter = modelDefinitionWithFilter.filter().on('id').notEqual(uid);\n        }\n\n        return modelDefinitionWithFilter.list().then(function (collection) {\n            if (collection.size !== 0) {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n                    return d2.i18n.getTranslation('value_not_unique');\n                }).then(function (message) {\n                    return Promise.reject(message);\n                });\n            }\n            return Promise.resolve(true);\n        });\n    };\n}\n\nfunction addUniqueValidatorWhenUnique(fieldConfig, modelToEdit) {\n    if (fieldConfig.unique) {\n        fieldConfig.asyncValidators = [createUniqueValidator(fieldConfig, modelToEdit.modelDefinition, modelToEdit.id)];\n    }\n\n    return fieldConfig;\n}\n\nfunction isAttribute(model, fieldConfig) {\n    return model.attributes && new Set(Object.keys(model.attributes)).has(fieldConfig.name);\n}\n\nvar transformValuesUsingConverters = function transformValuesUsingConverters(fieldConfig) {\n    if (fieldConfig.beforePassToFieldConverter) {\n        return _extends({}, fieldConfig, {\n            value: fieldConfig.beforePassToFieldConverter(fieldConfig.value)\n        });\n    }\n\n    return fieldConfig;\n};\n\nvar addModelToFieldConfigProps = function addModelToFieldConfigProps(model) {\n    return function (fieldConfig) {\n        return _extends({}, fieldConfig, {\n            props: _extends({}, fieldConfig.props, { model: model })\n        });\n    };\n};\n\nfunction addValuesToFieldConfigs(fieldConfigs, model) {\n    return fieldConfigs.map(function (fieldConfig) {\n        if (isAttribute(model, fieldConfig)) {\n            return _extends({}, fieldConfig, {\n                value: model.attributes[fieldConfig.name]\n            });\n        }\n\n        return _extends({}, fieldConfig, {\n            value: model[fieldConfig.name]\n        });\n    }).map(transformValuesUsingConverters).map(addModelToFieldConfigProps(model));\n}\n\n/**\n * Create fieldConfigs for a schema\n * @param schema - Schema to create configs for\n * @param fieldNames - Fields to use\n * @param filterFieldConfigs - A filter function that should return an array of fieldConfigs (must be same amount of fieldConfigs)\n * @param includeAttributes - Whether to include attributes\n * @param runRules - Whether to apply field-rules specified in field-rules file.\n * @param customFieldOrderName - Custom name for the \"schema\", useful if the same schema has multiple purposes.\n * Ie. programNotificationTemplate, which are used in program Notification and programStage notifications.\n */\nfunction createFieldConfigsFor(schema, fieldNames) {\n    var filterFieldConfigs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : __WEBPACK_IMPORTED_MODULE_4_lodash_fp__[\"identity\"];\n    var includeAttributes = arguments[3];\n    var runRules = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var customFieldOrderName = arguments[5];\n\n    // eslint-disable-next-line no-param-reassign\n    filterFieldConfigs = filterFieldConfigs || __WEBPACK_IMPORTED_MODULE_4_lodash_fp__[\"identity\"];\n    return __WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream___default()(function (props$) {\n        return props$.filter(function (_ref4) {\n            var model = _ref4.model;\n            return model;\n        }).combineLatest(__WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(createFieldConfigForModelTypes(schema, fieldNames, includeAttributes, customFieldOrderName)), function (props, fieldConfigs) {\n            var fieldConfigsWithValues = addValuesToFieldConfigs(fieldConfigs, props.model);\n            var fieldConfigsToUse = runRules ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__form_rules__[\"a\" /* applyRulesToFieldConfigs */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__form_rules__[\"b\" /* getRulesForModelType */])(customFieldOrderName || schema), filterFieldConfigs(fieldConfigsWithValues), props.model) : fieldConfigsWithValues;\n            return _extends({}, props, {\n                fieldConfigs: fieldConfigsToUse\n            });\n        });\n    });\n}\n\nvar convertValueUsingFieldConverter = function convertValueUsingFieldConverter(fieldConfigs, onChangeCallback) {\n    return function (fieldName, value) {\n        var fieldConfig = fieldConfigs.find(function (fieldConfig) {\n            return fieldConfig.name === fieldName;\n        });\n        var converter = fieldConfig.beforeUpdateConverter || __WEBPACK_IMPORTED_MODULE_4_lodash_fp__[\"identity\"];\n\n        return onChangeCallback(fieldName, converter(value));\n    };\n};\n\n// TODO: Refactor includeAttributes magic flag to separate method `createFormWithAttributesFor`\nfunction createFormFor(source$, schema, properties, includeAttributes, customFieldOrderName) {\n    var enhance = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash_fp__[\"compose\"])(__WEBPACK_IMPORTED_MODULE_3_recompose_mapPropsStream___default()(function (props$) {\n        return props$.combineLatest(source$, function (props, model) {\n            return _extends({}, props, { model: model });\n        });\n    }), createFieldConfigsFor(schema, properties, undefined, includeAttributes, false, customFieldOrderName));\n\n    function CreatedFormBuilderForm(_ref5) {\n        var fieldConfigs = _ref5.fieldConfigs,\n            model = _ref5.model,\n            editFieldChanged = _ref5.editFieldChanged,\n            _ref5$detailsFormStat = _ref5.detailsFormStatusChange,\n            detailsFormStatusChange = _ref5$detailsFormStat === undefined ? __WEBPACK_IMPORTED_MODULE_4_lodash_fp__[\"noop\"] : _ref5$detailsFormStat;\n\n        var onUpdateField = convertValueUsingFieldConverter(fieldConfigs, editFieldChanged);\n        var fieldConfigsAfterRules = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__form_rules__[\"a\" /* applyRulesToFieldConfigs */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__form_rules__[\"b\" /* getRulesForModelType */])(customFieldOrderName || schema), fieldConfigs, model);\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__[\"a\" /* default */], {\n            fields: fieldConfigsAfterRules,\n            onUpdateField: onUpdateField,\n            onUpdateFormStatus: detailsFormStatusChange\n        });\n    }\n\n    return enhance(CreatedFormBuilderForm);\n}\n\n/**\n * Add given props to the fieldConfig.\n * If fieldNames has values, only fields with those name will be given the props.\n * Useful to be given to map() of fieldConfigs.\n *\n * Ie: Only fields with name='shortname' will be given the props.\n * @example\n *  fieldConfigs.map(addPropsToFieldConfig[props, ['shortName']\n * @param fieldNames to add the props to.\n * @param props to add to fields\n * @returns {function(*): {props: {}}} fieldConfig with the props added.\n */\nvar addPropsToFieldConfig = function addPropsToFieldConfig(props) {\n    var fieldNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return function (fieldConfig) {\n        return fieldNames.length < 1 || fieldNames.includes(fieldConfig.name) ? _extends({}, fieldConfig, { props: _extends({}, fieldConfig.props, props) }) : fieldConfig;\n    };\n};\n\n/***/ }),\n\n/***/ 3569:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__ = __webpack_require__(208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__ = __webpack_require__(249);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction BackButton(props, context) {\n    var tooltip = props.tooltip,\n        onClick = props.onClick,\n        _props$isDirtyHandler = props.isDirtyHandler,\n        isDirtyHandler = _props$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */]) : _props$isDirtyHandler,\n        otherProps = _objectWithoutProperties(props, ['tooltip', 'onClick', 'isDirtyHandler']);\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        var isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick.apply(undefined, arguments);\n        } else if (\n        // eslint-disable-next-line no-restricted-globals\n        confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default.a,\n        _extends({\n            tooltip: tooltip || context.d2.i18n.getTranslation('back'),\n            tooltipPosition: 'bottom-right',\n            onClick: onClickWithConfirm\n        }, otherProps, {\n            iconClassName: 'material-icons'\n        }),\n        '\\uE5C4'\n    );\n}\nBackButton.propTypes = {\n    tooltip: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(BackButton));\n\n/***/ }),\n\n/***/ 3570:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\nfunction SaveButton(props, _ref) {\n    var d2 = _ref.d2;\n\n    var label = props.label,\n        isSaving = props.isSaving,\n        isValid = props.isValid,\n        onClick = props.onClick,\n        rest = _objectWithoutProperties(props, ['label', 'isSaving', 'isValid', 'onClick']);\n\n    var buttonText = label ? label : isSaving ? d2.i18n.getTranslation('saving') : d2.i18n.getTranslation('save');\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default.a, _extends({}, rest, {\n        primary: true,\n        onClick: onClick,\n        label: buttonText,\n        disabled: isSaving\n    }));\n}\n\nSaveButton.propTypes = {\n    label: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    isSaving: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    isValid: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onClick: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nSaveButton.defaultProps = {\n    label: '',\n    isSaving: false,\n    isValid: true\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(SaveButton));\n\n/***/ }),\n\n/***/ 3628:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__ = __webpack_require__(249);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction CancelButton(_ref, context) {\n    var onClick = _ref.onClick,\n        isPristine = _ref.isPristine,\n        _ref$isDirtyHandler = _ref.isDirtyHandler,\n        isDirtyHandler = _ref$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */]) : _ref$isDirtyHandler,\n        props = _objectWithoutProperties(_ref, ['onClick', 'isPristine', 'isDirtyHandler']);\n\n    var shouldConfirm = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        if (!shouldConfirm) {\n            onClick.apply(undefined, arguments);\n        } else if (\n        // eslint-disable-next-line no-restricted-globals\n        confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_FlatButton___default.a, _extends({}, props, {\n        onClick: onClickWithConfirm,\n        secondary: shouldConfirm,\n        label: context.d2.i18n.getTranslation('cancel')\n    }));\n}\n\nCancelButton.propTypes = {\n    onClick: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    /* A handler that should return an object with \"dirty\"-key,\n    describing if the current edited model is dirty\n     */\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(CancelButton));\n\n/***/ }),\n\n/***/ 3629:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getRulesForModelType;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = applyRulesToFieldConfigs;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop__ = __webpack_require__(468);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_field_rules__ = __webpack_require__(3651);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__ = __webpack_require__(470);\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n/* eslint-disable no-use-before-define */\nvar whenOperatorMap = new Map([['EQUALS', equalsOperator], ['NOT_EQUALS', notEqualsOperator], ['HAS_VALUE', hasValueOperator], ['HAS_NO_VALUE', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash_fp__[\"negate\"])(hasValueOperator)], ['HAS_STRING_VALUE', hasStringValueOperator], ['ONEOF', oneOfOperator], ['NONEOF', noneOfOperator], ['SYSTEM_SETTING_IS_TRUE', systemSettingIsTrueOperator], ['SYSTEM_SETTING_IS_FALSE', systemSettingIsFalseOperator], ['IS_VALID_POINT', isPointOperator], ['IS_HIDDEN_FIELD', isHiddenFieldOperator]]);\n\nvar operationsMap = new Map([['SET_PROP', setProp], ['CHANGE_VALUE', changeValue], ['HIDE_FIELD', hideField], ['SHOW_FIELD', showField]]);\n/* eslint-enable no-use-before-define */\n\nfunction getRulesForModelType(fieldName) {\n    if (__WEBPACK_IMPORTED_MODULE_3__config_field_rules__[\"a\" /* default */].has(fieldName)) {\n        return __WEBPACK_IMPORTED_MODULE_3__config_field_rules__[\"a\" /* default */].get(fieldName);\n    }\n\n    return [];\n}\n\nfunction changeValue(fieldConfig, operationParams, ruleResult, model) {\n    if (ruleResult) {\n        operationParams.setValue(model, fieldConfig);\n    }\n}\n\nfunction setProp(fieldConfig, operationParams, ruleResult) {\n    if (!fieldConfig) {\n        return;\n    }\n    if (ruleResult) {\n        return fieldConfig.props[operationParams.propName] = operationParams.thenValue;\n    }\n\n    return fieldConfig.props[operationParams.propName] = operationParams.elseValue;\n}\n\n/*\n    Uses the swapping variable \"hiddenComponent\" when temporary hiding a field.\n    When the field should be shown again, the content of \"hiddenComponent\" is\n    put back to the \"component\" variable.\n*/\nfunction hideField(fieldConfig, operationParams, ruleResult) {\n    if (ruleResult && fieldConfig) {\n        fieldConfig.hiddenComponent = fieldConfig.hiddenComponent || fieldConfig.component;\n        fieldConfig.component = function () {\n            return null;\n        };\n    } else if (fieldConfig && fieldConfig.hiddenComponent) {\n        fieldConfig.component = fieldConfig.hiddenComponent;\n        delete fieldConfig.hiddenComponent;\n    }\n}\n\nfunction showField(fieldConfig, operationParams, ruleResult) {\n    if (ruleResult && fieldConfig.hiddenComponent) {\n        fieldConfig.component = fieldConfig.hiddenComponent;\n        delete fieldConfig.hiddenComponent;\n    } else {\n        fieldConfig.hiddenComponent = fieldConfig.hiddenComponent || fieldConfig.component;\n        fieldConfig.component = function () {\n            return null;\n        };\n    }\n}\n\nfunction getOperation(operationType) {\n    return operationsMap.has(operationType) ? operationsMap.get(operationType) : __WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop___default.a;\n}\n\nfunction getWhenOperator(operatorType) {\n    return whenOperatorMap.has(operatorType) ? whenOperatorMap.get(operatorType) : __WEBPACK_IMPORTED_MODULE_0_d2_utilizr_lib_noop___default.a;\n}\n\nfunction hasValueOperator(value) {\n    return value !== undefined && value !== null;\n}\n\nfunction hasStringValueOperator(value) {\n    return hasValueOperator(value) && value.toString().trim().length > 0;\n}\n\nfunction equalsOperator(left, right) {\n    return left === right;\n}\n\nfunction notEqualsOperator(left, right) {\n    return left !== right;\n}\n\nfunction oneOfOperator(value, list) {\n    return list.indexOf(value) >= 0;\n}\n\nfunction noneOfOperator(value, list) {\n    return list.indexOf(value) < 0;\n}\n\nfunction isPointOperator(value) {\n    // TODO: Use the same validator as the one in the coordinate-field (perhaps move it to d2/d2-ui)\n    try {\n        var poly = JSON.parse(value);\n        return Array.isArray(poly) && (poly.length === 0 || poly.length === 2 && !isNaN(poly[0]) && !isNaN(poly[1]));\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction isHiddenFieldOperator(a, b, fieldConfig) {\n    return fieldConfig.hasOwnProperty('hiddenComponent');\n}\n\nfunction systemSettingIsTrueOperator(value, settingKey) {\n    var settingsValue = __WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__[\"a\" /* default */].getState() ? __WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__[\"a\" /* default */].getState()[settingKey] : undefined;\n    return settingsValue === true;\n}\n\nfunction systemSettingIsFalseOperator(value, settingKey) {\n    var settingsValue = __WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__[\"a\" /* default */].getState() ? __WEBPACK_IMPORTED_MODULE_4__App_systemSettingsStore__[\"a\" /* default */].getState()[settingKey] : undefined;\n    return settingsValue === false;\n}\n\nfunction ruleRunner(_ref, fieldConfig, model) {\n    var whenFieldName = _ref.whenFieldName,\n        operatorFn = _ref.operatorFn,\n        whenValue = _ref.whenValue;\n\n    return operatorFn(model[whenFieldName], whenValue, fieldConfig, model, whenFieldName);\n}\n\nfunction rulesRunner(rules, rule, modelToEdit, fieldConfigs) {\n    return rules.map(function (whenRule, index) {\n        // log.debug(`For field ${rule.field} run the when-rule where field ` +\n        //     ` ${whenRule.field || rule.field} ${getWhenOperator(whenRule.operator).name}` +\n        //     ` ${whenRule.value || ''} ${rule.field} ${rules.length > (index + 1) && 'then run'}`);\n\n        var fieldConfigForRule = fieldConfigs.find(function (fieldConfig) {\n            return fieldConfig.name === (whenRule.field || rule.field);\n        });\n\n        var whenFieldName = whenRule.field ? whenRule.field : rule.field;\n        var operatorFn = getWhenOperator(whenRule.operator);\n        var whenValue = whenRule.value;\n\n        return ruleRunner({ whenFieldName: whenFieldName, operatorFn: operatorFn, whenValue: whenValue }, fieldConfigForRule, modelToEdit);\n    });\n}\n\nfunction applyRulesToFieldConfigs(rules, fieldConfigs, modelToEdit) {\n    rules.forEach(function (rule) {\n        var rules = __WEBPACK_IMPORTED_MODULE_2_d2_utilizr_lib_isArray___default()(rule.when) ? rule.when : [rule.when];\n        var rulePassed = rulesRunner(rules, rule, modelToEdit, fieldConfigs).some(function (result) {\n            return result === true;\n        });\n\n        // log.debug('And the result is', rulePassed);\n\n        (rule.operations || [rule.operation]).forEach(function (operation) {\n            var fieldConfigForOperation = fieldConfigs.find(function (fieldConfig) {\n                return fieldConfig.name === (operation.field || rule.field);\n            });\n\n            var field = operation.field,\n                type = operation.type,\n                operationParams = _objectWithoutProperties(operation, ['field', 'type']);\n\n            // log.debug(`---- For field ${field || rule.field} \n            //         execute ${getOperation(type).name} \n            //         with`, operationParams);\n\n            getOperation(type)(fieldConfigForOperation, operationParams, rulePassed, modelToEdit);\n        });\n    });\n\n    return fieldConfigs;\n}\n\n/***/ }),\n\n/***/ 3632:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = FormButtons;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__);\n\n\n\nfunction FormButtons(props) {\n    var defaultStyle = {\n        marginTop: '1rem'\n    };\n\n    var buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem'\n    };\n\n    var buttonsToRender = __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default()(props.children) ? props.children : [props.children];\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: Object.assign(defaultStyle, props.style) },\n        buttonsToRender.map(function (child, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(child, {\n                style: buttonStyle,\n                key: index\n            });\n        })\n    );\n}\nFormButtons.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.oneOfType([__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array, __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object]).isRequired,\n    isFormValid: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n/***/ }),\n\n/***/ 3650:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = defaultAnalyticsPeriodBoundaries;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = createDefaultRuleForField;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__ = __webpack_require__(1388);\n\n\n\n\nfunction defaultAnalyticsPeriodBoundaries(type, current) {\n    var defaultProps = {\n        enrollment: [{\n            analyticsPeriodBoundaryType: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"g\" /* AFTER_START_OF_REPORTING_PERIOD */],\n            boundaryTarget: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"c\" /* ENROLLMENT_DATE */]\n        }, {\n            analyticsPeriodBoundaryType: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"f\" /* BEFORE_END_OF_REPORTING_PERIOD */],\n            boundaryTarget: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"c\" /* ENROLLMENT_DATE */]\n        }],\n        event: [{\n            analyticsPeriodBoundaryType: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"g\" /* AFTER_START_OF_REPORTING_PERIOD */],\n            boundaryTarget: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"b\" /* EVENT_DATE */]\n        }, {\n            analyticsPeriodBoundaryType: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"f\" /* BEFORE_END_OF_REPORTING_PERIOD */],\n            boundaryTarget: __WEBPACK_IMPORTED_MODULE_1__field_overrides_program_indicator_enums__[\"b\" /* EVENT_DATE */]\n        }]\n    };\n\n    function isNotDefault(val) {\n        return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"isEqual\"])(val, defaultProps.event) && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"isEqual\"])(val, defaultProps.enrollment);\n    }\n\n    if (current && isNotDefault(current)) {\n        return current;\n    }\n\n    return defaultProps[type];\n}\n\n/**\n * Helper function to create a \"default\"-rule for a field, that can\n * be used in field-rules.\n * This will set the value of the field whenever the value is undefined.\n * When a value is set to no-value, it is null. Undefined only\n * occurs when it is not set at all.\n *\n * @param field Fieldname for the field to set a default value for.\n * @param defaultValue The default value for the field.\n */\nfunction createDefaultRuleForField(field, defaultValue) {\n    return {\n        field: field,\n        when: [{\n            operator: 'EQUALS',\n            value: undefined\n        }],\n        operations: [{\n            type: 'CHANGE_VALUE',\n            setValue: function setValue(model, fieldConfig) {\n                if (fieldConfig) {\n                    fieldConfig.value = defaultValue;\n                    model[fieldConfig.name] = defaultValue;\n                }\n            }\n        }]\n    };\n}\n\n/***/ }),\n\n/***/ 3651:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__ = __webpack_require__(3650);\n\n\n/**\n * Rule functions in EditModel/form-rules\n * \n * Rules for the form fields.\n * If multiple `when` objects are specified these are evaluated as an OR.\n * The following would result check if either of the statements return true\n * ```\n when: [{\n        field: 'valueType',\n        operator: 'ONEOF',\n        value: [\n            'TEXT',\n            'LONG_TEXT',\n            'LETTER',\n            'PHONE_NUMBER',\n            'EMAIL',\n            'TRACKER_ASSOCIATE',\n            'USERNAME',\n            'FILE_RESOURCE',\n            'COORDINATE',\n        ]\n        }, {\n            field: 'domainType',\n            operator: 'EQUALS',\n            value: 'TRACKER',\n        }],\n * ```\n */\n\n/*\n    Sets the valueType to the valueType of the optionSet\n    TODO: This function does a mutable modification. It is more efficient this way however it might\n    collide and is not very transparent. Especially the fact that the new value needs to be set\n    on both the model and the fieldConfig is not very clear.\n    It would probably make sense to run the model modification rules before sending the values to\n    the FormBuilder. */\nfunction setValueTypeToOptionSet(model, fieldConfig) {\n    // Do not not change the valueType when there is no optionSet or when there is no valueType\n    // for the optionSet (which can occur during the initial run of the rules)\n    if (model.optionSet && model.optionSet.valueType) {\n        // Update the fieldConfig to contain the correct value\n        fieldConfig.value = model.optionSet.valueType;\n\n        // Update the model only when the value is not the same as the current\n        if (model[fieldConfig.name] !== model.optionSet.valueType) {\n            model[fieldConfig.name] = model.optionSet.valueType;\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new Map([['dataElement', [{\n    field: 'domainType',\n    when: {\n        operator: 'EQUALS',\n        value: 'TRACKER'\n    },\n    operations: [{\n        field: 'categoryCombo',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}, {\n    field: 'valueType',\n    when: {\n        field: 'optionSet',\n        operator: 'HAS_VALUE'\n    },\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }, {\n        type: 'CHANGE_VALUE',\n        setValue: setValueTypeToOptionSet\n    }]\n}, {\n    field: 'aggregationType',\n    when: {\n        field: 'valueType',\n        operator: 'ONEOF',\n        value: ['TEXT', 'LONG_TEXT', 'LETTER', 'PHONE_NUMBER', 'EMAIL', 'TRACKER_ASSOCIATE', 'USERNAME', 'FILE_RESOURCE', 'COORDINATE']\n    },\n    operations: [{\n        field: 'aggregationType',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }, {\n        field: 'aggregationType',\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            fieldConfig.value = 'NONE';\n            model[fieldConfig.name] = 'NONE';\n        }\n    }]\n}]], ['dataSetNotificationTemplate', [{\n    when: [{\n        field: 'dataSetNotificationTrigger',\n        operator: 'NOT_EQUALS',\n        value: 'SCHEDULED_DAYS'\n    }],\n    operations: [{\n        field: 'relativeScheduledDays',\n        type: 'HIDE_FIELD'\n    }, {\n        field: 'sendStrategy',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'deliveryChannels',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'ORGANISATION_UNIT_CONTACT'\n    }],\n    operations: [{\n        field: 'deliveryChannels',\n        type: 'HIDE_FIELD'\n    }]\n}]], ['attribute', [{\n    field: 'valueType',\n    when: {\n        field: 'optionSet',\n        operator: 'HAS_VALUE'\n    },\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }, {\n        type: 'CHANGE_VALUE',\n        setValue: setValueTypeToOptionSet\n    }]\n}]], ['trackedEntityAttribute', [{\n    field: 'unique',\n    when: [{\n        field: 'valueType',\n        operator: 'ONEOF',\n        value: ['BOOLEAN', 'TRUE_ONLY', 'DATE', 'TRACKER_ASSOCIATE', 'USERNAME', 'OPTION_SET']\n    }],\n    operations: [{\n        field: 'unique',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }, {\n        field: 'unique',\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            fieldConfig.value = false;\n            model.unique = false;\n        }\n    }]\n}, {\n    field: 'valueType',\n    when: {\n        field: 'optionSet',\n        operator: 'HAS_VALUE'\n    },\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }, {\n        type: 'CHANGE_VALUE',\n        setValue: setValueTypeToOptionSet\n    }]\n}, {\n    field: 'orgunitScope',\n    when: [{\n        field: 'unique',\n        operator: 'NOT_EQUALS',\n        value: true\n    }, {\n        field: 'valueType',\n        operator: 'ONEOF',\n        value: ['BOOLEAN', 'TRUE_ONLY', 'DATE', 'TRACKER_ASSOCIATE', 'USERNAME', 'OPTION_SET']\n    }],\n    operations: [{ type: 'HIDE_FIELD' }]\n}, {\n    field: 'generated',\n    when: [{\n        field: 'orgunitScope',\n        operator: 'IS_HIDDEN_FIELD'\n    }, {\n        field: 'orgunitScope',\n        operator: 'ONEOF',\n        value: ['organisation_unit']\n    }, {\n        field: 'orgunitScope',\n        operator: 'EQUALS',\n        value: true\n    }],\n    operations: [{\n        type: 'HIDE_FIELD'\n    }, {\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            fieldConfig.value = false;\n            model.generated = false;\n        }\n    }]\n}, {\n    field: 'pattern',\n    when: [{\n        field: 'generated',\n        operator: 'IS_HIDDEN_FIELD'\n    }, {\n        field: 'generated',\n        operator: 'NOT_EQUALS',\n        value: true\n    }],\n    operations: [{\n        type: 'HIDE_FIELD'\n    }, {\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            fieldConfig.value = null;\n            model.pattern = null;\n        }\n    }]\n}]], ['externalMapLayer', [{\n    // When legendSet has value, clear and disable the legendSetUrl field\n    field: 'legendSetUrl',\n    when: [{\n        field: 'legendSet',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        field: 'legendSetUrl',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}, {\n    // When legendSetUrl has value, clear and disable the legendSet field\n    field: 'legendSet',\n    when: [{\n        field: 'legendSetUrl',\n        operator: 'HAS_STRING_VALUE'\n    }],\n    operations: [{\n        field: 'legendSet',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}]], ['organisationUnit', [{\n    field: 'dataSets',\n    when: [{\n        operator: 'SYSTEM_SETTING_IS_FALSE',\n        value: 'keyAllowObjectAssignment'\n    }],\n    operations: [{\n        field: 'dataSets',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'programs',\n    when: [{\n        operator: 'SYSTEM_SETTING_IS_FALSE',\n        value: 'keyAllowObjectAssignment'\n    }],\n    operations: [{\n        field: 'programs',\n        type: 'HIDE_FIELD'\n    }]\n}]], ['programRule', [{\n    field: 'name',\n    when: [{\n        field: 'program',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: false,\n        elseValue: true\n    }]\n}, {\n    field: 'description',\n    when: [{\n        field: 'program',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: false,\n        elseValue: true\n    }]\n}, {\n    field: 'priority',\n    when: [{\n        field: 'program',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: false,\n        elseValue: true\n    }]\n}, {\n    field: 'condition',\n    when: [{\n        field: 'program',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: false,\n        elseValue: true\n    }]\n}, {\n    field: 'programRuleActions',\n    when: [{\n        field: 'program',\n        operator: 'HAS_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: false,\n        elseValue: true\n    }]\n}]], ['programRuleVariable', [{\n    field: 'program',\n    when: [{\n        field: 'dataElement',\n        operator: 'HAS_STRING_VALUE'\n    }, {\n        field: 'trackedEntityAttribute',\n        operator: 'HAS_STRING_VALUE'\n    }, {\n        field: 'programStage',\n        operator: 'HAS_STRING_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}, {\n    field: 'dataElement',\n    when: [{\n        field: 'programRuleVariableSourceType',\n        operator: 'ONEOF',\n        value: ['CALCULATED_VALUE', 'TEI_ATTRIBUTE']\n    }],\n    operations: [{\n        field: 'dataElement',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'trackedEntityAttribute',\n    when: [{\n        field: 'programRuleVariableSourceType',\n        operator: 'NOT_EQUALS',\n        value: 'TEI_ATTRIBUTE'\n    }],\n    operations: [{\n        field: 'trackedEntityAttribute',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'programStage',\n    when: [{\n        field: 'programRuleVariableSourceType',\n        operator: 'NOT_EQUALS',\n        value: 'DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE'\n    }],\n    operations: [{\n        field: 'programStage',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'programStage',\n    when: [{\n        field: 'dataElement',\n        operator: 'HAS_STRING_VALUE'\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}]], ['programStage', [{\n    field: 'autoGenerateEvent',\n    when: [{\n        field: 'autoGenerateEvent',\n        operator: 'NOT_EQUALS',\n        value: true\n    }],\n    operations: [{\n        field: 'openAfterEnrollment',\n        type: 'HIDE_FIELD'\n    }, {\n        field: 'reportDateToUse',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'reportDateToUse',\n    when: [{\n        field: 'openAfterEnrollment',\n        operator: 'NOT_EQUALS',\n        value: true\n    }],\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}]], ['eventProgramStage', [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__[\"a\" /* createDefaultRuleForField */])('validationStrategy', \"ON_COMPLETE\")]], ['programIndicator', [{\n    field: 'analyticsPeriodBoundaries',\n    when: [{\n        field: 'analyticsType',\n        operator: 'EQUALS',\n        value: 'EVENT'\n    }],\n    operations: [{\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            if (fieldConfig) {\n                fieldConfig.value = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__[\"b\" /* defaultAnalyticsPeriodBoundaries */])('event', fieldConfig.value);\n                model[fieldConfig.name] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__[\"b\" /* defaultAnalyticsPeriodBoundaries */])('event', fieldConfig.value);\n            }\n        }\n    }]\n}, {\n    field: 'analyticsPeriodBoundaries',\n    when: [{\n        field: 'analyticsType',\n        operator: 'EQUALS',\n        value: 'ENROLLMENT'\n    }],\n    operations: [{\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            if (fieldConfig) {\n                fieldConfig.value = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__[\"b\" /* defaultAnalyticsPeriodBoundaries */])('enrollment', fieldConfig.value);\n                model[fieldConfig.name] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__field_config_field_defaults__[\"b\" /* defaultAnalyticsPeriodBoundaries */])('enrollment', fieldConfig.value);\n            }\n        }\n    }]\n}]], ['programStageNotificationTemplate', [{\n    field: 'notificationTrigger',\n    when: [{\n        field: 'notificationTrigger',\n        operator: 'NOT_EQUALS',\n        value: 'SCHEDULED_DAYS_DUE_DATE'\n    }],\n    operations: [{\n        field: 'relativeScheduledDays',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NONEOF',\n        value: ['TRACKED_ENTITY_INSTANCE', 'ORGANISATION_UNIT_CONTACT']\n    }],\n    operations: [{\n        field: 'deliveryChannels',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'DATA_ELEMENT'\n    }],\n    operations: [{\n        field: 'recipientDataElement',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'PROGRAM_ATTRIBUTE'\n    }],\n    operations: [{\n        field: 'recipientProgramAttribute',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'USER_GROUP'\n    }],\n    operations: [{\n        field: 'notifyUsersInHierarchyOnly',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'USER_GROUP'\n    }],\n    operations: [{\n        field: 'notifyParentOrganisationUnitOnly',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notifyUsersInHierarchyOnly',\n    when: [{\n        field: 'notifyParentOrganisationUnitOnly',\n        operator: 'EQUALS',\n        value: true\n    }],\n    operations: [{\n        field: 'notifyUsersInHierarchyOnly',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}, {\n    field: 'notifyParentOrganisationUnitOnly',\n    when: [{\n        field: 'notifyUsersInHierarchyOnly',\n        operator: 'EQUALS',\n        value: true\n    }],\n    operations: [{\n        field: 'notifyParentOrganisationUnitOnly',\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}]], ['programNotificationTemplate', [{\n    field: 'notificationTrigger',\n    when: [{\n        field: 'notificationTrigger',\n        operator: 'NONEOF',\n        value: ['SCHEDULED_DAYS_INCIDENT_DATE', 'SCHEDULED_DAYS_ENROLLMENT_DATE']\n    }],\n    operations: [{\n        field: 'relativeScheduledDays',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NONEOF',\n        value: ['TRACKED_ENTITY_INSTANCE', 'ORGANISATION_UNIT_CONTACT']\n    }],\n    operations: [{\n        field: 'deliveryChannels',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'PROGRAM_ATTRIBUTE'\n    }],\n    operations: [{\n        field: 'recipientProgramAttribute',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'USER_GROUP'\n    }],\n    operations: [{\n        field: 'notifyUsersInHierarchyOnly',\n        type: 'HIDE_FIELD'\n    }]\n}, {\n    field: 'notificationRecipient',\n    when: [{\n        field: 'notificationRecipient',\n        operator: 'NOT_EQUALS',\n        value: 'USER_GROUP'\n    }],\n    operations: [{\n        field: 'notifyParentOrganisationUnitOnly',\n        type: 'HIDE_FIELD'\n    }]\n}]], ['categoryCombo', [{\n    field: 'dataDimensionType',\n    when: [{\n        field: 'dataDimensionType',\n        operator: 'HAS_NO_VALUE'\n    }],\n    operations: [{\n        type: 'CHANGE_VALUE',\n        setValue: function setValue(model, fieldConfig) {\n            fieldConfig.value = model[fieldConfig.name] = 'DISAGGREGATION';\n        }\n    }]\n}]], ['sqlView', [{\n    field: 'name',\n    when: {\n        field: 'id',\n        operator: 'HAS_VALUE'\n    },\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}, {\n    field: 'type',\n    when: {\n        field: 'id',\n        operator: 'HAS_VALUE'\n    },\n    operations: [{\n        type: 'SET_PROP',\n        propName: 'disabled',\n        thenValue: true,\n        elseValue: false\n    }]\n}]], ['relationshipType', [{\n    field: 'toFromName',\n    when: {\n        field: 'bidirectional',\n        operator: 'NOT_EQUALS',\n        value: true\n    },\n    operations: [{\n        type: 'HIDE_FIELD'\n    }]\n}]]]));\n\n/***/ }),\n\n/***/ 3659:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pure = __webpack_require__(41);\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _SvgIcon = __webpack_require__(42);\n\nvar _SvgIcon2 = _interopRequireDefault(_SvgIcon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NavigationArrowBack = function NavigationArrowBack(props) {\n  return _react2.default.createElement(\n    _SvgIcon2.default,\n    props,\n    _react2.default.createElement('path', { d: 'M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z' })\n  );\n};\nNavigationArrowBack = (0, _pure2.default)(NavigationArrowBack);\nNavigationArrowBack.displayName = 'NavigationArrowBack';\nNavigationArrowBack.muiName = 'SvgIcon';\n\nexports.default = NavigationArrowBack;\n\n/***/ }),\n\n/***/ 3660:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pure = __webpack_require__(41);\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _SvgIcon = __webpack_require__(42);\n\nvar _SvgIcon2 = _interopRequireDefault(_SvgIcon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NavigationArrowForward = function NavigationArrowForward(props) {\n  return _react2.default.createElement(\n    _SvgIcon2.default,\n    props,\n    _react2.default.createElement('path', { d: 'M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z' })\n  );\n};\nNavigationArrowForward = (0, _pure2.default)(NavigationArrowForward);\nNavigationArrowForward.displayName = 'NavigationArrowForward';\nNavigationArrowForward.muiName = 'SvgIcon';\n\nexports.default = NavigationArrowForward;\n\n/***/ }),\n\n/***/ 3676:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getFirstInvalidFieldMessage;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__);\n\n\n/* *\n * The result coming from FormBuilder validateField will contain an error message on fail and\n * a boolean true if it succeeds.\n */\nvar isInvalidField = function isInvalidField(validatedResult) {\n    return validatedResult !== true;\n};\n\nvar isRequiredField = function isRequiredField(field) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"get\"])('isRequired', field.fieldOptions) === true;\n};\n\nvar isDirtyField = function isDirtyField(field) {\n    return field.value;\n};\n\nvar isRequiredOrDirtyField = function isRequiredOrDirtyField(field) {\n    return isRequiredField(field) || isDirtyField(field);\n};\n\nvar validateField = function validateField(field, formRef, formRefStateClone) {\n    var validateResult = formRef.validateField(formRefStateClone, field.name, field.value);\n    return {\n        invalid: isInvalidField(validateResult),\n        step: field.step,\n        name: field.translatedName,\n        message: validateResult\n    };\n};\n\n/* *\n * Constructs the error message to present to the snackBar.\n * Adds the step that the field can be found on (if present).\n */\nvar getErrorMessage = function getErrorMessage(field) {\n    var fieldStep = field.step ? ': ' + field.name + '. On step ' + field.step : '';\n    var errorMessage = '' + field.message + fieldStep;\n    return errorMessage;\n};\n\n/**\n * Will first filter out all the fields that are invalid.\n * This includes fields that are:\n * - Required.\n * - Fields that are dirty.\n * Then it will validate the fields using a reference to the formBuilder.\n * Lastly it will fetch the first field with a failing validator.\n */\nvar getFirstInvalidField = function getFirstInvalidField(fieldConfigs, formRef, formRefStateClone) {\n    return fieldConfigs.filter(function (fieldConfig) {\n        return isRequiredOrDirtyField(fieldConfig);\n    }).map(function (fieldConfig) {\n        return validateField(fieldConfig, formRef, formRefStateClone);\n    }).find(function (field) {\n        return field.invalid;\n    });\n};\n\n/**\n * Validate checks all the fields that are required or has a invalid value in the form.\n * The validation will set the fields as invalid in the formbuilder and set\n * the new state of the form.\n *\n * If any the fields are not valid, it will create a message string\n * of the first invalid field.\n *\n * @returns {string}\n * The name and step/group of the invalid field.\n * If no invalid field, it will return an empty string.\n */\nfunction getFirstInvalidFieldMessage(fieldConfigs, formRef) {\n    var formRefStateClone = formRef.getStateClone();\n\n    var firstInvalidField = getFirstInvalidField(fieldConfigs, formRef, formRefStateClone);\n\n    if (!firstInvalidField) {\n        return '';\n    }\n    formRef.setState(formRefStateClone);\n\n    var errorMessage = getErrorMessage(firstInvalidField);\n    return errorMessage;\n}\n\n/***/ }),\n\n/***/ 3700:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_circular_progress_CircularProgress__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__forms_form_fields_drop_down__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__ = __webpack_require__(1402);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nfunction getLoadingIndicator() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_circular_progress_CircularProgress__[\"a\" /* default */], null)\n    );\n}\n\nfunction findValue(optionList, model) {\n    return optionList.map(function (option) {\n        return option.value;\n    }).find(function (option) {\n        return Array.from(model.indicatorGroups.values()).map(function (indicatorGroup) {\n            return indicatorGroup.id;\n        }).indexOf(option) !== -1;\n    });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'DataIndicatorGroupsAssignment.component',\n\n    propTypes: {\n        source: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].setState({\n            indicatorGroupValues: {},\n            remove: [],\n            save: []\n        });\n\n        return {\n            indicatorGroupSets: null\n        };\n    },\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            return d2.Api.getApi().get('indicatorGroupSets', {\n                fields: 'id,displayName,indicatorGroups[id,displayName]',\n                filter: ['compulsory:eq:true'],\n                paging: false\n            });\n        }).then(function (response) {\n            return response.indicatorGroupSets;\n        }).then(function (indicatorGroupSets) {\n            return _this.setState({ indicatorGroupSets: indicatorGroupSets });\n        });\n\n        this.subscription = __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].subscribe(function () {\n            return _this.forceUpdate();\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.subscription) {\n            this.subscription && this.subscription.unsubscribe();\n        }\n    },\n    render: function render() {\n        var _this2 = this;\n\n        if (!this.state.indicatorGroupSets) {\n            return getLoadingIndicator();\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            this.state.indicatorGroupSets.map(function (indicatorGroupSet, key) {\n                var optionList = indicatorGroupSet.indicatorGroups.map(function (ig) {\n                    return {\n                        value: ig.id,\n                        text: ig.displayName\n                    };\n                });\n\n                var value = Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].state.indicatorGroupValues, indicatorGroupSet.id) ? __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].state.indicatorGroupValues[indicatorGroupSet.id] : findValue(optionList, _this2.props.source);\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: 'dataIndicatorGroupAssignment' + key },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__forms_form_fields_drop_down__[\"a\" /* default */], {\n                        key: indicatorGroupSet.id,\n                        labelText: indicatorGroupSet.displayName,\n                        translateLabel: false,\n                        options: optionList,\n                        value: value,\n                        onChange: _this2._updateGroupStatus.bind(_this2, indicatorGroupSet.id, findValue(optionList, _this2.props.source)),\n                        fullWidth: true\n                    })\n                );\n            })\n        );\n    },\n    _updateGroupStatus: function _updateGroupStatus(indicatorGroupSetId, oldValue, event) {\n        // TODO: Very bad to change props and set d2.model.dirty manually\n        this.props.source.dirty = true;\n\n        __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].setState({\n            indicatorGroupValues: Object.assign({}, __WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].state.indicatorGroupValues, _defineProperty({}, indicatorGroupSetId, event.target.value ? event.target.value : null)),\n            remove: Array.from(new Set(__WEBPACK_IMPORTED_MODULE_4__indicatorGroupsStore__[\"a\" /* default */].state.remove.concat([oldValue])).values())\n        });\n    }\n}));\n\n/***/ }),\n\n/***/ 3701:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_circular_progress_CircularProgress__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1370);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_forms_FormBuilder_component__ = __webpack_require__(1371);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__SaveButton_component__ = __webpack_require__(3570);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__CancelButton_component__ = __webpack_require__(3628);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__SharingNotification_component__ = __webpack_require__(3703);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__FormButtons_component__ = __webpack_require__(3632);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__config_field_config_field_groups__ = __webpack_require__(3562);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__extraFields__ = __webpack_require__(3708);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__config_disabled_on_edit__ = __webpack_require__(3718);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__modelToEditStore__ = __webpack_require__(249);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__objectActions__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__App_appStateStore__ = __webpack_require__(135);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__formHelpers__ = __webpack_require__(3567);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__form_rules__ = __webpack_require__(3629);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__form_helpers_extractFirstErrorMessageFromServer__ = __webpack_require__(3709);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__stepper_stepper__ = __webpack_require__(3546);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__form_helpers_validateFields__ = __webpack_require__(3676);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar currentSection$ = __WEBPACK_IMPORTED_MODULE_17__App_appStateStore__[\"b\" /* default */].filter(function (state) {\n    return state.sideBar && state.sideBar.currentSection;\n}).map(function (state) {\n    return state.sideBar.currentSubSection;\n}).filter(function (state) {\n    return state;\n}).distinctUntilChanged();\n\nvar editFormFieldsForCurrentSection$ = currentSection$.flatMap(function (modelType) {\n    return __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].fromPromise(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__formHelpers__[\"a\" /* createFieldConfigForModelTypes */])(modelType));\n});\n\nvar isAddOperation = function isAddOperation(model) {\n    return model.id === undefined;\n};\n\nvar d2$ = __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].fromPromise(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])());\n\nvar modelToEditAndModelForm$ = __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].combineLatest(__WEBPACK_IMPORTED_MODULE_14__modelToEditStore__[\"a\" /* default */], editFormFieldsForCurrentSection$, currentSection$, d2$).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        modelToEdit = _ref2[0],\n        formFields = _ref2[1],\n        currentType = _ref2[2];\n\n    if (modelToEdit && modelToEdit.modelDefinition && modelToEdit.modelDefinition.name) {\n        return modelToEdit.modelDefinition.name === currentType;\n    }\n    return false;\n}).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 4),\n        modelToEdit = _ref4[0],\n        editFormFieldsForCurrentModelType = _ref4[1],\n        modelType = _ref4[2],\n        d2 = _ref4[3];\n\n    var fieldConfigs = editFormFieldsForCurrentModelType\n    // TODO: When switching to the FormBuilder that manages state this function for all values\n    // would need to be executed only for the field that actually changed and/or the values that\n    // change because of it.\n    .map(function (fieldConfig) {\n        fieldConfig.fieldOptions.model = modelToEdit;\n\n        if (!isAddOperation(modelToEdit) && __WEBPACK_IMPORTED_MODULE_13__config_disabled_on_edit__[\"a\" /* default */].for(modelType).indexOf(fieldConfig.name) !== -1) {\n            fieldConfig.props.disabled = true;\n        }\n\n        // Check if value is an attribute\n        if (Object.keys(modelToEdit.attributes || []).indexOf(fieldConfig.name) >= 0) {\n            fieldConfig.value = modelToEdit.attributes[fieldConfig.name];\n            return fieldConfig;\n        }\n\n        // The value is passes through a converter before being set onto the field config.\n        // This is useful for when a value is a number and might have to be translated to a\n        // value of the type Number.\n        if (fieldConfig.beforePassToFieldConverter) {\n            fieldConfig.value = fieldConfig.beforePassToFieldConverter(modelToEdit[fieldConfig.name]);\n        } else {\n            fieldConfig.value = modelToEdit[fieldConfig.name];\n        }\n\n        return fieldConfig;\n    });\n\n    var fieldConfigsAfterRules = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19__form_rules__[\"a\" /* applyRulesToFieldConfigs */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19__form_rules__[\"b\" /* getRulesForModelType */])(modelToEdit.modelDefinition.name), fieldConfigs, modelToEdit);\n\n    var fieldConfigsWithAttributeFields = [].concat(fieldConfigsAfterRules,\n    // getAttributeFieldConfigs(d2, modelToEdit),\n    (__WEBPACK_IMPORTED_MODULE_12__extraFields__[\"a\" /* default */][modelType] || []).map(function (config) {\n        config.props = config.props || {};\n        config.props.modelToEdit = modelToEdit;\n        return config;\n    }));\n\n    var fieldConfigsWithAttributeFieldsAndUniqueValidators = fieldConfigsWithAttributeFields.map(function (fieldConfig) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__formHelpers__[\"b\" /* addUniqueValidatorWhenUnique */])(fieldConfig, modelToEdit);\n    });\n\n    return {\n        fieldConfigs: fieldConfigsWithAttributeFieldsAndUniqueValidators,\n        modelToEdit: modelToEdit,\n        isLoading: false\n    };\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'EditModelForm.component',\n\n    propTypes: {\n        modelId: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired,\n        modelType: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired,\n        onSaveSuccess: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n        onSaveError: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n        onCancel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        return {\n            modelToEdit: undefined,\n            isLoading: true,\n            formState: {\n                validating: false,\n                valid: true,\n                pristine: true\n            },\n            activeStep: 0\n        };\n    },\n    isAddOperation: function isAddOperation() {\n        return this.props.modelId === 'add';\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        this.subscription = modelToEditAndModelForm$.subscribe(function (newState) {\n            _this.setState(newState);\n            _this.setActiveStep(_this.state.activeStep);\n        }, function (errorMessage) {\n            __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__[\"a\" /* default */].show({ message: errorMessage, action: 'ok' });\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        this.subscription && this.subscription.unsubscribe();\n        this.saveSubscription && this.saveSubscription.unsubscribe();\n    },\n\n\n    /*\n     *  Sets the style of the fields that are not part of the active steps to 'none'\n     *  so that they are \"hidden\". For this to work, the components needs to have\n     *  an outer div that receives the props.style.\n     */\n    setActiveStep: function setActiveStep(step) {\n        this.setState({\n            activeStep: step,\n            fieldConfigs: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_21__stepper_stepper__[\"a\" /* getStepFields */])(step, this.state.fieldConfigs, this.props.modelType)\n        });\n    },\n    setFormRef: function setFormRef(form) {\n        this.formRef = form;\n    },\n    _onUpdateField: function _onUpdateField(fieldName, value) {\n        var fieldConfig = this.state.fieldConfigs.find(function (fieldConfig) {\n            return fieldConfig.name === fieldName;\n        });\n        if (fieldConfig && fieldConfig.beforeUpdateConverter) {\n            return __WEBPACK_IMPORTED_MODULE_15__objectActions__[\"a\" /* default */].update({\n                fieldName: fieldName,\n                value: fieldConfig.beforeUpdateConverter(value)\n            });\n        }\n        return __WEBPACK_IMPORTED_MODULE_15__objectActions__[\"a\" /* default */].update({ fieldName: fieldName, value: value });\n    },\n    _onUpdateFormStatus: function _onUpdateFormStatus(formState) {\n        this.setState({\n            formState: formState\n        });\n    },\n    saveSuccess: function saveSuccess(message) {\n        __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__[\"a\" /* default */].show({ message: message, translate: true });\n        this.props.onSaveSuccess(this.state.modelToEdit);\n    },\n    saveFail: function saveFail(error) {\n        // TODO: d2 queries require a JSON body on 200 OK, an empty body is not valid JSON\n        this.setState({ isSaving: false });\n        if (error.httpStatusCode === 200) {\n            __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.warn('Save errored due to empty 200 OK body');\n\n            __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'success', action: 'ok', translate: true });\n\n            this.props.onSaveSuccess(this.state.modelToEdit);\n        } else {\n            var firstErrorMessage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20__form_helpers_extractFirstErrorMessageFromServer__[\"a\" /* default */])(error);\n            __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__[\"a\" /* default */].show({ message: firstErrorMessage, action: 'ok' });\n            this.props.onSaveError && this.props.onSaveError(error);\n            __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error(error);\n        }\n    },\n    _saveAction: function _saveAction(event) {\n        var _this2 = this;\n\n        event.preventDefault();\n        var invalidFieldMessage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_22__form_helpers_validateFields__[\"a\" /* default */])(this.state.fieldConfigs, this.formRef);\n        if (invalidFieldMessage) {\n            __WEBPACK_IMPORTED_MODULE_16__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: invalidFieldMessage,\n                action: 'ok'\n            });\n            return;\n        }\n        // Set state to saving so forms actions are being prevented\n        this.setState({ isSaving: true });\n        this.saveSubscription = __WEBPACK_IMPORTED_MODULE_15__objectActions__[\"a\" /* default */].saveObject({ id: this.props.modelId, modelType: this.props.modelType }).subscribe(this.saveSuccess, this.saveFail, function () {\n            return _this2.setState({ isSaving: false });\n        });\n    },\n    _closeAction: function _closeAction(event) {\n        event.preventDefault();\n\n        this.props.onCancel();\n    },\n    renderSharingNotification: function renderSharingNotification() {\n        var formPaperStyle = {\n            width: '100%',\n            margin: '0 auto 3rem',\n            position: 'relative'\n        };\n\n        if (this.isAddOperation()) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__SharingNotification_component__[\"a\" /* default */], { style: formPaperStyle, modelType: this.props.modelType });\n        }\n\n        return null;\n    },\n    renderStepper: function renderStepper() {\n        var steps = __WEBPACK_IMPORTED_MODULE_11__config_field_config_field_groups__[\"a\" /* default */].for(this.props.modelType);\n        var stepCount = steps.length;\n        return stepCount > 1 && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_21__stepper_stepper__[\"b\" /* createStepper */])({\n            steps: steps,\n            activeStep: this.state.activeStep,\n            stepperClicked: this.setActiveStep\n        });\n    },\n    renderForm: function renderForm() {\n        var formPaperStyle = {\n            width: '100%',\n            margin: '0 auto 2rem',\n            padding: '2rem 5rem 4rem',\n            position: 'relative'\n        };\n\n        if (this.state.isLoading) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_circular_progress_CircularProgress__[\"a\" /* default */], null);\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: formPaperStyle },\n            this.renderStepper(),\n            this.renderSharingNotification(),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_forms_FormBuilder_component__[\"a\" /* default */], {\n                fields: this.state.fieldConfigs,\n                onUpdateField: this._onUpdateField,\n                onUpdateFormStatus: this._onUpdateFormStatus,\n                ref: this.setFormRef\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_10__FormButtons_component__[\"a\" /* default */],\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__SaveButton_component__[\"a\" /* default */], {\n                    onClick: this._saveAction,\n                    isValid: this.state.formState.valid && !this.state.formState.validating,\n                    isSaving: this.state.isSaving\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__CancelButton_component__[\"a\" /* default */], { onClick: this._closeAction })\n            )\n        );\n    },\n    render: function render() {\n        if (this.state.loading) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                'Loading data....'\n            );\n        }\n        return this.renderForm();\n    }\n}));\n\n/***/ }),\n\n/***/ 3702:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_action_Action__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_expression_manager_ExpressionManager__ = __webpack_require__(773);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1370);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_expression_manager_ExpressionStatus_store__ = __webpack_require__(3723);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_createActionToValidation___ = __webpack_require__(772);\n\n\n\n\n\n\n\n\n\n\nvar actionToValidation$ = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_createActionToValidation___[\"a\" /* createActionToValidation$ */])('indicators/expression/description');\n\nvar indicatorExpressionStatusActions = __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_action_Action__[\"a\" /* default */].createActionsFromNames(['requestExpressionStatus']);\nindicatorExpressionStatusActions.requestExpressionStatus.debounceTime(500).map(function (action) {\n    var encodedFormula = encodeURIComponent(action.data);\n    var url = 'expressions/description?expression=' + encodedFormula;\n    var request = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        return d2.Api.getApi().get(url);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].fromPromise(request);\n}).concatAll().subscribe(function (response) {\n    __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_expression_manager_ExpressionStatus_store__[\"a\" /* default */].setState(response);\n});\n\nvar IndicatorExpressionManagerContainer = __WEBPACK_IMPORTED_MODULE_4_react___default.a.createClass({\n    displayName: 'IndicatorExpressionManagerContainer',\n\n    propTypes: {\n        indicatorExpressionChanged: __WEBPACK_IMPORTED_MODULE_4_react___default.a.PropTypes.func.isRequired,\n        description: __WEBPACK_IMPORTED_MODULE_4_react___default.a.PropTypes.string,\n        formula: __WEBPACK_IMPORTED_MODULE_4_react___default.a.PropTypes.string,\n        titleText: __WEBPACK_IMPORTED_MODULE_4_react___default.a.PropTypes.string\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        return {\n            organisationUnitGroups: [],\n            constants: [],\n            programTrackedEntityAttributes: [],\n            programIndicators: [],\n            programDataElements: []\n        };\n    },\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            return d2.models.organisationUnitGroup.list({ paging: false, fields: 'id,displayName' });\n        }).then(function (collection) {\n            return collection.toArray().map(function (model) {\n                return { value: model.id, label: model.displayName };\n            });\n        }).then(function (organisationUnitGroups) {\n            return _this.setState({ organisationUnitGroups: organisationUnitGroups });\n        });\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            return d2.models.constant.list({ paging: false, fields: 'id,displayName' });\n        }).then(function (collection) {\n            return collection.toArray().map(function (model) {\n                return { value: model.id, label: model.displayName };\n            });\n        }).then(function (constants) {\n            return _this.setState({ constants: constants });\n        });\n\n        this.refs.expressionManager.requestExpressionStatus();\n    },\n    getExpressionManager: function getExpressionManager() {\n        return this.refs.expressionManager;\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_expression_manager_ExpressionManager__[\"a\" /* default */], {\n            descriptionLabel: this.getTranslation('description'),\n            descriptionValue: this.props.description,\n            formulaValue: this.props.formula,\n            expressionStatusStore: __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_expression_manager_ExpressionStatus_store__[\"a\" /* default */],\n            expressionChanged: this.props.indicatorExpressionChanged,\n            titleText: this.props.titleText,\n            validateExpression: actionToValidation$,\n            ref: 'expressionManager'\n        });\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (IndicatorExpressionManagerContainer);\n\n/***/ }),\n\n/***/ 3703:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1370);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon__ = __webpack_require__(754);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(320);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_Auth__ = __webpack_require__(3547);\n\n\n\n\n\n\nvar SharingNotification = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'SharingNotification',\n\n    propTypes: {\n        modelType: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n        style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    render: function render() {\n        var modelDef = this.props.getModelDefinitionByName(this.props.modelType);\n        var createPublic = this.props.getCurrentUser().canCreatePublic(modelDef);\n        var createPrivate = this.props.getCurrentUser().canCreatePrivate(modelDef);\n        var notificationStyle = Object.assign({}, this.props.style, {\n            background: 'none',\n            margin: '14px 0 0 -4px'\n        });\n        var notificationTextStyle = {\n            verticalAlign: 'super',\n            lineHeight: '24px',\n            paddingLeft: '.5rem'\n        };\n        var toRender = null;\n\n        if (createPublic) {\n            toRender = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n                { style: notificationStyle, zDepth: 0 },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon___default.a,\n                    { className: 'material-icons' },\n                    'lock_open'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'span',\n                    { style: notificationTextStyle },\n                    this.getTranslation('object_will_created_public')\n                )\n            );\n        } else if (createPrivate) {\n            toRender = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n                { style: notificationStyle, zDepth: 0 },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_FontIcon_FontIcon___default.a,\n                    { className: 'material-icons' },\n                    'lock'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'span',\n                    { style: notificationTextStyle },\n                    this.getTranslation('object_will_created_private')\n                )\n            );\n        }\n\n        return toRender;\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_Auth__[\"a\" /* withAuth */])(SharingNotification));\n\n/***/ }),\n\n/***/ 3704:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_circular_progress_CircularProgress__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__forms_form_fields_drop_down__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__ = __webpack_require__(1399);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nfunction getLoadingdataElement() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_circular_progress_CircularProgress__[\"a\" /* default */], null)\n    );\n}\n\nfunction findValue(optionList, model) {\n    return optionList.map(function (option) {\n        return option.value;\n    }).find(function (option) {\n        return Array.from(model.dataElementGroups.values()).map(function (dataElementGroup) {\n            return dataElementGroup.id;\n        }).indexOf(option) !== -1;\n    });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'DataElementGroupsAssignment.component',\n\n    propTypes: {\n        source: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].setState({\n            dataElementGroupValues: {},\n            remove: [],\n            save: []\n        });\n\n        return {\n            dataElementGroupSets: null\n        };\n    },\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            return d2.Api.getApi().get('dataElementGroupSets', {\n                fields: 'id,displayName,dataElementGroups[id,displayName]',\n                filter: ['compulsory:eq:true'],\n                paging: false\n            });\n        }).then(function (response) {\n            return response.dataElementGroupSets;\n        }).then(function (dataElementGroupSets) {\n            return _this.setState({ dataElementGroupSets: dataElementGroupSets });\n        });\n\n        this.subscription = __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].subscribe(function () {\n            return _this.forceUpdate();\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n    _updateGroupStatus: function _updateGroupStatus(dataElementGroupSetId, oldValue, event) {\n        // TODO: Very bad to change props and set d2.model.dirty manually\n        this.props.source.dirty = true;\n\n        __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].setState({\n            dataElementGroupValues: Object.assign({}, __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].state.dataElementGroupValues, _defineProperty({}, dataElementGroupSetId, event.target.value ? event.target.value : null)),\n            remove: Array.from(new Set(__WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].state.remove.concat([oldValue])).values())\n        });\n    },\n    render: function render() {\n        var _this2 = this;\n\n        if (!this.state.dataElementGroupSets) {\n            return getLoadingdataElement();\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            this.state.dataElementGroupSets.map(function (dataElementGroupSet) {\n                var optionList = dataElementGroupSet.dataElementGroups.map(function (ig) {\n                    return {\n                        value: ig.id,\n                        text: ig.displayName\n                    };\n                });\n\n                var value = Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].state.dataElementGroupValues, dataElementGroupSet.id) ? __WEBPACK_IMPORTED_MODULE_4__dataElementGroupsStore__[\"a\" /* default */].state.dataElementGroupValues[dataElementGroupSet.id] : findValue(optionList, _this2.props.source);\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: dataElementGroupSet.id },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__forms_form_fields_drop_down__[\"a\" /* default */], {\n                        labelText: dataElementGroupSet.displayName,\n                        translateLabel: false,\n                        options: optionList,\n                        value: value,\n                        onChange: _this2._updateGroupStatus.bind(_this2, dataElementGroupSet.id, findValue(optionList, _this2.props.source)),\n                        fullWidth: true\n                    })\n                );\n            })\n        );\n    }\n}));\n\n/***/ }),\n\n/***/ 3708:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__ = __webpack_require__(456);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__IndicatorExpressionManagerContainer_component__ = __webpack_require__(3702);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modelToEditStore__ = __webpack_require__(249);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__DataIndicatorGroupsAssignment_component__ = __webpack_require__(3700);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_element_DataElementGroupsAssignment_component__ = __webpack_require__(3704);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    saveButton: {\n        marginRight: '1rem'\n    },\n    customContentStyle: {\n        width: '95%',\n        maxWidth: 'none'\n    }\n};\n\nvar IndicatorExtraFields = function (_React$Component) {\n    _inherits(IndicatorExtraFields, _React$Component);\n\n    function IndicatorExtraFields(props, state) {\n        _classCallCheck(this, IndicatorExtraFields);\n\n        var _this = _possibleConstructorReturn(this, (IndicatorExtraFields.__proto__ || Object.getPrototypeOf(IndicatorExtraFields)).call(this, props, state));\n\n        _this.state = {\n            dialogValid: true,\n            dialogOpen: false\n        };\n\n        _this.setNumerator = _this.setNumerator.bind(_this);\n        _this.setDenominator = _this.setDenominator.bind(_this);\n        _this.closeDialog = _this.closeDialog.bind(_this);\n        _this.saveToModelAndCloseDialog = _this.saveToModelAndCloseDialog.bind(_this);\n        _this.indicatorExpressionChanged = _this.indicatorExpressionChanged.bind(_this);\n        return _this;\n    }\n\n    _createClass(IndicatorExtraFields, [{\n        key: 'setNumerator',\n        value: function setNumerator() {\n            this.setState({ type: 'numerator', dialogOpen: true });\n        }\n    }, {\n        key: 'setDenominator',\n        value: function setDenominator() {\n            this.setState({ type: 'denominator', dialogOpen: true });\n        }\n    }, {\n        key: 'closeDialog',\n        value: function closeDialog() {\n            this.setState({ dialogOpen: false });\n        }\n    }, {\n        key: 'saveToModelAndCloseDialog',\n        value: function saveToModelAndCloseDialog() {\n            if (this.state.expressionStatus.isValid) {\n                this.props.modelToEdit[this.state.type] = this.state.expressionFormula;\n                this.props.modelToEdit[this.state.type + 'Description'] = this.state.expressionDescription;\n\n                __WEBPACK_IMPORTED_MODULE_6__modelToEditStore__[\"a\" /* default */].setState(this.props.modelToEdit);\n            }\n\n            this.setState({ dialogOpen: false });\n        }\n    }, {\n        key: 'indicatorExpressionChanged',\n        value: function indicatorExpressionChanged(data) {\n            var expressionValues = {};\n\n            if (data.expressionStatus.isValid) {\n                expressionValues.expressionStatus = data.expressionStatus;\n                expressionValues.expressionDescription = data.description;\n                expressionValues.expressionFormula = data.formula;\n            }\n\n            this.setState(_extends({\n                dialogValid: data.expressionStatus.isValid && Boolean(data.description.trim())\n            }, expressionValues));\n        }\n    }, {\n        key: 'renderExpressionManager',\n        value: function renderExpressionManager() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__IndicatorExpressionManagerContainer_component__[\"a\" /* default */], {\n                indicatorExpressionChanged: this.indicatorExpressionChanged,\n                formula: this.props.modelToEdit[this.state.type] || '',\n                description: this.props.modelToEdit[this.state.type + 'Description'] || '',\n                ref: 'expressionManagerContainer'\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var d2 = this.context.d2;\n\n            var dialogActions = [\n            // TODO: This button should \"commit\" the change to the model where a cancel button will discard any changes made\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, { label: d2.i18n.getTranslation('cancel'), onTouchTap: this.closeDialog }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, { label: d2.i18n.getTranslation('done'), onTouchTap: this.saveToModelAndCloseDialog, disabled: !this.state.dialogValid })];\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { marginTop: '2rem' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default.a, { label: d2.i18n.getTranslation('edit_numerator'), onClick: this.setNumerator, style: { marginRight: '2rem' } }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default.a, { label: d2.i18n.getTranslation('edit_denominator'), onClick: this.setDenominator }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default.a,\n                        {\n                            title: d2.i18n.getTranslation('edit_' + this.state.type),\n                            open: this.state.dialogOpen,\n                            modal: true,\n                            actions: dialogActions,\n                            contentStyle: styles.customContentStyle,\n                            autoScrollBodyContent: true,\n                            repositionOnUpdate: false\n                        },\n                        this.state ? this.renderExpressionManager() : null\n                    )\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { marginTop: '2rem' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__DataIndicatorGroupsAssignment_component__[\"a\" /* default */], { source: this.props.modelToEdit })\n                )\n            );\n        }\n    }]);\n\n    return IndicatorExtraFields;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nIndicatorExtraFields.propTypes = {\n    modelToEdit: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    dataElement: [{\n        name: 'dataElementGroupAssignment',\n        component: function component(props) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { marginTop: '2rem' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__data_element_DataElementGroupsAssignment_component__[\"a\" /* default */], { source: props.modelToEdit })\n            );\n        }\n    }],\n    indicator: [{\n        name: 'indicatorGroupAssignmentAndGroupAssignments',\n        component: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(IndicatorExtraFields)\n    }]\n});\n\n/***/ }),\n\n/***/ 3709:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = extractFirstErrorMessageFromServer;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__);\n\n\nvar extractFirstMessageFromErrorReports = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"compose\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"get\"])('message'), __WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"first\"], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"getOr\"])([], 'errorReports'), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"get\"])('response'));\n\nvar extractFirstMessageFromMessages = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"compose\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"get\"])('message'), __WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"first\"], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"get\"])('messages'));\n\nvar firstNotUndefinedIn = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"compose\"])(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"first\"], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"filter\"])(__WEBPACK_IMPORTED_MODULE_0_lodash_fp__[\"identity\"]));\n\nfunction extractFirstErrorMessageFromServer(response) {\n    var messages = [extractFirstMessageFromErrorReports(response), extractFirstMessageFromMessages(response)];\n\n    return firstNotUndefinedIn(messages);\n}\n\n/***/ }),\n\n/***/ 3713:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['dataDimensionType']);\n\n/***/ }),\n\n/***/ 3714:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['dataDimensionType']);\n\n/***/ }),\n\n/***/ 3715:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['name']);\n\n/***/ }),\n\n/***/ 3716:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['dataDimensionType']);\n\n/***/ }),\n\n/***/ 3717:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['dataDimensionType']);\n\n/***/ }),\n\n/***/ 3718:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__category__ = __webpack_require__(3713);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__categoryCombo__ = __webpack_require__(3714);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__categoryOptionCombo__ = __webpack_require__(3715);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__categoryOptionGroup__ = __webpack_require__(3716);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__categoryOptionGroupSet__ = __webpack_require__(3717);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__optionSet__ = __webpack_require__(3721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__programRule__ = __webpack_require__(3722);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__optionGroup__ = __webpack_require__(3719);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__optionGroupSet__ = __webpack_require__(3720);\n\n\n\n\n\n\n\n\n\n\nvar disabledByType = {\n    category: __WEBPACK_IMPORTED_MODULE_0__category__[\"a\" /* default */],\n    categoryCombo: __WEBPACK_IMPORTED_MODULE_1__categoryCombo__[\"a\" /* default */],\n    categoryOptionCombo: __WEBPACK_IMPORTED_MODULE_2__categoryOptionCombo__[\"a\" /* default */],\n    categoryOptionGroup: __WEBPACK_IMPORTED_MODULE_3__categoryOptionGroup__[\"a\" /* default */],\n    categoryOptionGroupSet: __WEBPACK_IMPORTED_MODULE_4__categoryOptionGroupSet__[\"a\" /* default */],\n    optionSet: __WEBPACK_IMPORTED_MODULE_5__optionSet__[\"a\" /* default */],\n    programRule: __WEBPACK_IMPORTED_MODULE_6__programRule__[\"a\" /* default */],\n    optionGroup: __WEBPACK_IMPORTED_MODULE_7__optionGroup__[\"a\" /* default */],\n    optionGroupSet: __WEBPACK_IMPORTED_MODULE_8__optionGroupSet__[\"a\" /* default */]\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    for: function _for(schemaName) {\n        if (schemaName && disabledByType[schemaName]) {\n            return disabledByType[schemaName];\n        }\n        return [];\n    }\n});\n\n/***/ }),\n\n/***/ 3719:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['optionSet']);\n\n/***/ }),\n\n/***/ 3720:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['optionSet']);\n\n/***/ }),\n\n/***/ 3721:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['valueType']);\n\n/***/ }),\n\n/***/ 3722:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (['program']);\n\n/***/ }),\n\n/***/ 3723:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__store_Store__ = __webpack_require__(49);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0__store_Store__[\"a\" /* default */].create());\n\n/***/ }),\n\n/***/ 3846:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = EditModel;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__ = __webpack_require__(320);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__EditModelForm_component__ = __webpack_require__(3701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router_utils__ = __webpack_require__(207);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\nfunction EditModel(props) {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default.a,\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__EditModelForm_component__[\"a\" /* default */], _extends({}, props, {\n            onCancel: function onCancel() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__router_utils__[\"b\" /* goToAndScrollUp */])('/list/' + props.groupName + '/' + props.modelType);\n            },\n            onSaveSuccess: function onSaveSuccess() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__router_utils__[\"b\" /* goToAndScrollUp */])('/list/' + props.groupName + '/' + props.modelType);\n            }\n        }))\n    );\n}\n\n/***/ }),\n\n/***/ 780:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_utilizr__ = __webpack_require__(756);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_component__ = __webpack_require__(3846);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FormHeading__ = __webpack_require__(3566);\n\n\n\n\n\n\n\n\nfunction EditModelContainer(props) {\n    var schema = props.params.modelType || 'organisationUnit';\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: { display: 'flex', flexDirection: 'row', marginBottom: '1rem' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_4__FormHeading__[\"a\" /* default */],\n                { schema: schema, groupName: props.params.groupName },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)\n            )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__EditModel_component__[\"a\" /* default */], {\n            groupName: props.params.groupName,\n            modelType: schema,\n            modelId: props.params.modelId\n        })\n    );\n}\n\nEditModelContainer.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditModelContainer);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0-99a9cf075a2d8990945f.js","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from 'material-ui/IconButton';\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport inlineHelpMapping from '../config/inlinehelp-mapping.json';\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && inlineHelpMapping[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion({ major, minor, snapshot }) {\n    if (snapshot) {\n        return 'master';\n    }\n    return `${major}.${minor}`;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    const placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, (match, variable) => {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(inlineHelpMapping)\n        .find((mappingKey) => {\n            const pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n            return (new RegExp(pathToMatch)).test(path);\n        });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(inlineHelpMapping[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    const variablesToReplace = new Map([['objectType', schema]]);\n    const variablesToReplaceCamel = new Map([['objectType', camelCaseToUnderscores(schema)]]);\n\n    const replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nexport default function HelpLink({ schema }, { d2 }) {\n    const path = window.location.hash\n        .replace(/^#/, '') // Remove leading hash\n        .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    const docsLink = `https://docs.dhis2.org/${getDocsVersion(d2.system.version)}`;\n    const helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return (\n            <IconButton\n                href={`${docsLink}${helpLink}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                tooltip={d2.i18n.getTranslation('open_user_guide')}\n                tooltipPosition=\"bottom-center\"\n                iconClassName=\"material-icons\"\n                iconStyle={{ top: -2 }}\n            >\n                help_outline\n            </IconButton>\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: PropTypes.string.isRequired,\n};\n\nHelpLink.contextTypes = {\n    d2: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/List/HelpLink.component.js","module.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html#create_predictor_group\",\"/list/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html\",\"/edit/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/list/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/edit/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/list/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/inlinehelp-mapping.json\n// module id = 3545\n// module chunks = 0 1 2 4 5 7 9","// TODO: Move this to d2-ui\nimport React from 'react';\nimport Stepper from 'material-ui/Stepper/Stepper';\nimport StepButton from 'material-ui/Stepper/StepButton';\nimport StepContent from 'material-ui/Stepper/StepContent';\nimport Step from 'material-ui/Stepper/Step';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport ForwardIcon from 'material-ui/svg-icons/navigation/arrow-forward';\nimport BackwardIcon from 'material-ui/svg-icons/navigation/arrow-back';\nimport Translate from 'd2-ui/lib/i18n/Translate.component';\nimport log from 'loglevel';\nimport { isString, isNumber } from 'lodash/fp';\n\n// TODO: Redux helpers, leave these here\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport fieldGroups from '../../config/field-config/field-groups';\n\nfunction isActiveStep(activeStep, step, index) {\n    if (isString(activeStep)) {\n        return activeStep === step.key;\n    }\n\n    return activeStep === index;\n}\n\nexport const getStepFields = (step, fieldConfigs, modelType) => {\n    const stepsByField = fieldGroups.groupsByField(modelType);\n    if (stepsByField) {\n        fieldConfigs.map((field) => {\n            if (stepsByField[field.name] === step) {\n                field.props.style = { display: 'block' };\n            } else {\n                field.props.style = { display: 'none' };\n            }\n            return field;\n        });\n    }\n    return [...fieldConfigs];\n};\n\nexport const createStepper = ({ steps, activeStep, stepperClicked, orientation = 'horizontal'}, ) => (\n    <Stepper\n        activeStep={activeStep}\n        linear={false}\n        orientation={orientation}\n        style={{ margin: '0 -16px' }}\n    >\n        {steps.map((step, index) => (\n            <Step key={step.label}>\n                <StepButton onClick={() => stepperClicked(index)}><Translate>{step.label}</Translate></StepButton>\n            </Step>\n        ))}\n    </Stepper>\n);\n\n/**\n * Create a Stepper component from a configuration object.\n *\n * @param {Array} stepperConfig Config array that defines the steps that should be shown.\n * @param {String} [orientation='horizontal'] The orientation in which to render the Stepper.\n *\n * @returns {ReactComponent} A React component that will render the steps as defined by the `stepperConfig`\n *\n * @example\n * ```\n * const steps = [\n *      { key: 'first', name: 'First step!' },\n *      { key: 'last', name: 'My last step!' },\n * ];\n * const MyStepperComponent = createStepperFromConfig(steps)\n *\n * // <MyStepperComponent activeStep={activeStep.key} />\n * ```\n */\nexport const createStepperFromConfig = (stepperConfig, orientation = 'horizontal') => ({ activeStep, stepperClicked, disabled, ...props }) => {\n    const getStepChildren = (step) => {\n        const stepChildren = [];\n\n        stepChildren.push(<StepButton key=\"button\" onClick={() => stepperClicked(step.key)}><Translate>{step.name}</Translate></StepButton>);\n\n        if (step.content) {\n            stepChildren.push(<StepContent key=\"content\"><step.content {...props} /></StepContent>);\n        }\n\n        return stepChildren;\n    };\n\n    return (\n        <Stepper linear={false} orientation={orientation} activeStep={isNumber(activeStep) ? activeStep : undefined}>\n            {stepperConfig.map((step, index) => (\n                <Step key={step.key} active={isActiveStep(activeStep, step, index)} disabled={!!disabled}>\n                    {getStepChildren(step)}\n                </Step>\n            ))}\n        </Stepper>\n    );\n};\n\n/**\n * Create a StepperContent component from a configuration object. The StepperContent component renders the content that\n * belongs to the current `activeStep`. When the config does not specify a `component` property for the current active\n * step a warning is logged and `null` is rendered.\n * The `component` is passed all the props passed to the StepperContent.\n *\n * @param {Array} stepperConfig Config array that defines the steps and the components that should be rendered for the\n * currently active step.\n *\n * @returns {ReactComponent} A React component that will render the `component` property of the currently active step.\n */\nexport const createStepperContentFromConfig = stepperConfig => ({ activeStep, ...props }) => {\n    const step = stepperConfig.find(stepConfig => stepConfig.key === activeStep);\n\n    if (step && step.component) {\n        return <step.component {...props} />;\n    }\n\n    if (activeStep) {\n        log.warn(`Could not find a content component for a step with key (${activeStep}) in`, stepperConfig);\n    } else {\n        log.warn('The `activeStep` prop is undefined, therefore the component created by `createStepperContentFromConfig` will render null');\n    }\n\n    return null;\n};\n\nexport function StepperNavigationBack({ onBackClick }) {\n    return (\n        <IconButton onClick={onBackClick}>\n            <BackwardIcon />\n        </IconButton>\n    );\n}\n\nexport function StepperNavigationForward({ onForwardClick }) {\n    return (\n        <IconButton onClick={onForwardClick}>\n            <ForwardIcon />\n        </IconButton>\n    );\n}\n\nexport function createStepperNavigation(BackwardButton, ForwardButton) {\n    const styles = {\n        buttons: {\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            padding: '4rem 1rem 1rem',\n        },\n    };\n\n    const StepperNavigation = ({ children }) => (\n        <div style={styles.buttons}>\n            <BackwardButton />\n            {children}\n            <ForwardButton />\n        </div>\n    );\n\n    return StepperNavigation;\n}\n\n// ////////////////////////////////////////////////////////////////\n// Redux specfic helpers, don't move to\n\nconst mapDispatchToProps = actionCreators => dispatch => bindActionCreators(actionCreators, dispatch);\n\nexport const createConnectedForwardButton = nextStepActionCreator => connect(undefined, mapDispatchToProps({ onForwardClick: nextStepActionCreator }))(StepperNavigationForward);\nexport const createConnectedBackwardButton = previousStepAcionCreator => connect(undefined, mapDispatchToProps({ onBackClick: previousStepAcionCreator }))(StepperNavigationBack);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/stepper/stepper.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getDisplayName from 'recompose/getDisplayName';\n\nexport const withAuth = (WrappedComponent) => {\n\n    const WithAuth = (props, { d2 }) => {\n        const extraProps = {\n            getCurrentUser: () => d2.currentUser,\n            getModelDefinitionByName: (modelType) => d2.models[modelType]\n\n        }\n        return <WrappedComponent {...props} {...extraProps} />\n    }\n    WithAuth.displayName = `WithAuth(${getDisplayName(WrappedComponent)})`;\n    WithAuth.contextTypes = {\n        d2: PropTypes.object\n    }\n    return WithAuth;\n}\n\nexport default withAuth;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/Auth.js","import { findIndex } from 'lodash/fp';\nimport fieldOrder from './field-order';\n\n/*\n    The stepper sets the style of the fields of the not active step to \"display: none\"\n    to hide them from view. For this to work the component of the field needs to recieve\n    the style from props. If the fields are not hidden when changing the active step\n    then check if the component of the corresponding fields are receiving and using the\n    style from props in its outer div.\n*/\n\nconst fieldGroupsForModelType = new Map([\n    [\n        'programRule',\n        [\n            {\n                label: 'enter_program_rule_details',\n                fields: ['program', 'programStage', 'name', 'description', 'priority'],\n            },\n            {\n                label: 'enter_program_rule_expression',\n                fields: ['condition'],\n            },\n            {\n                label: 'define_program_rule_actions',\n                fields: ['programRuleActions'],\n            },\n        ],\n    ],\n    [\n        'dataSetNotificationTemplate',\n        [\n            {\n                label: 'what_to_send',\n                fields: ['name', 'code', 'dataSets', 'messageTemplate'],\n            },\n            {\n                label: 'when_to_send_it',\n                fields: [\n                    'dataSetNotificationTrigger',\n                    'relativeScheduledDays',\n                    'sendStrategy',\n                ],\n            },\n            {\n                label: 'who_to_send_it_to',\n                fields: [\n                    'notificationRecipient',\n                    'recipientUserGroup',\n                    'deliveryChannels',\n                ],\n            },\n        ],\n    ],\n    [\n        'programNotificationTemplate',\n        [\n            {\n                label: 'what_to_send',\n                fields: ['name', 'messageTemplate'],\n            },\n            {\n                label: 'when_to_send_it',\n                fields: ['notificationTrigger', 'relativeScheduledDays'],\n            },\n            {\n                label: 'who_to_send_it_to',\n                fields: [\n                    'notificationRecipient',\n                    'recipientUserGroup',\n                    'deliveryChannels',\n                    'recipientProgramAttribute',\n                    'notifyUsersInHierarchyOnly',\n                    'notifyParentOrganisationUnitOnly',\n                ],\n            },\n        ],\n    ],\n    [\n        'programStageNotificationTemplate',\n        [\n            {\n                label: 'what_to_send',\n                fields: ['name', 'messageTemplate'],\n            },\n            {\n                label: 'when_to_send_it',\n                fields: ['notificationTrigger', 'relativeScheduledDays'],\n            },\n            {\n                label: 'who_to_send_it_to',\n                fields: [\n                    'notificationRecipient',\n                    'recipientUserGroup',\n                    'deliveryChannels',\n                    'recipientDataElement',\n                    'recipientProgramAttribute',\n                    'notifyUsersInHierarchyOnly',\n                    'notifyParentOrganisationUnitOnly',\n                ],\n            },\n        ],\n    ],\n    [\n        'programIndicator',\n        [\n            {\n                label: 'program_indicator__details',\n                fields: [\n                    'program',\n                    'name',\n                    'shortName',\n                    'code',\n                    'style',\n                    'description',\n                    'decimals',\n                    'aggregationType',\n                    'analyticsType',\n                    'analyticsPeriodBoundaries',\n                    'displayInForm',\n                    'legendSets',\n                    'aggregateExportCategoryOptionCombo',\n                    'aggregateExportAttributeOptionCombo',\n                ],\n            },\n            {\n                label: 'program_indicator__edit_expression',\n                fields: ['expression'],\n            },\n            {\n                label: 'program_indicator__edit_filter',\n                fields: [\n                    'filter',\n                ],\n            },\n        ],\n    ],\n]);\n\nexport default {\n    for(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            return fieldGroupsForModelType.get(modelType);\n        }\n\n        return [\n            {\n                label: 'details',\n                fields: fieldOrder.for(modelType),\n            },\n        ];\n    },\n\n    isGroupedFields(modelType) {\n        return modelType && fieldGroupsForModelType.has(modelType);\n    },\n\n    getStepLength(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            const modelGroup = fieldGroupsForModelType.get(modelType);\n            return modelGroup.length;\n        }\n        return 0;\n    },\n\n    groupNoByName(fieldName, modelType) {\n        if (this.isGroupedFields(modelType)) {\n            const modelGroup = fieldGroupsForModelType.get(modelType);\n            return findIndex((group => group.fields.includes(fieldName)), modelGroup);\n        }\n        return 0;\n    },\n\n    groupNameByStep(stepNo, modelType) {\n        if (this.isGroupedFields(modelType)) {\n            const modelGroup = fieldGroupsForModelType.get(modelType);\n            return modelGroup[stepNo].label;\n        }\n        return '';\n    },\n\n    groupsByField(modelType) {\n        if (this.isGroupedFields(modelType)) {\n            return fieldGroupsForModelType\n                .get(modelType)\n                .map(group => group.fields)\n                .reduce((fieldsWithStep, groupFields, stepNo) => {\n                    groupFields.map(field => fieldsWithStep[field] = stepNo);\n                    return fieldsWithStep;\n                }, {});\n        }\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/field-config/field-groups.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport HelpLink from '../List/HelpLink.component';\nimport BackButton from './BackButton.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nfunction FormHeading({ level, schema, children, groupName, isDirtyHandler, skipTranslation, ...props }, context) {\n    return (\n        <Heading {...props} level={level}>\n            <BackButton\n                onClick={() => goToAndScrollUp(`/list/${groupName}/${schema}`)}\n                iconStyle={{ top: 3 }}\n                isDirtyHandler={isDirtyHandler}\n            />\n            {skipTranslation ? children : context.d2.i18n.getTranslation(children)}\n            {schema && (<HelpLink schema={schema} />)}\n        </Heading>\n    );\n}\n\nFormHeading.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.array,\n    ]),\n    level: PropTypes.number,\n    isDirtyHandler: PropTypes.func,\n    schema: PropTypes.string.isRequired,\n    groupName: PropTypes.string.isRequired,\n    skipTranslation: PropTypes.bool,\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: () => {},\n    level: 2,\n    children: '',\n    skipTranslation: false,\n};\n\nexport default addD2Context(FormHeading);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormHeading.js","import React from 'react';\n\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport mapPropsStream from 'recompose/mapPropsStream';\nimport { identity, noop, compose } from 'lodash/fp';\n\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\n\nimport FormFieldsForModel from '../forms/FormFieldsForModel';\nimport FormFieldsManager from '../forms/FormFieldsManager';\n\nimport fieldOrderNames from '../config/field-config/field-order';\nimport fieldGroups from '../config/field-config/field-groups';\nimport fieldOverrides from '../config/field-overrides/index';\n\nimport { createFieldConfig, typeToFieldMap } from '../forms/fields';\nimport { applyRulesToFieldConfigs, getRulesForModelType } from './form-rules';\n\nfunction getLabelText(labelText, fieldConfig = {}) {\n    // Add required indicator when the field is required\n    if (fieldConfig.props && fieldConfig.props.isRequired) {\n        return `${labelText} (*)`;\n    }\n    return labelText;\n}\n\nfunction createAttributeFieldConfigs(d2, schemaName) {\n    const modelDefinition = d2.models[schemaName];\n\n    return Object\n        .keys(modelDefinition.attributeProperties)\n        .map((attributeName) => {\n            const attribute = modelDefinition.attributeProperties[attributeName];\n            return createFieldConfig({\n                name: attribute.name,\n                valueType: attribute.valueType,\n                type: typeToFieldMap.get(attribute.optionSet ? 'CONSTANT' : attribute.valueType),\n                required: Boolean(attribute.mandatory),\n                fieldOptions: {\n                    labelText: attribute.name,\n                    options: attribute.optionSet ? attribute.optionSet.options.map(option => ({\n                        name: option.displayName || option.name,\n                        value: option.code,\n                    })) : [],\n                },\n            }, modelDefinition, d2.models);\n        });\n}\n\n// Translate the sync validator messages if there are any validators\nfunction translateValidators(fieldConfig, d2) {\n    if (fieldConfig.validators) {\n        fieldConfig.validators = fieldConfig.validators\n            .map(validator => ({\n                ...validator,\n                message: d2.i18n.getTranslation(validator.message),\n            }));\n    }\n}\n\n// Get the field's label with required indicator if the field is required\n// Save one translated label for validation messages\nfunction setRequiredFieldsLabelText(fieldConfig, d2) {\n    fieldConfig.translatedName = d2.i18n.getTranslation(fieldConfig.props.labelText);\n    fieldConfig.props.labelText = getLabelText(\n        fieldConfig.translatedName,\n        fieldConfig,\n    );\n}\n\n/* \n * If the modelType are grouped in field-groups.js, the step number and group/step name \n * will be added to the fieldConfig. This string can later be used for the validating\n * step in EditModelForm.isRequiredFieldsValid to tell the user which step to find the \n * non-valid required field.\n */\nfunction setRequiredFieldsStepName(fieldConfig, modelType, d2) {\n    // TODO: Find way to fix programNotificationTemplate sending the correct modelType\n    if (fieldGroups.isGroupedFields(modelType) && modelType !== 'programNotificationTemplate') {\n        const stepNo = fieldGroups.groupNoByName(fieldConfig.name, modelType);\n        const stepName = fieldGroups.groupNameByStep(stepNo, modelType);\n        fieldConfig.step = `${stepNo + 1}: ${d2.i18n.getTranslation(stepName)}`;\n    }\n}\n\nexport async function createFieldConfigForModelTypes(modelType, forcedFieldOrderNames, includeAttributes = true, customFieldOrderName) {\n    const d2 = await getInstance();\n\n    const formFieldsManager = new FormFieldsManager(new FormFieldsForModel(d2.models));\n    formFieldsManager.setFieldOrder(forcedFieldOrderNames || fieldOrderNames.for(modelType));\n\n    for (const [fieldName, overrideConfig] of fieldOverrides.for(customFieldOrderName || modelType)) {\n        formFieldsManager.addFieldOverrideFor(fieldName, overrideConfig);\n    }\n\n    return formFieldsManager\n        .getFormFieldsForModel({ modelDefinition: d2.models[modelType] }, customFieldOrderName)\n        .map((fieldConfig) => {\n            translateValidators(fieldConfig, d2);\n            setRequiredFieldsStepName(fieldConfig, modelType, d2);\n            setRequiredFieldsLabelText(fieldConfig, d2);\n            return fieldConfig;\n        })\n        .concat(includeAttributes\n            ? createAttributeFieldConfigs(d2, modelType)\n            : []);\n}\n\nfunction createUniqueValidator(fieldConfig, modelDefinition, uid) {\n    return function checkAgainstServer(value) {\n        // Don't validate against the server when we have no value\n        if (!value || !value.trim()) {\n            return Promise.resolve(true);\n        }\n\n        let modelDefinitionWithFilter = modelDefinition\n            .filter().on(fieldConfig.fieldOptions.referenceProperty).equals(value);\n\n        if (uid) {\n            modelDefinitionWithFilter = modelDefinitionWithFilter.filter().on('id').notEqual(uid);\n        }\n\n        return modelDefinitionWithFilter\n            .list()\n            .then((collection) => {\n                if (collection.size !== 0) {\n                    return getInstance()\n                        .then(d2 => d2.i18n.getTranslation('value_not_unique'))\n                        .then(message => Promise.reject(message));\n                }\n                return Promise.resolve(true);\n            });\n    };\n}\n\nexport function addUniqueValidatorWhenUnique(fieldConfig, modelToEdit) {\n    if (fieldConfig.unique) {\n        fieldConfig.asyncValidators = [createUniqueValidator(fieldConfig, modelToEdit.modelDefinition, modelToEdit.id)];\n    }\n\n    return fieldConfig;\n}\n\nexport function isAttribute(model, fieldConfig) {\n    return model.attributes && new Set(Object.keys(model.attributes)).has(fieldConfig.name);\n}\n\nconst transformValuesUsingConverters = (fieldConfig) => {\n    if (fieldConfig.beforePassToFieldConverter) {\n        return {\n            ...fieldConfig,\n            value: fieldConfig.beforePassToFieldConverter(fieldConfig.value),\n        };\n    }\n\n    return fieldConfig;\n};\n\nconst addModelToFieldConfigProps = model => fieldConfig => ({\n    ...fieldConfig,\n    props: { ...fieldConfig.props, model },\n});\n\nfunction addValuesToFieldConfigs(fieldConfigs, model) {\n    return fieldConfigs\n        .map((fieldConfig) => {\n            if (isAttribute(model, fieldConfig)) {\n                return ({\n                    ...fieldConfig,\n                    value: model.attributes[fieldConfig.name],\n                });\n            }\n\n            return ({\n                ...fieldConfig,\n                value: model[fieldConfig.name],\n            });\n        })\n        .map(transformValuesUsingConverters)\n        .map(addModelToFieldConfigProps(model));\n}\n\n/**\n * Create fieldConfigs for a schema\n * @param schema - Schema to create configs for\n * @param fieldNames - Fields to use\n * @param filterFieldConfigs - A filter function that should return an array of fieldConfigs (must be same amount of fieldConfigs)\n * @param includeAttributes - Whether to include attributes\n * @param runRules - Whether to apply field-rules specified in field-rules file.\n * @param customFieldOrderName - Custom name for the \"schema\", useful if the same schema has multiple purposes.\n * Ie. programNotificationTemplate, which are used in program Notification and programStage notifications.\n */\nexport function createFieldConfigsFor(schema, fieldNames, filterFieldConfigs = identity, includeAttributes, runRules = true, customFieldOrderName) {\n    // eslint-disable-next-line no-param-reassign\n    filterFieldConfigs = filterFieldConfigs || identity;\n    return mapPropsStream(props$ => props$\n        .filter(({ model }) => model)\n        .combineLatest(\n            Observable.fromPromise(createFieldConfigForModelTypes(schema, fieldNames, includeAttributes, customFieldOrderName)),\n            (props, fieldConfigs) => {\n                const fieldConfigsWithValues = addValuesToFieldConfigs(fieldConfigs, props.model);\n                const fieldConfigsToUse = runRules ? applyRulesToFieldConfigs(getRulesForModelType(customFieldOrderName || schema),\n                    filterFieldConfigs(fieldConfigsWithValues), props.model)\n                    : fieldConfigsWithValues;\n                return {\n                    ...props,\n                    fieldConfigs: fieldConfigsToUse,\n                };\n            }));\n}\n\nconst convertValueUsingFieldConverter = (fieldConfigs, onChangeCallback) => (fieldName, value) => {\n    const fieldConfig = fieldConfigs.find(fieldConfig => fieldConfig.name === fieldName);\n    const converter = fieldConfig.beforeUpdateConverter || identity;\n\n    return onChangeCallback(fieldName, converter(value));\n};\n\n// TODO: Refactor includeAttributes magic flag to separate method `createFormWithAttributesFor`\nexport function createFormFor(source$, schema, properties, includeAttributes, customFieldOrderName) {\n    const enhance = compose(\n        mapPropsStream(props$ => props$\n            .combineLatest(source$, (props, model) => ({ ...props, model })),\n        ),\n        createFieldConfigsFor(schema, properties, undefined, includeAttributes, false, customFieldOrderName),\n    );\n\n    function CreatedFormBuilderForm({ fieldConfigs, model, editFieldChanged, detailsFormStatusChange = noop }) {\n        const onUpdateField = convertValueUsingFieldConverter(fieldConfigs, editFieldChanged);\n        const fieldConfigsAfterRules = applyRulesToFieldConfigs(getRulesForModelType(customFieldOrderName || schema), fieldConfigs, model);\n        return (\n            <FormBuilder\n                fields={fieldConfigsAfterRules}\n                onUpdateField={onUpdateField}\n                onUpdateFormStatus={detailsFormStatusChange}\n            />\n        );\n    }\n\n    return enhance(CreatedFormBuilderForm);\n}\n\n/**\n * Add given props to the fieldConfig.\n * If fieldNames has values, only fields with those name will be given the props.\n * Useful to be given to map() of fieldConfigs.\n *\n * Ie: Only fields with name='shortname' will be given the props.\n * @example\n *  fieldConfigs.map(addPropsToFieldConfig[props, ['shortName']\n * @param fieldNames to add the props to.\n * @param props to add to fields\n * @returns {function(*): {props: {}}} fieldConfig with the props added.\n */\nexport const addPropsToFieldConfig = (props, fieldNames = []) => fieldConfig =>\n    ((fieldNames.length < 1 || fieldNames.includes(fieldConfig.name))\n        ? { ...fieldConfig, props: { ...fieldConfig.props, ...props } }\n        : fieldConfig);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/formHelpers.js","import React from 'react';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction BackButton(props, context) {\n    const { tooltip, onClick, isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore), ...otherProps } = props;\n    const onClickWithConfirm = (...params) => {\n        const isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick(...params);\n        } else if (\n            // eslint-disable-next-line no-restricted-globals\n            confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))\n        ) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <IconButton\n            tooltip={tooltip || context.d2.i18n.getTranslation('back')}\n            tooltipPosition=\"bottom-right\"\n            onClick={onClickWithConfirm}\n            {...otherProps}\n            iconClassName=\"material-icons\"\n        >\n            &#xE5C4;\n        </IconButton>\n    );\n}\nBackButton.propTypes = {\n    tooltip: React.PropTypes.string,\n};\n\nexport default addD2Context(BackButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/BackButton.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\n\nfunction SaveButton(props, { d2 }) {\n    const {\n        label,\n        isSaving,\n        isValid,\n        onClick,\n        ...rest\n    } = props;\n\n    const buttonText = label\n        ? label\n        : isSaving \n            ? d2.i18n.getTranslation('saving') \n            : d2.i18n.getTranslation('save');\n\n    return (\n        <RaisedButton\n            {...rest}\n            primary\n            onClick={onClick}\n            label={buttonText}\n            disabled={isSaving}\n        />\n    );\n}\n\nSaveButton.propTypes = {\n    label: PropTypes.string,\n    isSaving: PropTypes.bool,\n    isValid: PropTypes.bool,\n    onClick: PropTypes.func.isRequired,\n};\n\nSaveButton.defaultProps = {\n    label: '',\n    isSaving: false,\n    isValid: true,\n};\n\nexport default addD2Context(SaveButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SaveButton.component.js","import React from 'react';\nimport Button from 'material-ui/FlatButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction CancelButton(\n    {\n        onClick,\n        isPristine,\n        isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore),\n        ...props\n    },\n    context\n) {\n    const shouldConfirm =\n        isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n    const onClickWithConfirm = (...params) => {\n        if (!shouldConfirm) {\n            onClick(...params);\n        } else if (\n            // eslint-disable-next-line no-restricted-globals\n            confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))\n        ) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <Button\n            {...props}\n            onClick={onClickWithConfirm}\n            secondary={shouldConfirm}\n            label={context.d2.i18n.getTranslation('cancel')}\n        />\n    );\n}\n\nCancelButton.propTypes = {\n    onClick: React.PropTypes.func.isRequired,\n    /* A handler that should return an object with \"dirty\"-key,\n    describing if the current edited model is dirty\n     */\n    isDirtyHandler: React.PropTypes.func,\n};\n\nexport default addD2Context(CancelButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/CancelButton.component.js","import noop from 'd2-utilizr/lib/noop';\nimport { negate } from 'lodash/fp';\nimport isArray from 'd2-utilizr/lib/isArray';\n\nimport fieldRules from '../../config/field-rules';\nimport systemSettingsStore from '../../App/systemSettingsStore';\n\n/* eslint-disable no-use-before-define */\nconst whenOperatorMap = new Map([\n    ['EQUALS', equalsOperator],\n    ['NOT_EQUALS', notEqualsOperator],\n    ['HAS_VALUE', hasValueOperator],\n    ['HAS_NO_VALUE', negate(hasValueOperator)],\n    ['HAS_STRING_VALUE', hasStringValueOperator],\n    ['ONEOF', oneOfOperator],\n    ['NONEOF', noneOfOperator],\n    ['SYSTEM_SETTING_IS_TRUE', systemSettingIsTrueOperator],\n    ['SYSTEM_SETTING_IS_FALSE', systemSettingIsFalseOperator],\n    ['IS_VALID_POINT', isPointOperator],\n    ['IS_HIDDEN_FIELD', isHiddenFieldOperator],\n]);\n\nconst operationsMap = new Map([\n    ['SET_PROP', setProp],\n    ['CHANGE_VALUE', changeValue],\n    ['HIDE_FIELD', hideField],\n    ['SHOW_FIELD', showField],\n]);\n/* eslint-enable no-use-before-define */\n\nexport function getRulesForModelType(fieldName) {\n    if (fieldRules.has(fieldName)) {\n        return fieldRules.get(fieldName);\n    }\n\n    return [];\n}\n\nfunction changeValue(fieldConfig, operationParams, ruleResult, model) {\n    if (ruleResult) {\n        operationParams.setValue(model, fieldConfig);\n    }\n}\n\nfunction setProp(fieldConfig, operationParams, ruleResult) {\n    if (!fieldConfig) {\n        return;\n    }\n    if (ruleResult) {\n        return fieldConfig.props[operationParams.propName] = operationParams.thenValue;\n    }\n\n    return fieldConfig.props[operationParams.propName] = operationParams.elseValue;\n}\n\n\n/*\n    Uses the swapping variable \"hiddenComponent\" when temporary hiding a field.\n    When the field should be shown again, the content of \"hiddenComponent\" is\n    put back to the \"component\" variable.\n*/\nfunction hideField(fieldConfig, operationParams, ruleResult) {\n    if (ruleResult && fieldConfig) {\n        fieldConfig.hiddenComponent = fieldConfig.hiddenComponent || fieldConfig.component;\n        fieldConfig.component = () => null;\n    } else if (fieldConfig && fieldConfig.hiddenComponent) {\n        fieldConfig.component = fieldConfig.hiddenComponent;\n        delete fieldConfig.hiddenComponent;\n    }\n}\n\nfunction showField(fieldConfig, operationParams, ruleResult) {\n    if (ruleResult && fieldConfig.hiddenComponent) {\n        fieldConfig.component = fieldConfig.hiddenComponent;\n        delete fieldConfig.hiddenComponent;\n    } else {\n        fieldConfig.hiddenComponent = fieldConfig.hiddenComponent || fieldConfig.component;\n        fieldConfig.component = () => null;\n    }\n}\n\nfunction getOperation(operationType) {\n    return operationsMap.has(operationType) ? operationsMap.get(operationType) : noop;\n}\n\nfunction getWhenOperator(operatorType) {\n    return whenOperatorMap.has(operatorType) ? whenOperatorMap.get(operatorType) : noop;\n}\n\nfunction hasValueOperator(value) {\n    return value !== undefined && value !== null;\n}\n\nfunction hasStringValueOperator(value) {\n    return hasValueOperator(value) && value.toString().trim().length > 0;\n}\n\nfunction equalsOperator(left, right) {\n    return left === right;\n}\n\nfunction notEqualsOperator(left, right) {\n    return left !== right;\n}\n\nfunction oneOfOperator(value, list) {\n    return list.indexOf(value) >= 0;\n}\n\nfunction noneOfOperator(value, list) {\n    return list.indexOf(value) < 0;\n}\n\nfunction isPointOperator(value) {\n    // TODO: Use the same validator as the one in the coordinate-field (perhaps move it to d2/d2-ui)\n    try {\n        const poly = JSON.parse(value);\n        return Array.isArray(poly) && (poly.length === 0 || (poly.length === 2 && !isNaN(poly[0]) && !isNaN(poly[1])));\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction isHiddenFieldOperator(a, b, fieldConfig) {\n    return fieldConfig.hasOwnProperty('hiddenComponent');\n}\n\nfunction systemSettingIsTrueOperator(value, settingKey) {\n    const settingsValue = systemSettingsStore.getState() ? systemSettingsStore.getState()[settingKey] : undefined;\n    return settingsValue === true;\n}\n\nfunction systemSettingIsFalseOperator(value, settingKey) {\n    const settingsValue = systemSettingsStore.getState() ? systemSettingsStore.getState()[settingKey] : undefined;\n    return settingsValue === false;\n}\n\nfunction ruleRunner({ whenFieldName, operatorFn, whenValue }, fieldConfig, model) {\n    return operatorFn(model[whenFieldName], whenValue, fieldConfig, model, whenFieldName);\n}\n\n\nfunction rulesRunner(rules, rule, modelToEdit, fieldConfigs) {\n    return rules.map((whenRule, index) => {\n        // log.debug(`For field ${rule.field} run the when-rule where field ` +\n        //     ` ${whenRule.field || rule.field} ${getWhenOperator(whenRule.operator).name}` +\n        //     ` ${whenRule.value || ''} ${rule.field} ${rules.length > (index + 1) && 'then run'}`);\n\n        const fieldConfigForRule = fieldConfigs.find(fieldConfig =>\n            fieldConfig.name === (whenRule.field || rule.field));\n\n        const whenFieldName = whenRule.field ? whenRule.field : rule.field;\n        const operatorFn = getWhenOperator(whenRule.operator);\n        const whenValue = whenRule.value;\n\n        return ruleRunner({ whenFieldName, operatorFn, whenValue }, fieldConfigForRule, modelToEdit);\n    });\n}\n\nexport function applyRulesToFieldConfigs(rules, fieldConfigs, modelToEdit) {\n    rules.forEach((rule) => {\n        const rules = isArray(rule.when) ? rule.when : [rule.when];\n        const rulePassed = rulesRunner(rules, rule, modelToEdit, fieldConfigs).some(result => result === true);\n\n        // log.debug('And the result is', rulePassed);\n\n        (rule.operations || [rule.operation])\n            .forEach((operation) => {\n                const fieldConfigForOperation = fieldConfigs.find(fieldConfig =>\n                    fieldConfig.name === (operation.field || rule.field));\n\n                const {\n                    field,\n                    type,\n                    ...operationParams\n                } = operation;\n\n                // log.debug(`---- For field ${field || rule.field} \n                //         execute ${getOperation(type).name} \n                //         with`, operationParams);\n\n                getOperation(type)(fieldConfigForOperation, operationParams, rulePassed, modelToEdit);\n            });\n    });\n\n    return fieldConfigs;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/form-rules/index.js","import React from 'react';\nimport isArray from 'd2-utilizr/lib/isArray';\n\nexport default function FormButtons(props) {\n    const defaultStyle = {\n        marginTop: '1rem',\n    };\n\n    const buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem',\n    };\n\n    const buttonsToRender = isArray(props.children) ? props.children : [props.children];\n\n    return (\n        <div style={Object.assign(defaultStyle, props.style)}>\n            {buttonsToRender.map((child, index) => React.cloneElement(child, {\n                style: buttonStyle,\n                key: index,\n            }))}\n        </div>\n    );\n}\nFormButtons.propTypes = {\n    style: React.PropTypes.object,\n    children: React.PropTypes.oneOfType([\n        React.PropTypes.array,\n        React.PropTypes.object,\n    ]).isRequired,\n    isFormValid: React.PropTypes.func,\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormButtons.component.js","import { isEqual } from 'lodash/fp';\n\nimport {\n    BEFORE_END_OF_REPORTING_PERIOD,\n    AFTER_START_OF_REPORTING_PERIOD,\n    EVENT_DATE,\n    ENROLLMENT_DATE,\n} from '../field-overrides/program-indicator/enums';\n\nexport function defaultAnalyticsPeriodBoundaries(type, current) {\n    const defaultProps = {\n        enrollment: [\n            {\n                analyticsPeriodBoundaryType: AFTER_START_OF_REPORTING_PERIOD,\n                boundaryTarget: ENROLLMENT_DATE,\n            },\n            {\n                analyticsPeriodBoundaryType: BEFORE_END_OF_REPORTING_PERIOD,\n                boundaryTarget: ENROLLMENT_DATE,\n            },\n        ],\n        event: [\n            {\n                analyticsPeriodBoundaryType: AFTER_START_OF_REPORTING_PERIOD,\n                boundaryTarget: EVENT_DATE,\n            },\n            {\n                analyticsPeriodBoundaryType: BEFORE_END_OF_REPORTING_PERIOD,\n                boundaryTarget: EVENT_DATE,\n            },\n        ],\n    };\n\n    function isNotDefault(val) {\n        return !isEqual(val, defaultProps.event)\n            && !isEqual(val, defaultProps.enrollment);\n    }\n\n    if (current && isNotDefault(current)) {\n        return current;\n    }\n\n    return defaultProps[type];\n}\n\n/**\n * Helper function to create a \"default\"-rule for a field, that can\n * be used in field-rules.\n * This will set the value of the field whenever the value is undefined.\n * When a value is set to no-value, it is null. Undefined only\n * occurs when it is not set at all.\n *\n * @param field Fieldname for the field to set a default value for.\n * @param defaultValue The default value for the field.\n */\nexport function createDefaultRuleForField(field, defaultValue) {\n    return {\n        field: field,\n        when: [{\n            operator: 'EQUALS',\n            value: undefined,\n        }],\n        operations: [{\n            type: 'CHANGE_VALUE',\n            setValue: (model, fieldConfig) => {\n                if (fieldConfig) {\n                    fieldConfig.value = defaultValue;\n                    model[fieldConfig.name] = defaultValue;\n                }\n            }\n        }]\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/field-config/field-defaults.js","import { defaultAnalyticsPeriodBoundaries, createDefaultRuleForField } from './field-config/field-defaults';\n\n/**\n * Rule functions in EditModel/form-rules\n * \n * Rules for the form fields.\n * If multiple `when` objects are specified these are evaluated as an OR.\n * The following would result check if either of the statements return true\n * ```\n when: [{\n        field: 'valueType',\n        operator: 'ONEOF',\n        value: [\n            'TEXT',\n            'LONG_TEXT',\n            'LETTER',\n            'PHONE_NUMBER',\n            'EMAIL',\n            'TRACKER_ASSOCIATE',\n            'USERNAME',\n            'FILE_RESOURCE',\n            'COORDINATE',\n        ]\n        }, {\n            field: 'domainType',\n            operator: 'EQUALS',\n            value: 'TRACKER',\n        }],\n * ```\n */\n\n/*\n    Sets the valueType to the valueType of the optionSet\n    TODO: This function does a mutable modification. It is more efficient this way however it might\n    collide and is not very transparent. Especially the fact that the new value needs to be set\n    on both the model and the fieldConfig is not very clear.\n    It would probably make sense to run the model modification rules before sending the values to\n    the FormBuilder. */\nfunction setValueTypeToOptionSet(model, fieldConfig) {\n    // Do not not change the valueType when there is no optionSet or when there is no valueType\n    // for the optionSet (which can occur during the initial run of the rules)\n    if (model.optionSet && model.optionSet.valueType) {\n        // Update the fieldConfig to contain the correct value\n        fieldConfig.value = model.optionSet.valueType;\n\n        // Update the model only when the value is not the same as the current\n        if (model[fieldConfig.name] !== model.optionSet.valueType) {\n            model[fieldConfig.name] = model.optionSet.valueType;\n        }\n    }\n}\n\nexport default new Map([\n    ['dataElement', [\n        {\n            field: 'domainType',\n            when: {\n                operator: 'EQUALS',\n                value: 'TRACKER',\n            },\n            operations: [{\n                field: 'categoryCombo',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n        {\n            field: 'valueType',\n            when: {\n                field: 'optionSet',\n                operator: 'HAS_VALUE',\n            },\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }, {\n                type: 'CHANGE_VALUE',\n                setValue: setValueTypeToOptionSet,\n            }],\n        },\n        {\n            field: 'aggregationType',\n            when: {\n                field: 'valueType',\n                operator: 'ONEOF',\n                value: [\n                    'TEXT',\n                    'LONG_TEXT',\n                    'LETTER',\n                    'PHONE_NUMBER',\n                    'EMAIL',\n                    'TRACKER_ASSOCIATE',\n                    'USERNAME',\n                    'FILE_RESOURCE',\n                    'COORDINATE',\n                ],\n            },\n            operations: [{\n                field: 'aggregationType',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }, {\n                field: 'aggregationType',\n                type: 'CHANGE_VALUE',\n                setValue: (model, fieldConfig) => {\n                    fieldConfig.value = 'NONE';\n                    model[fieldConfig.name] = 'NONE';\n                },\n            }],\n        },\n    ]],\n    ['dataSetNotificationTemplate', [\n        {\n            when: [\n                {\n                    field: 'dataSetNotificationTrigger',\n                    operator: 'NOT_EQUALS',\n                    value: 'SCHEDULED_DAYS',\n                },\n            ],\n            operations: [\n                {\n                    field: 'relativeScheduledDays',\n                    type: 'HIDE_FIELD',\n                },\n                {\n                    field: 'sendStrategy',\n                    type: 'HIDE_FIELD',\n                },\n            ],\n        },\n        {\n            field: 'deliveryChannels',\n            when: [\n                {\n                    field: 'notificationRecipient',\n                    operator: 'NOT_EQUALS',\n                    value: 'ORGANISATION_UNIT_CONTACT',\n                },\n            ],\n            operations: [\n                {\n                    field: 'deliveryChannels',\n                    type: 'HIDE_FIELD',\n                },\n            ],\n        },\n    ]],\n    ['attribute', [\n        {\n            field: 'valueType',\n            when: {\n                field: 'optionSet',\n                operator: 'HAS_VALUE',\n            },\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }, {\n                type: 'CHANGE_VALUE',\n                setValue: setValueTypeToOptionSet,\n            }],\n        },\n    ]],\n    ['trackedEntityAttribute', [\n        {\n            field: 'unique',\n            when: [{\n                field: 'valueType',\n                operator: 'ONEOF',\n                value: [\n                    'BOOLEAN',\n                    'TRUE_ONLY',\n                    'DATE',\n                    'TRACKER_ASSOCIATE',\n                    'USERNAME',\n                    'OPTION_SET',\n                ],\n            }],\n            operations: [\n                {\n                    field: 'unique',\n                    type: 'SET_PROP',\n                    propName: 'disabled',\n                    thenValue: true,\n                    elseValue: false,\n                },\n                {\n                    field: 'unique',\n                    type: 'CHANGE_VALUE',\n                    setValue: (model, fieldConfig) => {\n                        fieldConfig.value = false;\n                        model.unique = false;\n                    },\n                },\n            ],\n        },\n        {\n            field: 'valueType',\n            when: {\n                field: 'optionSet',\n                operator: 'HAS_VALUE',\n            },\n            operations: [\n                {\n                    type: 'SET_PROP',\n                    propName: 'disabled',\n                    thenValue: true,\n                    elseValue: false,\n                }, {\n                    type: 'CHANGE_VALUE',\n                    setValue: setValueTypeToOptionSet,\n                },\n            ],\n        },\n        {\n            field: 'orgunitScope',\n            when: [\n                {\n                    field: 'unique',\n                    operator: 'NOT_EQUALS',\n                    value: true,\n                },\n                {\n                    field: 'valueType',\n                    operator: 'ONEOF',\n                    value: [\n                        'BOOLEAN',\n                        'TRUE_ONLY',\n                        'DATE',\n                        'TRACKER_ASSOCIATE',\n                        'USERNAME',\n                        'OPTION_SET',\n                    ],\n                },\n            ],\n            operations: [{ type: 'HIDE_FIELD' }],\n        },\n        {\n            field: 'generated',\n            when: [\n                {\n                    field: 'orgunitScope',\n                    operator: 'IS_HIDDEN_FIELD',\n                },\n                {\n                    field: 'orgunitScope',\n                    operator: 'ONEOF',\n                    value: ['organisation_unit'],\n                },\n                {\n                    field: 'orgunitScope',\n                    operator: 'EQUALS',\n                    value: true,\n                },\n            ],\n            operations: [\n                {\n                    type: 'HIDE_FIELD',\n                },\n                {\n                    type: 'CHANGE_VALUE',\n                    setValue: (model, fieldConfig) => {\n                        fieldConfig.value = false;\n                        model.generated = false;\n                    },\n                },\n            ],\n        },\n        {\n            field: 'pattern',\n            when: [\n                {\n                    field: 'generated',\n                    operator: 'IS_HIDDEN_FIELD',\n                },\n                {\n                    field: 'generated',\n                    operator: 'NOT_EQUALS',\n                    value: true,\n                },\n            ],\n            operations: [\n                {\n                    type: 'HIDE_FIELD',\n                },\n                {\n                    type: 'CHANGE_VALUE',\n                    setValue: (model, fieldConfig) => {\n                        fieldConfig.value = null;\n                        model.pattern = null;\n                    },\n                },\n            ],\n        },\n    ]],\n    ['externalMapLayer', [\n        {\n            // When legendSet has value, clear and disable the legendSetUrl field\n            field: 'legendSetUrl',\n            when: [{\n                field: 'legendSet',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                field: 'legendSetUrl',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n        {\n            // When legendSetUrl has value, clear and disable the legendSet field\n            field: 'legendSet',\n            when: [{\n                field: 'legendSetUrl',\n                operator: 'HAS_STRING_VALUE',\n            }],\n            operations: [{\n                field: 'legendSet',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n    ]],\n    ['organisationUnit', [\n        {\n            field: 'dataSets',\n            when: [{\n                operator: 'SYSTEM_SETTING_IS_FALSE',\n                value: 'keyAllowObjectAssignment',\n            }],\n            operations: [{\n                field: 'dataSets',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'programs',\n            when: [{\n                operator: 'SYSTEM_SETTING_IS_FALSE',\n                value: 'keyAllowObjectAssignment',\n            }],\n            operations: [{\n                field: 'programs',\n                type: 'HIDE_FIELD',\n            }],\n        },\n    ]],\n    ['programRule', [\n        {\n            field: 'name',\n            when: [{\n                field: 'program',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: false,\n                elseValue: true,\n            }],\n        },\n        {\n            field: 'description',\n            when: [{\n                field: 'program',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: false,\n                elseValue: true,\n            }],\n        },\n        {\n            field: 'priority',\n            when: [{\n                field: 'program',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: false,\n                elseValue: true,\n            }],\n        },\n        {\n            field: 'condition',\n            when: [{\n                field: 'program',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: false,\n                elseValue: true,\n            }],\n        },\n        {\n            field: 'programRuleActions',\n            when: [{\n                field: 'program',\n                operator: 'HAS_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: false,\n                elseValue: true,\n            }],\n        },\n    ]],\n    ['programRuleVariable', [\n        {\n            field: 'program',\n            when: [{\n                field: 'dataElement',\n                operator: 'HAS_STRING_VALUE',\n            }, {\n                field: 'trackedEntityAttribute',\n                operator: 'HAS_STRING_VALUE',\n            }, {\n                field: 'programStage',\n                operator: 'HAS_STRING_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n        {\n            field: 'dataElement',\n            when: [{\n                field: 'programRuleVariableSourceType',\n                operator: 'ONEOF',\n                value: [\n                    'CALCULATED_VALUE',\n                    'TEI_ATTRIBUTE',\n                ],\n            }],\n            operations: [{\n                field: 'dataElement',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'trackedEntityAttribute',\n            when: [{\n                field: 'programRuleVariableSourceType',\n                operator: 'NOT_EQUALS',\n                value: 'TEI_ATTRIBUTE',\n            }],\n            operations: [{\n                field: 'trackedEntityAttribute',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'programStage',\n            when: [{\n                field: 'programRuleVariableSourceType',\n                operator: 'NOT_EQUALS',\n                value: 'DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE',\n            }],\n            operations: [{\n                field: 'programStage',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'programStage',\n            when: [{\n                field: 'dataElement',\n                operator: 'HAS_STRING_VALUE',\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n    ]],\n    ['programStage', [\n        {\n            field: 'autoGenerateEvent',\n            when: [{\n                field: 'autoGenerateEvent',\n                operator: 'NOT_EQUALS',\n                value: true,\n            }],\n            operations: [{\n                field: 'openAfterEnrollment',\n                type: 'HIDE_FIELD',\n            }, {\n                field: 'reportDateToUse',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'reportDateToUse',\n            when: [{\n                field: 'openAfterEnrollment',\n                operator: 'NOT_EQUALS',\n                value: true,\n            }],\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n    ]],\n    ['eventProgramStage', [\n        createDefaultRuleForField('validationStrategy', \"ON_COMPLETE\"),\n    ]],\n    ['programIndicator', [{\n        field: 'analyticsPeriodBoundaries',\n        when: [{\n            field: 'analyticsType',\n            operator: 'EQUALS',\n            value: 'EVENT',\n        }],\n        operations: [{\n            type: 'CHANGE_VALUE',\n            setValue: (model, fieldConfig) => {\n                if (fieldConfig) {\n                    fieldConfig.value = defaultAnalyticsPeriodBoundaries('event', fieldConfig.value);\n                    model[fieldConfig.name] = defaultAnalyticsPeriodBoundaries('event', fieldConfig.value);\n                }\n            },\n        }],\n    }, {\n        field: 'analyticsPeriodBoundaries',\n        when: [{\n            field: 'analyticsType',\n            operator: 'EQUALS',\n            value: 'ENROLLMENT',\n        }],\n        operations: [{\n            type: 'CHANGE_VALUE',\n            setValue: (model, fieldConfig) => {\n                if (fieldConfig) {\n                    fieldConfig.value = defaultAnalyticsPeriodBoundaries('enrollment', fieldConfig.value);\n                    model[fieldConfig.name] = defaultAnalyticsPeriodBoundaries('enrollment', fieldConfig.value);\n                }\n            },\n        }],\n    }]],\n    ['programStageNotificationTemplate', [\n        {\n            field: 'notificationTrigger',\n            when: [{\n                field: 'notificationTrigger',\n                operator: 'NOT_EQUALS',\n                value: 'SCHEDULED_DAYS_DUE_DATE',\n            }],\n            operations: [{\n                field: 'relativeScheduledDays',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NONEOF',\n                value: [\n                    'TRACKED_ENTITY_INSTANCE',\n                    'ORGANISATION_UNIT_CONTACT',\n                ],\n            }],\n            operations: [{\n                field: 'deliveryChannels',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'DATA_ELEMENT',\n            }],\n            operations: [{\n                field: 'recipientDataElement',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'PROGRAM_ATTRIBUTE',\n            }],\n            operations: [{\n                field: 'recipientProgramAttribute',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'USER_GROUP',\n            }],\n            operations: [{\n                field: 'notifyUsersInHierarchyOnly',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'USER_GROUP',\n            }],\n            operations: [{\n                field: 'notifyParentOrganisationUnitOnly',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notifyUsersInHierarchyOnly',\n            when: [{\n                field: 'notifyParentOrganisationUnitOnly',\n                operator: 'EQUALS',\n                value: true,\n            }],\n            operations: [{\n                field: 'notifyUsersInHierarchyOnly',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n        {\n            field: 'notifyParentOrganisationUnitOnly',\n            when: [{\n                field: 'notifyUsersInHierarchyOnly',\n                operator: 'EQUALS',\n                value: true,\n            }],\n            operations: [{\n                field: 'notifyParentOrganisationUnitOnly',\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n    ]],\n    ['programNotificationTemplate', [\n        {\n            field: 'notificationTrigger',\n            when: [{\n                field: 'notificationTrigger',\n                operator: 'NONEOF',\n                value: [\n                    'SCHEDULED_DAYS_INCIDENT_DATE',\n                    'SCHEDULED_DAYS_ENROLLMENT_DATE',\n                ],\n            }],\n            operations: [{\n                field: 'relativeScheduledDays',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NONEOF',\n                value: [\n                    'TRACKED_ENTITY_INSTANCE',\n                    'ORGANISATION_UNIT_CONTACT',\n                ],\n            }],\n            operations: [{\n                field: 'deliveryChannels',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'PROGRAM_ATTRIBUTE',\n            }],\n            operations: [{\n                field: 'recipientProgramAttribute',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'USER_GROUP',\n            }],\n            operations: [{\n                field: 'notifyUsersInHierarchyOnly',\n                type: 'HIDE_FIELD',\n            }],\n        },\n        {\n            field: 'notificationRecipient',\n            when: [{\n                field: 'notificationRecipient',\n                operator: 'NOT_EQUALS',\n                value: 'USER_GROUP',\n            }],\n            operations: [{\n                field: 'notifyParentOrganisationUnitOnly',\n                type: 'HIDE_FIELD',\n            }],\n        },\n    ]],\n    ['categoryCombo', [\n        {\n            field: 'dataDimensionType',\n            when: [{\n                field: 'dataDimensionType',\n                operator: 'HAS_NO_VALUE'\n            }],\n            operations: [{\n                type: 'CHANGE_VALUE',\n                setValue: (model, fieldConfig) => {\n                    fieldConfig.value = model[fieldConfig.name] = 'DISAGGREGATION'\n                }\n            }]\n        }\n     ]],\n     ['sqlView', [\n        {\n            field: 'name',\n            when: {\n                field: 'id',\n                operator: 'HAS_VALUE',\n            },\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n        {\n            field: 'type',\n            when: {\n                field: 'id',\n                operator: 'HAS_VALUE',\n            },\n            operations: [{\n                type: 'SET_PROP',\n                propName: 'disabled',\n                thenValue: true,\n                elseValue: false,\n            }],\n        },\n    ]],\n    ['relationshipType', [\n        {\n            field: 'toFromName',\n            when: {\n                field: 'bidirectional',\n                operator: 'NOT_EQUALS',\n                value: true\n            },\n            operations: [{\n                type: 'HIDE_FIELD',\n            }],\n        },\n    ]],\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/field-rules.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _SvgIcon = require('../../SvgIcon');\n\nvar _SvgIcon2 = _interopRequireDefault(_SvgIcon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NavigationArrowBack = function NavigationArrowBack(props) {\n  return _react2.default.createElement(\n    _SvgIcon2.default,\n    props,\n    _react2.default.createElement('path', { d: 'M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z' })\n  );\n};\nNavigationArrowBack = (0, _pure2.default)(NavigationArrowBack);\nNavigationArrowBack.displayName = 'NavigationArrowBack';\nNavigationArrowBack.muiName = 'SvgIcon';\n\nexports.default = NavigationArrowBack;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/material-ui/svg-icons/navigation/arrow-back.js\n// module id = 3659\n// module chunks = 0 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _SvgIcon = require('../../SvgIcon');\n\nvar _SvgIcon2 = _interopRequireDefault(_SvgIcon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NavigationArrowForward = function NavigationArrowForward(props) {\n  return _react2.default.createElement(\n    _SvgIcon2.default,\n    props,\n    _react2.default.createElement('path', { d: 'M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z' })\n  );\n};\nNavigationArrowForward = (0, _pure2.default)(NavigationArrowForward);\nNavigationArrowForward.displayName = 'NavigationArrowForward';\nNavigationArrowForward.muiName = 'SvgIcon';\n\nexports.default = NavigationArrowForward;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/material-ui/svg-icons/navigation/arrow-forward.js\n// module id = 3660\n// module chunks = 0 1 2","import { get } from 'lodash/fp';\n\n/* *\n * The result coming from FormBuilder validateField will contain an error message on fail and\n * a boolean true if it succeeds.\n */\nconst isInvalidField = validatedResult => validatedResult !== true;\n\nconst isRequiredField = field => get('isRequired', field.fieldOptions) === true;\n\nconst isDirtyField = field => field.value;\n\nconst isRequiredOrDirtyField = field => isRequiredField(field) || isDirtyField(field);\n\nconst validateField = (field, formRef, formRefStateClone) => {\n    const validateResult = formRef.validateField(formRefStateClone, field.name, field.value);\n    return {\n        invalid: isInvalidField(validateResult),\n        step: field.step,\n        name: field.translatedName,\n        message: validateResult,\n    };\n};\n\n/* *\n * Constructs the error message to present to the snackBar.\n * Adds the step that the field can be found on (if present).\n */\nconst getErrorMessage = (field) => {\n    const fieldStep = field.step ? `: ${field.name}. On step ${field.step}` : '';\n    const errorMessage = `${field.message}${fieldStep}`;\n    return errorMessage;\n};\n\n/**\n * Will first filter out all the fields that are invalid.\n * This includes fields that are:\n * - Required.\n * - Fields that are dirty.\n * Then it will validate the fields using a reference to the formBuilder.\n * Lastly it will fetch the first field with a failing validator.\n */\nconst getFirstInvalidField = (fieldConfigs, formRef, formRefStateClone) =>\n    fieldConfigs\n        .filter(fieldConfig => isRequiredOrDirtyField(fieldConfig))\n        .map(fieldConfig => validateField(fieldConfig, formRef, formRefStateClone))\n        .find(field => field.invalid);\n\n/**\n * Validate checks all the fields that are required or has a invalid value in the form.\n * The validation will set the fields as invalid in the formbuilder and set\n * the new state of the form.\n *\n * If any the fields are not valid, it will create a message string\n * of the first invalid field.\n *\n * @returns {string}\n * The name and step/group of the invalid field.\n * If no invalid field, it will return an empty string.\n */\nexport default function getFirstInvalidFieldMessage(fieldConfigs, formRef) {\n    const formRefStateClone = formRef.getStateClone();\n\n    const firstInvalidField = getFirstInvalidField(fieldConfigs, formRef, formRefStateClone);\n\n    if (!firstInvalidField) {\n        return '';\n    }\n    formRef.setState(formRefStateClone);\n\n    const errorMessage = getErrorMessage(firstInvalidField);\n    return errorMessage;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/form-helpers/validateFields.js","import React from 'react';\nimport { getInstance } from 'd2/lib/d2';\nimport CircularProgress from 'd2-ui/lib/circular-progress/CircularProgress';\n\nimport DropDown from '../forms/form-fields/drop-down';\nimport store from './indicatorGroupsStore';\n\nfunction getLoadingIndicator() {\n    return (\n        <div style={{ textAlign: 'center' }}>\n            <CircularProgress />\n        </div>\n    );\n}\n\nfunction findValue(optionList, model) {\n    return optionList\n        .map(option => option.value)\n        .find(option => Array.from(model.indicatorGroups.values()).map(indicatorGroup => indicatorGroup.id).indexOf(option) !== -1);\n}\n\nexport default React.createClass({\n    propTypes: {\n        source: React.PropTypes.object.isRequired,\n    },\n\n    getInitialState() {\n        store.setState({\n            indicatorGroupValues: {},\n            remove: [],\n            save: [],\n        });\n\n        return {\n            indicatorGroupSets: null,\n        };\n    },\n\n    componentDidMount() {\n        getInstance()\n            .then(d2 => d2.Api.getApi().get('indicatorGroupSets', {\n                fields: 'id,displayName,indicatorGroups[id,displayName]',\n                filter: ['compulsory:eq:true'],\n                paging: false,\n            }))\n            .then(response => response.indicatorGroupSets)\n            .then(indicatorGroupSets => this.setState({ indicatorGroupSets }));\n\n        this.subscription = store.subscribe(() => this.forceUpdate());\n    },\n\n    componentWillUnmount() {\n        if (this.subscription) {\n            this.subscription && this.subscription.unsubscribe();\n        }\n    },\n\n    render() {\n        if (!this.state.indicatorGroupSets) {\n            return getLoadingIndicator();\n        }\n\n        return (\n            <div>\n                {this.state.indicatorGroupSets.map((indicatorGroupSet, key) => {\n                    const optionList = indicatorGroupSet.indicatorGroups.map(ig => ({\n                        value: ig.id,\n                        text: ig.displayName,\n                    }));\n\n                    const value = Object.prototype.hasOwnProperty.call(store.state.indicatorGroupValues, indicatorGroupSet.id) ? store.state.indicatorGroupValues[indicatorGroupSet.id] : findValue(optionList, this.props.source);\n\n                    return (\n                        <div key={`dataIndicatorGroupAssignment${key}`}>\n                            <DropDown\n                                key={indicatorGroupSet.id}\n                                labelText={indicatorGroupSet.displayName}\n                                translateLabel={false}\n                                options={optionList}\n                                value={value}\n                                onChange={this._updateGroupStatus.bind(this, indicatorGroupSet.id, findValue(optionList, this.props.source))}\n                                fullWidth\n                            />\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    },\n\n    _updateGroupStatus(indicatorGroupSetId, oldValue, event) {\n        // TODO: Very bad to change props and set d2.model.dirty manually\n        this.props.source.dirty = true;\n\n        store.setState({\n            indicatorGroupValues: Object.assign({}, store.state.indicatorGroupValues, { [indicatorGroupSetId]: event.target.value ? event.target.value : null }),\n            remove: Array.from((new Set(store.state.remove.concat([oldValue])).values())),\n        });\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/DataIndicatorGroupsAssignment.component.js","import React from 'react';\nimport log from 'loglevel';\nimport { Observable } from 'rxjs';\n\nimport { getInstance } from 'd2/lib/d2';\n\nimport CircularProgress from 'd2-ui/lib/circular-progress/CircularProgress';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\n\nimport SaveButton from './SaveButton.component';\nimport CancelButton from './CancelButton.component';\nimport SharingNotification from './SharingNotification.component';\nimport FormButtons from './FormButtons.component';\n\nimport fieldGroups from '../config/field-config/field-groups';\nimport extraFields from './extraFields';\n\nimport disabledOnEdit from '../config/disabled-on-edit';\nimport modelToEditStore from './modelToEditStore';\n\nimport objectActions from './objectActions';\nimport snackActions from '../Snackbar/snack.actions';\n\nimport appState from '../App/appStateStore';\nimport { createFieldConfigForModelTypes, addUniqueValidatorWhenUnique } from './formHelpers';\nimport { applyRulesToFieldConfigs, getRulesForModelType } from './form-rules';\nimport extractFirstErrorMessageFromServer from './form-helpers/extractFirstErrorMessageFromServer';\nimport { getStepFields, createStepper } from './stepper/stepper';\nimport getFirstInvalidFieldMessage from './form-helpers/validateFields';\n\nconst currentSection$ = appState\n    .filter(state => state.sideBar && state.sideBar.currentSection)\n    .map(state => state.sideBar.currentSubSection)\n    .filter(state => state)\n    .distinctUntilChanged();\n\nconst editFormFieldsForCurrentSection$ = currentSection$\n    .flatMap(modelType => Observable.fromPromise(createFieldConfigForModelTypes(modelType)));\n\nconst isAddOperation = model => model.id === undefined;\n\nconst d2$ = Observable.fromPromise(getInstance());\n\nconst modelToEditAndModelForm$ = Observable\n    .combineLatest(modelToEditStore, editFormFieldsForCurrentSection$, currentSection$, d2$)\n    .filter(([modelToEdit, formFields, currentType]) => {\n        if (modelToEdit && modelToEdit.modelDefinition && modelToEdit.modelDefinition.name) {\n            return modelToEdit.modelDefinition.name === currentType;\n        }\n        return false;\n    })\n    .map(([modelToEdit, editFormFieldsForCurrentModelType, modelType, d2]) => {\n        const fieldConfigs = editFormFieldsForCurrentModelType\n        // TODO: When switching to the FormBuilder that manages state this function for all values\n        // would need to be executed only for the field that actually changed and/or the values that\n        // change because of it.\n            .map((fieldConfig) => {\n                fieldConfig.fieldOptions.model = modelToEdit;\n\n                if (!isAddOperation(modelToEdit) && disabledOnEdit.for(modelType).indexOf(fieldConfig.name) !== -1) {\n                    fieldConfig.props.disabled = true;\n                }\n\n                // Check if value is an attribute\n                if (Object.keys(modelToEdit.attributes || []).indexOf(fieldConfig.name) >= 0) {\n                    fieldConfig.value = modelToEdit.attributes[fieldConfig.name];\n                    return fieldConfig;\n                }\n\n                // The value is passes through a converter before being set onto the field config.\n                // This is useful for when a value is a number and might have to be translated to a\n                // value of the type Number.\n                if (fieldConfig.beforePassToFieldConverter) {\n                    fieldConfig.value = fieldConfig.beforePassToFieldConverter(modelToEdit[fieldConfig.name]);\n                } else {\n                    fieldConfig.value = modelToEdit[fieldConfig.name];\n                }\n\n                return fieldConfig;\n            });\n\n        const fieldConfigsAfterRules = applyRulesToFieldConfigs(\n            getRulesForModelType(modelToEdit.modelDefinition.name),\n            fieldConfigs,\n            modelToEdit,\n        );\n\n        const fieldConfigsWithAttributeFields = [].concat(\n            fieldConfigsAfterRules,\n            // getAttributeFieldConfigs(d2, modelToEdit),\n            (extraFields[modelType] || []).map((config) => {\n                config.props = config.props || {};\n                config.props.modelToEdit = modelToEdit;\n                return config;\n            }),\n        );\n\n        const fieldConfigsWithAttributeFieldsAndUniqueValidators = fieldConfigsWithAttributeFields\n            .map(fieldConfig => addUniqueValidatorWhenUnique(fieldConfig, modelToEdit));\n\n        return {\n            fieldConfigs: fieldConfigsWithAttributeFieldsAndUniqueValidators,\n            modelToEdit,\n            isLoading: false,\n        };\n    });\n\nexport default React.createClass({\n    propTypes: {\n        modelId: React.PropTypes.string.isRequired,\n        modelType: React.PropTypes.string.isRequired,\n        onSaveSuccess: React.PropTypes.func.isRequired,\n        onSaveError: React.PropTypes.func,\n        onCancel: React.PropTypes.func.isRequired,\n    },\n\n    mixins: [Translate],\n\n    getInitialState() {\n        return {\n            modelToEdit: undefined,\n            isLoading: true,\n            formState: {\n                validating: false,\n                valid: true,\n                pristine: true,\n            },\n            activeStep: 0,\n        };\n    },\n\n    isAddOperation() {\n        return this.props.modelId === 'add';\n    },\n\n    componentWillMount() {\n        this.subscription = modelToEditAndModelForm$\n            .subscribe((newState) => {\n                this.setState(newState);\n                this.setActiveStep(this.state.activeStep);\n            }, (errorMessage) => {\n                snackActions.show({ message: errorMessage, action: 'ok' });\n            });\n    },\n\n    componentWillUnmount() {\n        this.subscription && this.subscription.unsubscribe();\n        this.saveSubscription && this.saveSubscription.unsubscribe();\n    },\n\n\n    /*\n     *  Sets the style of the fields that are not part of the active steps to 'none'\n     *  so that they are \"hidden\". For this to work, the components needs to have\n     *  an outer div that receives the props.style.\n     */\n    setActiveStep(step) {\n        this.setState({\n            activeStep: step,\n            fieldConfigs: getStepFields(\n                step,\n                this.state.fieldConfigs,\n                this.props.modelType,\n            ),\n        });\n    },\n\n    setFormRef(form) {\n        this.formRef = form;\n    },\n\n    _onUpdateField(fieldName, value) {\n        const fieldConfig = this.state.fieldConfigs.find(fieldConfig => fieldConfig.name === fieldName);\n        if (fieldConfig && fieldConfig.beforeUpdateConverter) {\n            return objectActions.update({\n                fieldName,\n                value: fieldConfig.beforeUpdateConverter(value),\n            });\n        }\n        return objectActions.update({ fieldName, value });\n    },\n\n    _onUpdateFormStatus(formState) {\n        this.setState({\n            formState,\n        });\n    },\n\n    saveSuccess(message) {\n        snackActions.show({ message, translate: true });\n        this.props.onSaveSuccess(this.state.modelToEdit);\n    },\n\n    saveFail(error) {\n        // TODO: d2 queries require a JSON body on 200 OK, an empty body is not valid JSON\n        this.setState({isSaving: false})\n        if (error.httpStatusCode === 200) {\n            log.warn('Save errored due to empty 200 OK body');\n\n            snackActions.show({ message: 'success', action: 'ok', translate: true });\n\n            this.props.onSaveSuccess(this.state.modelToEdit);\n        } else {\n            const firstErrorMessage = extractFirstErrorMessageFromServer(error);\n            snackActions.show({ message: firstErrorMessage, action: 'ok' });\n            this.props.onSaveError && this.props.onSaveError(error);\n            log.error(error);\n        }\n    },\n\n    _saveAction(event) {\n        event.preventDefault();\n        const invalidFieldMessage = getFirstInvalidFieldMessage(this.state.fieldConfigs, this.formRef);\n        if (invalidFieldMessage) {\n            snackActions.show({\n                message: invalidFieldMessage,\n                action: 'ok',\n            });\n            return;\n        }\n        // Set state to saving so forms actions are being prevented\n        this.setState({ isSaving: true });\n        this.saveSubscription = objectActions.saveObject({ id: this.props.modelId, modelType: this.props.modelType })\n            .subscribe(\n                this.saveSuccess,\n                this.saveFail,\n                () => this.setState({ isSaving: false })\n            );\n    },\n\n    _closeAction(event) {\n        event.preventDefault();\n\n        this.props.onCancel();\n    },\n\n    renderSharingNotification() {\n        const formPaperStyle = {\n            width: '100%',\n            margin: '0 auto 3rem',\n            position: 'relative',\n        };\n\n        if (this.isAddOperation()) {\n            return (<SharingNotification style={formPaperStyle} modelType={this.props.modelType} />);\n        }\n\n        return null;\n    },\n\n    renderStepper() {\n        const steps = fieldGroups.for(this.props.modelType);\n        const stepCount = steps.length;\n        return stepCount > 1 &&\n            createStepper({\n                steps,\n                activeStep: this.state.activeStep,\n                stepperClicked: this.setActiveStep,\n            });\n    },\n\n    renderForm() {\n        const formPaperStyle = {\n            width: '100%',\n            margin: '0 auto 2rem',\n            padding: '2rem 5rem 4rem',\n            position: 'relative',\n        };\n\n        if (this.state.isLoading) {\n            return (\n                <CircularProgress />\n            );\n        }\n\n        return (\n            <div style={formPaperStyle}>\n                {this.renderStepper()}\n                {this.renderSharingNotification()}\n                <FormBuilder\n                    fields={this.state.fieldConfigs}\n                    onUpdateField={this._onUpdateField}\n                    onUpdateFormStatus={this._onUpdateFormStatus}\n                    ref={this.setFormRef}\n                />\n                <FormButtons>\n                    <SaveButton\n                        onClick={this._saveAction}\n                        isValid={this.state.formState.valid && !this.state.formState.validating}\n                        isSaving={this.state.isSaving}\n                    />\n                    <CancelButton onClick={this._closeAction} />\n                </FormButtons>\n            </div>\n        );\n    },\n\n    render() {\n        if (this.state.loading) {\n            return (<div>Loading data....</div>);\n        }\n        return this.renderForm();\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditModelForm.component.js","import { Observable } from 'rxjs';\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport Action from 'd2-ui/lib/action/Action';\nimport IndicatorExpressionManager from 'd2-ui/lib/expression-manager/ExpressionManager';\nimport React from 'react';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport indicatorExpressionStatusStore from 'd2-ui/lib/expression-manager/ExpressionStatus.store';\n\nimport { createActionToValidation$ } from '../utils/createActionToValidation$';\n\nconst actionToValidation$ = createActionToValidation$(\n    'indicators/expression/description'\n)\n\nconst indicatorExpressionStatusActions = Action.createActionsFromNames(['requestExpressionStatus']);\nindicatorExpressionStatusActions.requestExpressionStatus\n    .debounceTime(500)\n    .map((action) => {\n        const encodedFormula = encodeURIComponent(action.data);\n        const url = `expressions/description?expression=${encodedFormula}`;\n        const request = getD2()\n            .then(d2 => d2.Api.getApi().get(url));\n\n        return Observable.fromPromise(request);\n    })\n    .concatAll()\n    .subscribe((response) => {\n        indicatorExpressionStatusStore.setState(response);\n    });\n\nconst IndicatorExpressionManagerContainer = React.createClass({\n    propTypes: {\n        indicatorExpressionChanged: React.PropTypes.func.isRequired,\n        description: React.PropTypes.string,\n        formula: React.PropTypes.string,\n        titleText: React.PropTypes.string,\n    },\n\n    mixins: [Translate],\n\n    getInitialState() {\n        return {\n            organisationUnitGroups: [],\n            constants: [],\n            programTrackedEntityAttributes: [],\n            programIndicators: [],\n            programDataElements: [],\n        };\n    },\n\n    componentDidMount() {\n        getD2()\n            .then(d2 => d2.models.organisationUnitGroup.list({ paging: false, fields: 'id,displayName' }))\n            .then(collection => collection.toArray().map(model => ({ value: model.id, label: model.displayName })))\n            .then(organisationUnitGroups => this.setState({ organisationUnitGroups }));\n\n        getD2()\n            .then(d2 => d2.models.constant.list({ paging: false, fields: 'id,displayName' }))\n            .then(collection => collection.toArray().map(model => ({ value: model.id, label: model.displayName })))\n            .then(constants => this.setState({ constants }));\n\n        this.refs.expressionManager.requestExpressionStatus();\n    },\n\n    getExpressionManager() {\n        return this.refs.expressionManager;\n    },\n\n    render() {\n        return (\n            <IndicatorExpressionManager\n                descriptionLabel={this.getTranslation('description')}\n                descriptionValue={this.props.description}\n                formulaValue={this.props.formula}\n                expressionStatusStore={indicatorExpressionStatusStore}\n                expressionChanged={this.props.indicatorExpressionChanged}\n                titleText={this.props.titleText}\n                validateExpression={actionToValidation$}\n                ref=\"expressionManager\"\n            />\n        );\n    },\n});\n\nexport default IndicatorExpressionManagerContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/IndicatorExpressionManagerContainer.component.js","import React from 'react';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\nimport Paper from 'material-ui/Paper/Paper';\nimport { withAuth } from \"../utils/Auth\";\n\nconst SharingNotification = React.createClass({\n    propTypes: {\n        modelType: React.PropTypes.string,\n        style: React.PropTypes.object,\n    },\n\n    mixins: [Translate],\n\n    render() {\n        const modelDef = this.props.getModelDefinitionByName(this.props.modelType);\n        const createPublic = this.props.getCurrentUser().canCreatePublic(modelDef);\n        const createPrivate = this.props.getCurrentUser().canCreatePrivate(modelDef);\n        const notificationStyle = Object.assign({}, this.props.style, {\n            background: 'none',\n            margin: '14px 0 0 -4px',\n        });\n        const notificationTextStyle = {\n            verticalAlign: 'super',\n            lineHeight: '24px',\n            paddingLeft: '.5rem',\n        };\n        let toRender = null;\n\n        if (createPublic) {\n            toRender = (\n                <Paper style={notificationStyle} zDepth={0}>\n                    <FontIcon className=\"material-icons\">lock_open</FontIcon><span style={notificationTextStyle}>{this.getTranslation('object_will_created_public')}</span>\n                </Paper>\n            );\n        } else if (createPrivate) {\n            toRender = (\n                <Paper style={notificationStyle} zDepth={0}>\n                    <FontIcon className=\"material-icons\">lock</FontIcon><span style={notificationTextStyle}>{this.getTranslation('object_will_created_private')}</span>\n                </Paper>\n                );\n        }\n\n        return toRender;\n    },\n});\n\nexport default withAuth(SharingNotification);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SharingNotification.component.js","import React from 'react';\nimport { getInstance } from 'd2/lib/d2';\nimport CircularProgress from 'd2-ui/lib/circular-progress/CircularProgress';\n\nimport DropDown from '../../forms/form-fields/drop-down';\nimport store from './dataElementGroupsStore';\n\nfunction getLoadingdataElement() {\n    return (\n        <div style={{ textAlign: 'center' }}>\n            <CircularProgress />\n        </div>\n    );\n}\n\nfunction findValue(optionList, model) {\n    return optionList\n        .map(option => option.value)\n        .find(option => Array.from(model.dataElementGroups.values()).map(dataElementGroup => dataElementGroup.id).indexOf(option) !== -1);\n}\n\nexport default React.createClass({\n    propTypes: {\n        source: React.PropTypes.object.isRequired,\n    },\n\n    getInitialState() {\n        store.setState({\n            dataElementGroupValues: {},\n            remove: [],\n            save: [],\n        });\n\n        return {\n            dataElementGroupSets: null,\n        };\n    },\n\n    componentDidMount() {\n        getInstance()\n            .then(d2 => d2.Api.getApi().get('dataElementGroupSets', {\n                fields: 'id,displayName,dataElementGroups[id,displayName]',\n                filter: ['compulsory:eq:true'],\n                paging: false,\n            }))\n            .then(response => response.dataElementGroupSets)\n            .then(dataElementGroupSets => this.setState({ dataElementGroupSets }));\n\n        this.subscription = store.subscribe(() => this.forceUpdate());\n    },\n\n    componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n\n    _updateGroupStatus(dataElementGroupSetId, oldValue, event) {\n        // TODO: Very bad to change props and set d2.model.dirty manually\n        this.props.source.dirty = true;\n\n        store.setState({\n            dataElementGroupValues: Object.assign({}, store.state.dataElementGroupValues, { [dataElementGroupSetId]: event.target.value ? event.target.value : null }),\n            remove: Array.from((new Set(store.state.remove.concat([oldValue])).values())),\n        });\n    },\n\n    render() {\n        if (!this.state.dataElementGroupSets) {\n            return getLoadingdataElement();\n        }\n\n        return (\n            <div>\n                {this.state.dataElementGroupSets.map((dataElementGroupSet) => {\n                    const optionList = dataElementGroupSet.dataElementGroups.map(ig => ({\n                        value: ig.id,\n                        text: ig.displayName,\n                    }));\n\n                    const value = Object.prototype.hasOwnProperty.call(store.state.dataElementGroupValues, dataElementGroupSet.id) ? store.state.dataElementGroupValues[dataElementGroupSet.id] : findValue(optionList, this.props.source);\n\n                    return (\n                        <div key={dataElementGroupSet.id}>\n                            <DropDown\n                                labelText={dataElementGroupSet.displayName}\n                                translateLabel={false}\n                                options={optionList}\n                                value={value}\n                                onChange={this._updateGroupStatus.bind(this, dataElementGroupSet.id, findValue(optionList, this.props.source))}\n                                fullWidth\n                            />\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/data-element/DataElementGroupsAssignment.component.js","import React from 'react';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\n\nimport IndicatorExpressionManagerContainer from './IndicatorExpressionManagerContainer.component';\nimport modelToEditStore from './modelToEditStore';\nimport DataIndicatorGroupsAssignment from './DataIndicatorGroupsAssignment.component';\nimport DataElementGroupsAssignment from './data-element/DataElementGroupsAssignment.component';\n\nconst styles = {\n    saveButton: {\n        marginRight: '1rem',\n    },\n    customContentStyle: {\n        width: '95%',\n        maxWidth: 'none',\n    },\n};\n\nclass IndicatorExtraFields extends React.Component {\n    constructor(props, state) {\n        super(props, state);\n        this.state = {\n            dialogValid: true,\n            dialogOpen: false,\n        };\n\n        this.setNumerator = this.setNumerator.bind(this);\n        this.setDenominator = this.setDenominator.bind(this);\n        this.closeDialog = this.closeDialog.bind(this);\n        this.saveToModelAndCloseDialog = this.saveToModelAndCloseDialog.bind(this);\n        this.indicatorExpressionChanged = this.indicatorExpressionChanged.bind(this);\n    }\n\n    setNumerator() {\n        this.setState({ type: 'numerator', dialogOpen: true });\n    }\n\n    setDenominator() {\n        this.setState({ type: 'denominator', dialogOpen: true });\n    }\n\n    closeDialog() {\n        this.setState({ dialogOpen: false });\n    }\n\n    saveToModelAndCloseDialog() {\n        if (this.state.expressionStatus.isValid) {\n            this.props.modelToEdit[this.state.type] = this.state.expressionFormula;\n            this.props.modelToEdit[`${this.state.type}Description`] = this.state.expressionDescription;\n\n            modelToEditStore.setState(this.props.modelToEdit);\n        }\n\n        this.setState({ dialogOpen: false });\n    }\n\n    indicatorExpressionChanged(data) {\n        const expressionValues = {};\n\n        if (data.expressionStatus.isValid) {\n            expressionValues.expressionStatus = data.expressionStatus;\n            expressionValues.expressionDescription = data.description;\n            expressionValues.expressionFormula = data.formula;\n        }\n\n        this.setState({\n            dialogValid: data.expressionStatus.isValid && Boolean(data.description.trim()),\n            ...expressionValues,\n        });\n    }\n\n    renderExpressionManager() {\n        return (\n            <IndicatorExpressionManagerContainer\n                indicatorExpressionChanged={this.indicatorExpressionChanged}\n                formula={this.props.modelToEdit[this.state.type] || ''}\n                description={this.props.modelToEdit[`${this.state.type}Description`] || ''}\n                ref=\"expressionManagerContainer\"\n            />\n        );\n    }\n\n    render() {\n        const d2 = this.context.d2;\n\n        const dialogActions = [\n            // TODO: This button should \"commit\" the change to the model where a cancel button will discard any changes made\n            <FlatButton label={d2.i18n.getTranslation('cancel')} onTouchTap={this.closeDialog} />,\n            <FlatButton label={d2.i18n.getTranslation('done')} onTouchTap={this.saveToModelAndCloseDialog} disabled={!this.state.dialogValid} />,\n        ];\n\n        return (\n            <div>\n                <div style={{ marginTop: '2rem' }}>\n                    <RaisedButton label={d2.i18n.getTranslation('edit_numerator')} onClick={this.setNumerator} style={{ marginRight: '2rem' }} />\n                    <RaisedButton label={d2.i18n.getTranslation('edit_denominator')} onClick={this.setDenominator} />\n                    <Dialog\n                        title={d2.i18n.getTranslation(`edit_${this.state.type}`)}\n                        open={this.state.dialogOpen}\n                        modal\n                        actions={dialogActions}\n                        contentStyle={styles.customContentStyle}\n                        autoScrollBodyContent\n                        repositionOnUpdate={false}\n                    >\n                        {this.state ? this.renderExpressionManager() : null}\n                    </Dialog>\n                </div>\n                <div style={{ marginTop: '2rem' }}>\n                    <DataIndicatorGroupsAssignment source={this.props.modelToEdit} />\n                </div>\n            </div>\n        );\n    }\n}\n\nIndicatorExtraFields.propTypes = {\n    modelToEdit: React.PropTypes.object.isRequired,\n};\n\nexport default {\n    dataElement: [\n        {\n            name: 'dataElementGroupAssignment',\n            component: props => (\n                <div style={{ marginTop: '2rem' }}>\n                    <DataElementGroupsAssignment source={props.modelToEdit} />\n                </div>\n            ),\n        },\n    ],\n    indicator: [\n        {\n            name: 'indicatorGroupAssignmentAndGroupAssignments',\n            component: addD2Context(IndicatorExtraFields),\n        },\n    ],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/extraFields.js","import { get, getOr, compose, first, filter, identity } from 'lodash/fp';\n\nconst extractFirstMessageFromErrorReports = compose(get('message'), first, getOr([], 'errorReports'), get('response'));\n\nconst extractFirstMessageFromMessages = compose(get('message'), first, get('messages'));\n\nconst firstNotUndefinedIn = compose(first, filter(identity));\n\nexport default function extractFirstErrorMessageFromServer(response) {\n    const messages = [\n        extractFirstMessageFromErrorReports(response),\n        extractFirstMessageFromMessages(response),\n    ];\n\n    return firstNotUndefinedIn(messages);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/form-helpers/extractFirstErrorMessageFromServer.js","export default [\n    'dataDimensionType',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/category.js","export default [\n    'dataDimensionType',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/categoryCombo.js","export default [\n    'name',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/categoryOptionCombo.js","export default [\n    'dataDimensionType',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/categoryOptionGroup.js","export default [\n    'dataDimensionType',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/categoryOptionGroupSet.js","import category from './category';\nimport categoryCombo from './categoryCombo';\nimport categoryOptionCombo from './categoryOptionCombo';\nimport categoryOptionGroup from './categoryOptionGroup';\nimport categoryOptionGroupSet from './categoryOptionGroupSet';\nimport optionSet from './optionSet';\nimport programRule from './programRule';\nimport optionGroup from './optionGroup';\nimport optionGroupSet from './optionGroupSet';\n\nconst disabledByType = {\n    category,\n    categoryCombo,\n    categoryOptionCombo,\n    categoryOptionGroup,\n    categoryOptionGroupSet,\n    optionSet,\n    programRule,\n    optionGroup,\n    optionGroupSet,\n};\n\nexport default {\n    for(schemaName) {\n        if (schemaName && disabledByType[schemaName]) {\n            return disabledByType[schemaName];\n        }\n        return [];\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/index.js","export default [\n    'optionSet',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/optionGroup.js","export default [\n    'optionSet',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/optionGroupSet.js","export default [\n    'valueType',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/optionSet.js","export default [\n    'program',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/disabled-on-edit/programRule.js","import Store from '../store/Store';\n\nexport default Store.create();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/expression-manager/ExpressionStatus.store.js\n// module id = 3723\n// module chunks = 0 1","import React from 'react';\nimport Paper from 'material-ui/Paper/Paper';\nimport EditModelForm from './EditModelForm.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nexport default function EditModel(props) {\n    return (\n        <Paper>\n            <EditModelForm\n                {...props}\n                onCancel={() => goToAndScrollUp(`/list/${props.groupName}/${props.modelType}`)}\n                onSaveSuccess={() => goToAndScrollUp(`/list/${props.groupName}/${props.modelType}`)}\n            />\n        </Paper>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditModel.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport EditModel from './EditModel.component';\nimport FormHeading from './FormHeading';\n\nfunction EditModelContainer(props) {\n    const schema = props.params.modelType || 'organisationUnit';\n\n    return (\n        <div>\n            <div style={{ display: 'flex', flexDirection: 'row', marginBottom: '1rem' }}>\n                <FormHeading schema={schema} groupName={props.params.groupName}>\n                    {camelCaseToUnderscores(schema)}\n                </FormHeading>\n            </div>\n            <EditModel\n                groupName={props.params.groupName}\n                modelType={schema}\n                modelId={props.params.modelId}\n            />\n        </div>\n    );\n}\n\nEditModelContainer.propTypes = {\n    params: PropTypes.any.isRequired,\n};\n\nexport default EditModelContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditModelContainer.component.js"],"sourceRoot":""}