{"version":3,"sources":["webpack:///8-e21334cb611588cd501a.js","webpack:///./src/GroupEditor/GroupEditor.component.js","webpack:///./~/d2-ui/lib/group-editor/GroupEditor.component.js?efdd******","webpack:///./~/d2-ui/lib/i18n/Translate.mixin.js?9c04*****","webpack:///./src/GroupEditor/ItemSelector.component.js","webpack:///./src/GroupEditor/ModelTypeSelector.component.js","webpack:///./src/GroupEditor/GroupsForItemManager.component.js","webpack:///./src/GroupEditor/ItemsInGroupManager.component.js"],"names":["webpackJsonp","1410","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__","__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__","React","createClass","displayName","render","a","createElement","onChange","this","_tabChanged","label","ref","refs","itemsForGroup","reset","groupsForItem","1437","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_5__circular_progress_CircularProgress__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","i18n","strings","add","GroupEditor","_Component","context","_this","getPrototypeOf","state","selectedLeft","selectedRight","loading","onAssignItems","setState","map","leftSelect","selectedOptions","item","then","clearSelection","catch","onRemoveItems","rightSelect","onAssignAll","options","onRemoveAll","byAssignedItemsOrder","left","right","assignedItemStore","Array","isArray","indexOf","d2","getTranslation","bind","_this2","disposables","push","itemStore","subscribe","forceUpdate","hasOwnProperty","filter","text","toLowerCase","filterText","trim","forEach","disposable","unsubscribe","undefined","values","has","name","getItemStoreIsCollection","from","id","size","getItemStoreIsArray","getAssignedItemStoreIsCollection","_this3","getAllItems","getIsValueAssigned","_this4","filterItems","getAssignedItems","getAvailableItems","getFilterText","getAssignedItemsFiltered","getAvailableItemsFiltered","getAssignedItemsCount","getAssignedItemsFilterCount","getAvailableItemsCount","getAvailableItemsFilterCount","Math","max","getAvailableSelectedCount","getAssignedSelectedCount","arguments","selectedIndex","items","_this5","_this6","filterHeight","styles","container","display","marginTop","marginBottom","height","flex","middle","alignSelf","textAlign","paper","width","select","minHeight","border","fontFamily","fontSize","outline","padding","buttons","minWidth","maxWidth","selected","status","hidden","color","fontStyle","background","maxHeight","overflow","textOverflow","whiteSpace","onChangeLeft","e","onChangeRight","hiddenLabel","itemCount","getItemCount","style","multiple","r","onDoubleClick","getAvailableItemsUnfilteredCount","disabled","onClick","secondary","getSelectedCount","small","sort","getAssignedItemsUnfilteredCount","float","propTypes","object","isRequired","string","func","onMoveItems","number","contextTypes","defaultProps","1438","Translate","2147","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default","itemListStore","PropTypes","onItemSelected","getInitialState","componentWillMount","subscription","modelList","model","payload","componentWillUnmount","renderOptions","option","index","primaryText","_onChange","fullWidth","event","2148","hasNameInArray","listToCheck","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__","_extends","assign","source","nameListFilter","arrayOf","mixins","getDefaultProps","selectedModel","d2lib","getInstance","models","modelType","mapThroughDefinitions","v","camelCaseToUnderscores","plural","hintText","2238","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","Store","showGroupEditor","renderGroupEditor","modelToEdit","_workItemChanged","defaultValue","_setFilterText","_assignItems","_removeItems","contentStyle","accessibleModels","schemaName","currentUser","canCreate","_typeChanged","createUrls","_state","itemDefinition","modelDefinition","requests","url","Api","getApi","api","post","Promise","all","get","_ref","_ref2","fullModel","message","log","error","delete","_ref3","_ref4","modelDef","list","paging","fields","modelCollection","toArray","reject","availablePromise","modelPromise","_ref5","_ref6","availableItems","_ref7","_ref8","2239","accessibleGroups","groupName","replace"],"mappings":"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","file":"8-e21334cb611588cd501a.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 1410:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__ = __webpack_require__(286);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__ = __webpack_require__(174);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(552);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__ = __webpack_require__(2239);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__ = __webpack_require__(2238);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupEditor.component',\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default.a,\n                { onChange: this._tabChanged },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage items in group' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__[\"a\" /* default */], { ref: 'itemsForGroup' })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage groups for item' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__[\"a\" /* default */], { ref: 'groupsForItem' })\n                )\n            )\n        );\n    },\n    _tabChanged: function _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    }\n}));\n\n/***/ }),\n\n/***/ 1437:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper__ = __webpack_require__(552);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(548);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__circular_progress_CircularProgress__ = __webpack_require__(550);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n// Material UI\n\n\n\n// D2\n\n\n// D2-UI\n\n\n// TODO: TOAST!\n// TODO: Undo support (in TOAST?)\n\n__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__[\"config\"].i18n.strings.add('selected');\n__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__[\"config\"].i18n.strings.add('assign_all');\n__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__[\"config\"].i18n.strings.add('remove_all');\n__WEBPACK_IMPORTED_MODULE_4_d2_lib_d2__[\"config\"].i18n.strings.add('hidden_by_filters');\n\nvar GroupEditor = function (_Component) {\n    _inherits(GroupEditor, _Component);\n\n    function GroupEditor(props, context) {\n        _classCallCheck(this, GroupEditor);\n\n        var _this = _possibleConstructorReturn(this, (GroupEditor.__proto__ || Object.getPrototypeOf(GroupEditor)).call(this, props, context));\n\n        _this.state = {\n            // Number of items selected in the left/right columns\n            selectedLeft: 0,\n            selectedRight: 0,\n\n            // Loading\n            loading: true\n        };\n\n        _this.onAssignItems = function () {\n            _this.setState({ loading: true });\n            _this.props.onAssignItems([].map.call(_this.leftSelect.selectedOptions, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onRemoveItems = function () {\n            _this.setState({ loading: true });\n            _this.props.onRemoveItems([].map.call(_this.rightSelect.selectedOptions, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onAssignAll = function () {\n            _this.setState({ loading: true });\n            _this.props.onAssignItems([].map.call(_this.leftSelect.options, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onRemoveAll = function () {\n            _this.setState({ loading: true });\n            _this.props.onRemoveItems([].map.call(_this.rightSelect.options, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.byAssignedItemsOrder = function (left, right) {\n            var assignedItemStore = _this.props.assignedItemStore.state;\n\n            // Don't order anything if the assignedItemStore is not an array\n            // TODO: Support sorting for a ModelCollectionProperty\n            if (!Array.isArray(assignedItemStore)) {\n                return 0;\n            }\n\n            return assignedItemStore.indexOf(left.value) > assignedItemStore.indexOf(right.value) ? 1 : -1;\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(GroupEditor, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.disposables = [];\n\n            this.disposables.push(this.props.itemStore.subscribe(function (state) {\n                return _this2.setState({ loading: !state });\n            }));\n            this.disposables.push(this.props.assignedItemStore.subscribe(function () {\n                return _this2.forceUpdate();\n            }));\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            if (props.hasOwnProperty('filterText') && this.leftSelect && this.rightSelect) {\n                this.setState({\n                    selectedLeft: [].filter.call(this.leftSelect.selectedOptions, function (item) {\n                        return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                    }).length,\n                    selectedRight: [].filter.call(this.rightSelect.selectedOptions, function (item) {\n                        return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                    }).length\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.disposables.forEach(function (disposable) {\n                disposable.unsubscribe();\n            });\n        }\n\n        //\n        // Event handlers\n        //\n\n    }, {\n        key: 'getItemStoreIsCollection',\n\n\n        //\n        // Data handling utility functions\n        //\n        value: function getItemStoreIsCollection() {\n            return this.props.itemStore.state !== undefined && typeof this.props.itemStore.state.values === 'function' && typeof this.props.itemStore.state.has === 'function';\n        }\n    }, {\n        key: 'getItemStoreIsArray',\n        value: function getItemStoreIsArray() {\n            return this.props.itemStore.state !== undefined && this.props.itemStore.state.constructor.name === 'Array';\n        }\n    }, {\n        key: 'getAssignedItemStoreIsCollection',\n        value: function getAssignedItemStoreIsCollection() {\n            return this.props.assignedItemStore.state !== undefined && typeof this.props.assignedItemStore.state.values === 'function' && typeof this.props.assignedItemStore.state.has === 'function';\n        }\n    }, {\n        key: 'getAssignedItemStoreIsArray',\n        value: function getAssignedItemStoreIsArray() {\n            return this.props.assignedItemStore.state !== undefined && this.props.assignedItemStore.state.constructor.name === 'Array';\n        }\n    }, {\n        key: 'getAllItems',\n        value: function getAllItems() {\n            return this.getItemStoreIsCollection() ? Array.from(this.props.itemStore.state.values()).map(function (item) {\n                return { value: item.id, text: item.name };\n            }) : this.props.itemStore.state || [];\n        }\n    }, {\n        key: 'getItemCount',\n        value: function getItemCount() {\n            return this.getItemStoreIsCollection() && this.props.itemStore.state.size || this.getItemStoreIsArray() && this.props.itemStore.state.length || 0;\n        }\n    }, {\n        key: 'getIsValueAssigned',\n        value: function getIsValueAssigned(value) {\n            return this.getAssignedItemStoreIsCollection() ? this.props.assignedItemStore.state.has(value) : this.props.assignedItemStore.state && this.props.assignedItemStore.state.indexOf(value) !== -1;\n        }\n    }, {\n        key: 'getAssignedItems',\n        value: function getAssignedItems() {\n            var _this3 = this;\n\n            return this.getAllItems().filter(function (item) {\n                return _this3.getIsValueAssigned(item.value);\n            });\n        }\n    }, {\n        key: 'getAvailableItems',\n        value: function getAvailableItems() {\n            var _this4 = this;\n\n            return this.getAllItems().filter(function (item) {\n                return !_this4.getIsValueAssigned(item.value);\n            });\n        }\n    }, {\n        key: 'getAllItemsFiltered',\n        value: function getAllItemsFiltered() {\n            return this.filterItems(this.getAllItems());\n        }\n    }, {\n        key: 'getAssignedItemsFiltered',\n        value: function getAssignedItemsFiltered() {\n            return this.filterItems(this.getAssignedItems());\n        }\n    }, {\n        key: 'getAvailableItemsFiltered',\n        value: function getAvailableItemsFiltered() {\n            return this.filterItems(this.getAvailableItems());\n        }\n    }, {\n        key: 'getAssignedItemsCount',\n        value: function getAssignedItemsCount() {\n            return this.getAssignedItems().length;\n        }\n    }, {\n        key: 'getAvailableItemsCount',\n        value: function getAvailableItemsCount() {\n            return this.getAvailableItems().length;\n        }\n    }, {\n        key: 'getAssignedItemsFilterCount',\n        value: function getAssignedItemsFilterCount() {\n            return this.getFilterText().length === 0 ? 0 : this.getAssignedItems().length - this.getAssignedItemsFiltered().length;\n        }\n    }, {\n        key: 'getAvailableItemsFilterCount',\n        value: function getAvailableItemsFilterCount() {\n            return this.getFilterText().length === 0 ? 0 : this.getAvailableItems().length - this.getAvailableItemsFiltered().length;\n        }\n    }, {\n        key: 'getAssignedItemsUnfilteredCount',\n        value: function getAssignedItemsUnfilteredCount() {\n            return this.getFilterText().length === 0 ? this.getAssignedItemsCount() : this.getAssignedItemsCount() - this.getAssignedItemsFilterCount();\n        }\n    }, {\n        key: 'getAvailableItemsUnfilteredCount',\n        value: function getAvailableItemsUnfilteredCount() {\n            return this.getFilterText().length === 0 ? this.getAvailableItemsCount() : this.getAvailableItemsCount() - this.getAvailableItemsFilterCount();\n        }\n    }, {\n        key: 'getFilterText',\n        value: function getFilterText() {\n            return this.props.filterText ? this.props.filterText.trim().toLowerCase() : '';\n        }\n    }, {\n        key: 'getAvailableSelectedCount',\n        value: function getAvailableSelectedCount() {\n            return Math.max(this.state.selectedLeft, 0);\n        }\n    }, {\n        key: 'getAssignedSelectedCount',\n        value: function getAssignedSelectedCount() {\n            return Math.max(this.state.selectedRight, 0);\n        }\n    }, {\n        key: 'getSelectedCount',\n        value: function getSelectedCount() {\n            return Math.max(this.getAvailableSelectedCount(), this.getAssignedSelectedCount());\n        }\n    }, {\n        key: 'getSelectedItems',\n        value: function getSelectedItems() {\n            return [].map.call(this.rightSelect.selectedOptions, function (item) {\n                return item.value;\n            });\n        }\n    }, {\n        key: 'clearSelection',\n        value: function clearSelection() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (left) {\n                this.leftSelect.selectedIndex = -1;\n            }\n\n            if (right) {\n                this.rightSelect.selectedIndex = -1;\n            }\n\n            this.setState(function (state) {\n                return {\n                    selectedLeft: left ? 0 : state.selectedLeft,\n                    selectedRight: right ? 0 : state.selectedRight\n                };\n            });\n        }\n    }, {\n        key: 'filterItems',\n        value: function filterItems(items) {\n            var _this5 = this;\n\n            return items.filter(function (item) {\n                return _this5.getFilterText().length === 0 || item.text.trim().toLowerCase().indexOf(_this5.getFilterText()) !== -1;\n            });\n        }\n\n        //\n        // Rendering\n        //\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            var filterHeight = this.getFilterText().length > 0 ? 15 : 0;\n            var styles = {\n                container: {\n                    display: 'flex',\n                    marginTop: 16,\n                    marginBottom: 32,\n                    height: this.props.height + 'px'\n                },\n                left: {\n                    flex: '1 0 120px'\n                },\n                middle: {\n                    flex: '0 0 120px',\n                    alignSelf: 'center',\n                    textAlign: 'center'\n                },\n                right: {\n                    flex: '1 0 120px'\n                },\n                paper: {\n                    width: '100%',\n                    height: '100%'\n                },\n                select: {\n                    width: '100%',\n                    minHeight: '50px',\n                    height: this.props.height - filterHeight + 'px',\n                    border: 'none',\n                    fontFamily: 'Roboto',\n                    fontSize: 13,\n                    outline: 'none'\n                },\n                options: {\n                    padding: '.25rem .5rem'\n                },\n                buttons: {\n                    minWidth: '100px',\n                    maxWidth: '100px',\n                    marginTop: '8px'\n                },\n                selected: {\n                    fontSize: 13,\n                    minHeight: '15px',\n                    marginTop: '45px',\n                    padding: '0 8px'\n                },\n                status: {\n                    marginTop: '8px',\n                    minHeight: '60px'\n                },\n                hidden: {\n                    fontSize: 13,\n                    color: '#404040',\n                    fontStyle: 'italic',\n                    textAlign: 'center',\n                    width: '100%',\n                    background: '#d0d0d0',\n                    maxHeight: '15px',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                }\n            };\n\n            var onChangeLeft = function onChangeLeft(e) {\n                _this6.clearSelection(false, true);\n                _this6.setState({\n                    selectedLeft: e.target.selectedOptions.length\n                });\n            };\n\n            var onChangeRight = function onChangeRight(e) {\n                _this6.clearSelection(true, false);\n                _this6.setState({\n                    selectedRight: e.target.selectedOptions.length\n                });\n            };\n\n            var hiddenLabel = function hiddenLabel(itemCount) {\n                return _this6.getItemCount() > 0 && _this6.getFilterText().length > 0 ? itemCount + ' ' + _this6.getTranslation('hidden_by_filters') : '';\n            };\n\n            var selectedLabel = function selectedLabel() {\n                return _this6.getSelectedCount() > 0 ? _this6.getSelectedCount() + ' ' + _this6.getTranslation('selected') : '';\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.container },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.left },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper___default.a,\n                        { style: styles.paper },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'div',\n                            { style: styles.hidden },\n                            hiddenLabel(this.getAvailableItemsFilterCount())\n                        ),\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'select',\n                            {\n                                multiple: true,\n                                style: styles.select,\n                                onChange: onChangeLeft,\n                                ref: function ref(r) {\n                                    _this6.leftSelect = r;\n                                }\n                            },\n                            this.getAvailableItemsFiltered().map(function (item) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'option',\n                                    {\n                                        key: item.value,\n                                        value: item.value,\n                                        onDoubleClick: _this6.onAssignItems,\n                                        style: styles.options\n                                    },\n                                    item.text\n                                );\n                            })\n                        )\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default.a, {\n                        label: this.getTranslation('assign_all') + ' ' + (this.getAvailableItemsUnfilteredCount() === 0 ? '' : this.getAvailableItemsUnfilteredCount()) + ' \\u2192',\n                        disabled: this.state.loading || this.getAvailableItemsUnfilteredCount() === 0,\n                        onClick: this.onAssignAll,\n                        style: { marginTop: '1rem' },\n                        secondary: true\n                    })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.middle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.selected },\n                        selectedLabel()\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default.a, {\n                        label: '\\u2192',\n                        secondary: true,\n                        onClick: this.onAssignItems,\n                        style: styles.buttons,\n                        disabled: this.state.loading || this.state.selectedLeft === 0\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default.a, {\n                        label: '\\u2190',\n                        secondary: true,\n                        onClick: this.onRemoveItems,\n                        style: styles.buttons,\n                        disabled: this.state.loading || this.state.selectedRight === 0\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.status },\n                        this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__circular_progress_CircularProgress__[\"a\" /* default */], { small: true, style: { width: 60, height: 60 } }) : undefined\n                    )\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.right },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_2_material_ui_Paper_Paper___default.a,\n                        { style: styles.paper },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'div',\n                            { style: styles.hidden },\n                            hiddenLabel(this.getAssignedItemsFilterCount())\n                        ),\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'select',\n                            {\n                                multiple: true,\n                                style: styles.select,\n                                onChange: onChangeRight,\n                                ref: function ref(r) {\n                                    _this6.rightSelect = r;\n                                }\n                            },\n                            this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function (item) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'option',\n                                    {\n                                        key: item.value,\n                                        value: item.value,\n                                        onDoubleClick: _this6.onRemoveItems,\n                                        style: styles.options\n                                    },\n                                    item.text\n                                );\n                            })\n                        )\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default.a, {\n                        label: '\\u2190 ' + this.getTranslation('remove_all') + ' ' + (this.getAssignedItemsUnfilteredCount() > 0 ? this.getAssignedItemsUnfilteredCount() : ''),\n                        style: { float: 'right', marginTop: '1rem' },\n                        disabled: this.state.loading || this.getAssignedItemsUnfilteredCount() === 0,\n                        onClick: this.onRemoveAll,\n                        secondary: true\n                    })\n                )\n            );\n        }\n    }]);\n\n    return GroupEditor;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nGroupEditor.propTypes = {\n    // itemStore: d2-ui store containing all available items, either as a D2 ModelCollection,\n    // or an array on the following format: [{value: 1, text: '1'}, {value: 2, text: '2'}, ...]\n    itemStore: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired,\n\n    // assignedItemStore: d2-ui store containing all items assigned to the current group, either\n    // as a D2 ModelCollectionProperty or an array of ID's that match values in the itemStore\n    assignedItemStore: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired,\n\n    // filterText: A string that will be used to filter items in both columns\n    filterText: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n\n    // Note: Callbacks should return a promise that will resolve when the operation succeeds\n    // and is rejected when it fails. The component will be in a loading state until the promise\n    // resolves or is rejected.\n\n    // assign items callback, called with an array of values to be assigned to the group\n    onAssignItems: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n\n    // remove items callback, called with an array of values to be removed from the group\n    onRemoveItems: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n\n    // remove items callback, called with an array of values to be removed from the group\n    onMoveItems: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n\n    // The height of the component, defaults to 500px\n    height: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number\n};\n\nGroupEditor.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\nGroupEditor.defaultProps = {\n    height: 500,\n    filterText: '',\n    onMoveItems: function onMoveItems() {}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GroupEditor);\n\n/***/ }),\n\n/***/ 1438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n\n\n\nvar Translate = {\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Translate);\n\n/***/ }),\n\n/***/ 2147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(278);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemSelector.component',\n\n    propTypes: {\n        itemListStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n        onItemSelected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            items: []\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        this.subscription = this.props.itemListStore.map(function (modelList) {\n            return modelList.map(function (model) {\n                return {\n                    text: model.displayName,\n                    payload: model.id,\n                    model: model\n                };\n            });\n        }).subscribe(function (items) {\n            if (items.length) {\n                _this.props.onItemSelected(items[0].model);\n            }\n\n            _this.setState({ items: items });\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n    renderOptions: function renderOptions() {\n        return this.state.items.map(function (option, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n        });\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                { onChange: this._onChange, value: this.props.value && this.props.value.id, fullWidth: true },\n                this.renderOptions()\n            )\n        );\n    },\n    _onChange: function _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    }\n}));\n\n/***/ }),\n\n/***/ 2148:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(278);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1438);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ModelTypeSelector.component',\n\n    propTypes: {\n        nameListFilter: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string),\n        onChange: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            nameListFilter: []\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            selectedModel: null\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return _this.setState({ models: d2.models });\n        });\n    },\n    _onChange: function _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType\n        });\n\n        this.props.onChange(modelType);\n    },\n    renderOptions: function renderOptions() {\n        var _this2 = this;\n\n        if (this.state && this.state.models) {\n            return this.state.models.mapThroughDefinitions(function (v) {\n                return v;\n            }).filter(hasNameInArray(this.props.nameListFilter)).map(function (value) {\n                return {\n                    text: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default()(value.plural)),\n                    payload: value\n                };\n            }).map(function (option, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n            });\n        }\n        return [];\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    value: this.state.selectedModel,\n                    hintText: this.getTranslation('select_an_object_type'),\n                    fullWidth: true\n                }, this.props, {\n                    onChange: this._onChange\n                }),\n                this.renderOptions()\n            )\n        );\n    }\n}));\n\n/***/ }),\n\n/***/ 2238:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(547);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1438);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(1437);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupsForItemManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    render: function render() {\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        var d2 = this.context.d2;\n        var accessibleModels = ['indicator', 'dataElement', 'categoryOption'].filter(function (schemaName) {\n            return d2.currentUser.canCreate(d2.models[schemaName + 'Group']);\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleModels,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ }),\n\n/***/ 2239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(547);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(1438);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(1437);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemsInGroupManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    render: function render() {\n        var d2 = this.context.d2;\n\n        var accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup'].filter(function (groupName) {\n            return d2.currentUser.canCreate(d2.models[groupName]);\n        });\n\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleGroups,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8-e21334cb611588cd501a.js","import React from 'react';\n\nimport Tabs from 'material-ui/Tabs/Tabs';\nimport Tab from 'material-ui/Tabs/Tab';\nimport Paper from 'material-ui/Paper/Paper';\n\nimport ItemsInGroupManager from './ItemsInGroupManager.component';\nimport GroupsForItemManager from './GroupsForItemManager.component';\n\nexport default React.createClass({\n    render() {\n        return (\n            <Paper>\n                <Tabs onChange={this._tabChanged}>\n                    <Tab label=\"Manage items in group\">\n                        <ItemsInGroupManager ref=\"itemsForGroup\" />\n                    </Tab>\n                    <Tab label=\"Manage groups for item\">\n                        <GroupsForItemManager ref=\"groupsForItem\" />\n                    </Tab>\n                </Tabs>\n            </Paper>\n        );\n    },\n\n    _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupEditor.component.js","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// Material UI\nimport Paper from 'material-ui/Paper/Paper';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\n\n// D2\nimport { config } from 'd2/lib/d2';\n\n// D2-UI\nimport CircularProgress from '../circular-progress/CircularProgress';\n\n// TODO: TOAST!\n// TODO: Undo support (in TOAST?)\n\nconfig.i18n.strings.add('selected');\nconfig.i18n.strings.add('assign_all');\nconfig.i18n.strings.add('remove_all');\nconfig.i18n.strings.add('hidden_by_filters');\n\nvar GroupEditor = function (_Component) {\n    _inherits(GroupEditor, _Component);\n\n    function GroupEditor(props, context) {\n        _classCallCheck(this, GroupEditor);\n\n        var _this = _possibleConstructorReturn(this, (GroupEditor.__proto__ || Object.getPrototypeOf(GroupEditor)).call(this, props, context));\n\n        _this.state = {\n            // Number of items selected in the left/right columns\n            selectedLeft: 0,\n            selectedRight: 0,\n\n            // Loading\n            loading: true\n        };\n\n        _this.onAssignItems = function () {\n            _this.setState({ loading: true });\n            _this.props.onAssignItems([].map.call(_this.leftSelect.selectedOptions, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onRemoveItems = function () {\n            _this.setState({ loading: true });\n            _this.props.onRemoveItems([].map.call(_this.rightSelect.selectedOptions, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onAssignAll = function () {\n            _this.setState({ loading: true });\n            _this.props.onAssignItems([].map.call(_this.leftSelect.options, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.onRemoveAll = function () {\n            _this.setState({ loading: true });\n            _this.props.onRemoveItems([].map.call(_this.rightSelect.options, function (item) {\n                return item.value;\n            })).then(function () {\n                _this.clearSelection();\n                _this.setState({ loading: false });\n            }).catch(function () {\n                _this.setState({ loading: false });\n            });\n        };\n\n        _this.byAssignedItemsOrder = function (left, right) {\n            var assignedItemStore = _this.props.assignedItemStore.state;\n\n            // Don't order anything if the assignedItemStore is not an array\n            // TODO: Support sorting for a ModelCollectionProperty\n            if (!Array.isArray(assignedItemStore)) {\n                return 0;\n            }\n\n            return assignedItemStore.indexOf(left.value) > assignedItemStore.indexOf(right.value) ? 1 : -1;\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(GroupEditor, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.disposables = [];\n\n            this.disposables.push(this.props.itemStore.subscribe(function (state) {\n                return _this2.setState({ loading: !state });\n            }));\n            this.disposables.push(this.props.assignedItemStore.subscribe(function () {\n                return _this2.forceUpdate();\n            }));\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            if (props.hasOwnProperty('filterText') && this.leftSelect && this.rightSelect) {\n                this.setState({\n                    selectedLeft: [].filter.call(this.leftSelect.selectedOptions, function (item) {\n                        return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                    }).length,\n                    selectedRight: [].filter.call(this.rightSelect.selectedOptions, function (item) {\n                        return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                    }).length\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.disposables.forEach(function (disposable) {\n                disposable.unsubscribe();\n            });\n        }\n\n        //\n        // Event handlers\n        //\n\n    }, {\n        key: 'getItemStoreIsCollection',\n\n\n        //\n        // Data handling utility functions\n        //\n        value: function getItemStoreIsCollection() {\n            return this.props.itemStore.state !== undefined && typeof this.props.itemStore.state.values === 'function' && typeof this.props.itemStore.state.has === 'function';\n        }\n    }, {\n        key: 'getItemStoreIsArray',\n        value: function getItemStoreIsArray() {\n            return this.props.itemStore.state !== undefined && this.props.itemStore.state.constructor.name === 'Array';\n        }\n    }, {\n        key: 'getAssignedItemStoreIsCollection',\n        value: function getAssignedItemStoreIsCollection() {\n            return this.props.assignedItemStore.state !== undefined && typeof this.props.assignedItemStore.state.values === 'function' && typeof this.props.assignedItemStore.state.has === 'function';\n        }\n    }, {\n        key: 'getAssignedItemStoreIsArray',\n        value: function getAssignedItemStoreIsArray() {\n            return this.props.assignedItemStore.state !== undefined && this.props.assignedItemStore.state.constructor.name === 'Array';\n        }\n    }, {\n        key: 'getAllItems',\n        value: function getAllItems() {\n            return this.getItemStoreIsCollection() ? Array.from(this.props.itemStore.state.values()).map(function (item) {\n                return { value: item.id, text: item.name };\n            }) : this.props.itemStore.state || [];\n        }\n    }, {\n        key: 'getItemCount',\n        value: function getItemCount() {\n            return this.getItemStoreIsCollection() && this.props.itemStore.state.size || this.getItemStoreIsArray() && this.props.itemStore.state.length || 0;\n        }\n    }, {\n        key: 'getIsValueAssigned',\n        value: function getIsValueAssigned(value) {\n            return this.getAssignedItemStoreIsCollection() ? this.props.assignedItemStore.state.has(value) : this.props.assignedItemStore.state && this.props.assignedItemStore.state.indexOf(value) !== -1;\n        }\n    }, {\n        key: 'getAssignedItems',\n        value: function getAssignedItems() {\n            var _this3 = this;\n\n            return this.getAllItems().filter(function (item) {\n                return _this3.getIsValueAssigned(item.value);\n            });\n        }\n    }, {\n        key: 'getAvailableItems',\n        value: function getAvailableItems() {\n            var _this4 = this;\n\n            return this.getAllItems().filter(function (item) {\n                return !_this4.getIsValueAssigned(item.value);\n            });\n        }\n    }, {\n        key: 'getAllItemsFiltered',\n        value: function getAllItemsFiltered() {\n            return this.filterItems(this.getAllItems());\n        }\n    }, {\n        key: 'getAssignedItemsFiltered',\n        value: function getAssignedItemsFiltered() {\n            return this.filterItems(this.getAssignedItems());\n        }\n    }, {\n        key: 'getAvailableItemsFiltered',\n        value: function getAvailableItemsFiltered() {\n            return this.filterItems(this.getAvailableItems());\n        }\n    }, {\n        key: 'getAssignedItemsCount',\n        value: function getAssignedItemsCount() {\n            return this.getAssignedItems().length;\n        }\n    }, {\n        key: 'getAvailableItemsCount',\n        value: function getAvailableItemsCount() {\n            return this.getAvailableItems().length;\n        }\n    }, {\n        key: 'getAssignedItemsFilterCount',\n        value: function getAssignedItemsFilterCount() {\n            return this.getFilterText().length === 0 ? 0 : this.getAssignedItems().length - this.getAssignedItemsFiltered().length;\n        }\n    }, {\n        key: 'getAvailableItemsFilterCount',\n        value: function getAvailableItemsFilterCount() {\n            return this.getFilterText().length === 0 ? 0 : this.getAvailableItems().length - this.getAvailableItemsFiltered().length;\n        }\n    }, {\n        key: 'getAssignedItemsUnfilteredCount',\n        value: function getAssignedItemsUnfilteredCount() {\n            return this.getFilterText().length === 0 ? this.getAssignedItemsCount() : this.getAssignedItemsCount() - this.getAssignedItemsFilterCount();\n        }\n    }, {\n        key: 'getAvailableItemsUnfilteredCount',\n        value: function getAvailableItemsUnfilteredCount() {\n            return this.getFilterText().length === 0 ? this.getAvailableItemsCount() : this.getAvailableItemsCount() - this.getAvailableItemsFilterCount();\n        }\n    }, {\n        key: 'getFilterText',\n        value: function getFilterText() {\n            return this.props.filterText ? this.props.filterText.trim().toLowerCase() : '';\n        }\n    }, {\n        key: 'getAvailableSelectedCount',\n        value: function getAvailableSelectedCount() {\n            return Math.max(this.state.selectedLeft, 0);\n        }\n    }, {\n        key: 'getAssignedSelectedCount',\n        value: function getAssignedSelectedCount() {\n            return Math.max(this.state.selectedRight, 0);\n        }\n    }, {\n        key: 'getSelectedCount',\n        value: function getSelectedCount() {\n            return Math.max(this.getAvailableSelectedCount(), this.getAssignedSelectedCount());\n        }\n    }, {\n        key: 'getSelectedItems',\n        value: function getSelectedItems() {\n            return [].map.call(this.rightSelect.selectedOptions, function (item) {\n                return item.value;\n            });\n        }\n    }, {\n        key: 'clearSelection',\n        value: function clearSelection() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (left) {\n                this.leftSelect.selectedIndex = -1;\n            }\n\n            if (right) {\n                this.rightSelect.selectedIndex = -1;\n            }\n\n            this.setState(function (state) {\n                return {\n                    selectedLeft: left ? 0 : state.selectedLeft,\n                    selectedRight: right ? 0 : state.selectedRight\n                };\n            });\n        }\n    }, {\n        key: 'filterItems',\n        value: function filterItems(items) {\n            var _this5 = this;\n\n            return items.filter(function (item) {\n                return _this5.getFilterText().length === 0 || item.text.trim().toLowerCase().indexOf(_this5.getFilterText()) !== -1;\n            });\n        }\n\n        //\n        // Rendering\n        //\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            var filterHeight = this.getFilterText().length > 0 ? 15 : 0;\n            var styles = {\n                container: {\n                    display: 'flex',\n                    marginTop: 16,\n                    marginBottom: 32,\n                    height: this.props.height + 'px'\n                },\n                left: {\n                    flex: '1 0 120px'\n                },\n                middle: {\n                    flex: '0 0 120px',\n                    alignSelf: 'center',\n                    textAlign: 'center'\n                },\n                right: {\n                    flex: '1 0 120px'\n                },\n                paper: {\n                    width: '100%',\n                    height: '100%'\n                },\n                select: {\n                    width: '100%',\n                    minHeight: '50px',\n                    height: this.props.height - filterHeight + 'px',\n                    border: 'none',\n                    fontFamily: 'Roboto',\n                    fontSize: 13,\n                    outline: 'none'\n                },\n                options: {\n                    padding: '.25rem .5rem'\n                },\n                buttons: {\n                    minWidth: '100px',\n                    maxWidth: '100px',\n                    marginTop: '8px'\n                },\n                selected: {\n                    fontSize: 13,\n                    minHeight: '15px',\n                    marginTop: '45px',\n                    padding: '0 8px'\n                },\n                status: {\n                    marginTop: '8px',\n                    minHeight: '60px'\n                },\n                hidden: {\n                    fontSize: 13,\n                    color: '#404040',\n                    fontStyle: 'italic',\n                    textAlign: 'center',\n                    width: '100%',\n                    background: '#d0d0d0',\n                    maxHeight: '15px',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                }\n            };\n\n            var onChangeLeft = function onChangeLeft(e) {\n                _this6.clearSelection(false, true);\n                _this6.setState({\n                    selectedLeft: e.target.selectedOptions.length\n                });\n            };\n\n            var onChangeRight = function onChangeRight(e) {\n                _this6.clearSelection(true, false);\n                _this6.setState({\n                    selectedRight: e.target.selectedOptions.length\n                });\n            };\n\n            var hiddenLabel = function hiddenLabel(itemCount) {\n                return _this6.getItemCount() > 0 && _this6.getFilterText().length > 0 ? itemCount + ' ' + _this6.getTranslation('hidden_by_filters') : '';\n            };\n\n            var selectedLabel = function selectedLabel() {\n                return _this6.getSelectedCount() > 0 ? _this6.getSelectedCount() + ' ' + _this6.getTranslation('selected') : '';\n            };\n\n            return React.createElement(\n                'div',\n                { style: styles.container },\n                React.createElement(\n                    'div',\n                    { style: styles.left },\n                    React.createElement(\n                        Paper,\n                        { style: styles.paper },\n                        React.createElement(\n                            'div',\n                            { style: styles.hidden },\n                            hiddenLabel(this.getAvailableItemsFilterCount())\n                        ),\n                        React.createElement(\n                            'select',\n                            {\n                                multiple: true,\n                                style: styles.select,\n                                onChange: onChangeLeft,\n                                ref: function ref(r) {\n                                    _this6.leftSelect = r;\n                                }\n                            },\n                            this.getAvailableItemsFiltered().map(function (item) {\n                                return React.createElement(\n                                    'option',\n                                    {\n                                        key: item.value,\n                                        value: item.value,\n                                        onDoubleClick: _this6.onAssignItems,\n                                        style: styles.options\n                                    },\n                                    item.text\n                                );\n                            })\n                        )\n                    ),\n                    React.createElement(RaisedButton, {\n                        label: this.getTranslation('assign_all') + ' ' + (this.getAvailableItemsUnfilteredCount() === 0 ? '' : this.getAvailableItemsUnfilteredCount()) + ' \\u2192',\n                        disabled: this.state.loading || this.getAvailableItemsUnfilteredCount() === 0,\n                        onClick: this.onAssignAll,\n                        style: { marginTop: '1rem' },\n                        secondary: true\n                    })\n                ),\n                React.createElement(\n                    'div',\n                    { style: styles.middle },\n                    React.createElement(\n                        'div',\n                        { style: styles.selected },\n                        selectedLabel()\n                    ),\n                    React.createElement(RaisedButton, {\n                        label: '\\u2192',\n                        secondary: true,\n                        onClick: this.onAssignItems,\n                        style: styles.buttons,\n                        disabled: this.state.loading || this.state.selectedLeft === 0\n                    }),\n                    React.createElement(RaisedButton, {\n                        label: '\\u2190',\n                        secondary: true,\n                        onClick: this.onRemoveItems,\n                        style: styles.buttons,\n                        disabled: this.state.loading || this.state.selectedRight === 0\n                    }),\n                    React.createElement(\n                        'div',\n                        { style: styles.status },\n                        this.state.loading ? React.createElement(CircularProgress, { small: true, style: { width: 60, height: 60 } }) : undefined\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { style: styles.right },\n                    React.createElement(\n                        Paper,\n                        { style: styles.paper },\n                        React.createElement(\n                            'div',\n                            { style: styles.hidden },\n                            hiddenLabel(this.getAssignedItemsFilterCount())\n                        ),\n                        React.createElement(\n                            'select',\n                            {\n                                multiple: true,\n                                style: styles.select,\n                                onChange: onChangeRight,\n                                ref: function ref(r) {\n                                    _this6.rightSelect = r;\n                                }\n                            },\n                            this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function (item) {\n                                return React.createElement(\n                                    'option',\n                                    {\n                                        key: item.value,\n                                        value: item.value,\n                                        onDoubleClick: _this6.onRemoveItems,\n                                        style: styles.options\n                                    },\n                                    item.text\n                                );\n                            })\n                        )\n                    ),\n                    React.createElement(RaisedButton, {\n                        label: '\\u2190 ' + this.getTranslation('remove_all') + ' ' + (this.getAssignedItemsUnfilteredCount() > 0 ? this.getAssignedItemsUnfilteredCount() : ''),\n                        style: { float: 'right', marginTop: '1rem' },\n                        disabled: this.state.loading || this.getAssignedItemsUnfilteredCount() === 0,\n                        onClick: this.onRemoveAll,\n                        secondary: true\n                    })\n                )\n            );\n        }\n    }]);\n\n    return GroupEditor;\n}(Component);\n\nGroupEditor.propTypes = {\n    // itemStore: d2-ui store containing all available items, either as a D2 ModelCollection,\n    // or an array on the following format: [{value: 1, text: '1'}, {value: 2, text: '2'}, ...]\n    itemStore: PropTypes.object.isRequired,\n\n    // assignedItemStore: d2-ui store containing all items assigned to the current group, either\n    // as a D2 ModelCollectionProperty or an array of ID's that match values in the itemStore\n    assignedItemStore: PropTypes.object.isRequired,\n\n    // filterText: A string that will be used to filter items in both columns\n    filterText: PropTypes.string,\n\n    // Note: Callbacks should return a promise that will resolve when the operation succeeds\n    // and is rejected when it fails. The component will be in a loading state until the promise\n    // resolves or is rejected.\n\n    // assign items callback, called with an array of values to be assigned to the group\n    onAssignItems: PropTypes.func.isRequired,\n\n    // remove items callback, called with an array of values to be removed from the group\n    onRemoveItems: PropTypes.func.isRequired,\n\n    // remove items callback, called with an array of values to be removed from the group\n    onMoveItems: PropTypes.func,\n\n    // The height of the component, defaults to 500px\n    height: PropTypes.number\n};\n\nGroupEditor.contextTypes = {\n    d2: PropTypes.object\n};\n\nGroupEditor.defaultProps = {\n    height: 500,\n    filterText: '',\n    onMoveItems: function onMoveItems() {}\n};\n\nexport default GroupEditor;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/group-editor/GroupEditor.component.js\n// module id = 1437\n// module chunks = 0 1 2 3 4 5 6 8","import React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Translate = {\n    contextTypes: {\n        d2: PropTypes.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\nexport default Translate;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/Translate.mixin.js\n// module id = 1438\n// module chunks = 0 1 2 3 4 5 8 9 11","import React from 'react';\n\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nexport default React.createClass({\n    propTypes: {\n        itemListStore: React.PropTypes.object.isRequired,\n        onItemSelected: React.PropTypes.func.isRequired,\n    },\n\n    getInitialState() {\n        return {\n            items: [],\n        };\n    },\n\n    componentWillMount() {\n        this.subscription = this.props.itemListStore\n            .map(modelList => modelList\n                    .map(model => ({\n                        text: model.displayName,\n                        payload: model.id,\n                        model,\n                    })))\n            .subscribe((items) => {\n                if (items.length) {\n                    this.props.onItemSelected(items[0].model);\n                }\n\n                this.setState({ items });\n            });\n    },\n\n    componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n\n    renderOptions() {\n        return this.state.items\n            .map((option, index) => <MenuItem key={index} primaryText={option.text} value={option.payload} />);\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField onChange={this._onChange} value={this.props.value && this.props.value.id} fullWidth>{this.renderOptions()}</SelectField>\n            </div>\n        );\n    },\n\n    _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemSelector.component.js","import React from 'react';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport d2lib from 'd2/lib/d2';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\nexport default React.createClass({\n    propTypes: {\n        nameListFilter: React.PropTypes.arrayOf(React.PropTypes.string),\n        onChange: React.PropTypes.func.isRequired,\n    },\n\n    mixins: [Translate],\n\n    getDefaultProps() {\n        return {\n            nameListFilter: [],\n        };\n    },\n\n    getInitialState() {\n        return {\n            selectedModel: null,\n        };\n    },\n\n    componentWillMount() {\n        d2lib.getInstance()\n            .then(d2 => this.setState({ models: d2.models }));\n    },\n\n    _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType,\n        });\n\n        this.props.onChange(modelType);\n    },\n\n    renderOptions() {\n        if (this.state && this.state.models) {\n            return this.state.models\n                .mapThroughDefinitions(v => v)\n                .filter(hasNameInArray(this.props.nameListFilter))\n                .map(value => ({\n                    text: this.getTranslation(camelCaseToUnderscores(value.plural)),\n                    payload: value,\n                }))\n                .map((option, index) => (\n                    <MenuItem key={index} primaryText={option.text} value={option.payload} />\n                    ));\n        }\n        return [];\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField\n                    value={this.state.selectedModel}\n                    hintText={this.getTranslation('select_an_object_type')}\n                    fullWidth\n                    {...this.props}\n                    onChange={this._onChange}\n                >\n                    {this.renderOptions()}\n                </SelectField>\n            </div>\n        );\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ModelTypeSelector.component.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    render() {\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        const d2 = this.context.d2;\n        const accessibleModels = ['indicator', 'dataElement', 'categoryOption']\n            .filter(schemaName => d2.currentUser.canCreate(d2.models[`${schemaName}Group`]));\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleModels}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.post(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _typeChanged(modelDef) {\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = `${model.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) { return; }\n\n        const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupsForItemManager.component.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    contextTypes: {\n        d2: React.PropTypes.object,\n    },\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    render() {\n        const d2 = this.context.d2;\n\n        const accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup']\n            .filter(groupName => d2.currentUser.canCreate(d2.models[groupName]));\n\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleGroups}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib\n                .getInstance()\n                .then(d2 => d2.Api.getApi())\n                .then(api => api.post(url))\n            );\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _typeChanged(modelDef) {\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) { return; }\n\n        const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then(d2 => Promise\n                    .all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemsInGroupManager.component.js"],"sourceRoot":""}