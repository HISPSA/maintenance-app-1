webpackJsonp([5],{1193:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=this.props.getModelDefinitionByName(this.props.params.modelType);return!!("edit"!==e&&"clone"!==e||this.props.getCurrentUser().canUpdate(t))}function l(e){var t=this.props.getModelDefinitionByName(this.props.params.modelType);return!("delete"===e&&!this.props.getCurrentUser().canDelete(t))}function c(e){var t=q.a.for(e),n=["name","shortName"];switch(t.indexOf("description")>=0&&n.push("description"),e){case"dataElement":return n.concat(["formName"]);case"organisationUnitLevel":return["name"]}return n}function u(e,t,n){return X[e]&&X[e][t]?X[e][t][n]:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslatablePropertiesForModelType=c;var p=n(0),d=n.n(p),f=n(2),h=n.n(f),m=n(23),y=n.n(m),g=n(477),b=n.n(g),v=n(1245),_=n(1288),T=n(88),w=n.n(T),S=n(1582),O=n(1297),x=n(1206),E=n(1581),C=n(246),k=n(247),j=n(160),P=n(487),A=n(1589),R=n(1591),I=n(1590),N=n(506),D=n(507),M=n(505),B=n(485),F=n(1594),L=n(61),q=n(1229),U=n(1376),W=n(1278),V=n(227),G=n(1226),H=n(149),K=n(1296),z=n(1592),$=(n(1593),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),Y={dataTableWrap:{display:"flex",flexDirection:"column",flex:2},detailsBoxWrap:{flex:1,marginLeft:"1rem",marginRight:"1rem",opacity:1,flexGrow:0},listDetailsWrap:{flex:1,display:"flex",flexOrientation:"row"},filterWrap:{clear:"both",minHeight:80},box:{display:"inline-block",marginRight:16,width:256},topPagination:{float:"right"},bottomPagination:{marginTop:"-2rem",paddingBottom:"0.5rem"},filtersDropDownAsync:{display:"relative"}},X={program:{programType:{WITH_REGISTRATION:"TRACKER_PROGRAM",WITHOUT_REGISTRATION:"EVENT_PROGRAM"}}},J=function(e){function t(){var e,a,i,s;r(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return a=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={dataRows:[],pager:{total:0},isLoading:!0,detailsObject:null,sharing:{model:null,open:!1},translation:{model:null,open:!1},orgunitassignment:{model:null,open:!1},dataElementOperand:{model:null,open:!1},predictorDialog:{open:!1}},i.getTranslation=function(e){return i.context.d2.i18n.getTranslation(e)},i.translationSaved=function(){L.a.show({message:"translation_saved",translate:!0})},i.translationError=function(e){y.a.error(e),L.a.show({message:"translation_save_error",action:"ok",translate:!0})},i.isContextActionAllowed=function(e,t){if(!e||!e.access)return!1;if("categoryOptionCombo"===e.modelDefinition.name)return"edit"===t?e.access.write:"details"===t&&e.access.read;if(e.access.hasOwnProperty(t))return e.access[t];if("runNow"===t&&"predictor"===e.modelDefinition.name)return i.context.d2.currentUser.authorities.has("F_PREDICTOR_RUN");switch(t){case"edit":return e.access.write;case"clone":return"dataSet"!==e.modelDefinition.name&&"program"!==e.modelDefinition.name&&e.access.write;case"translate":return e.access.read&&e.modelDefinition.identifiableObject;case"details":return e.access.read;case"share":return!0===e.modelDefinition.isShareable&&e.access.write;case"compulsoryDataElements":case"sectionForm":case"dataEntryForm":return"dataSet"===e.modelDefinition.name&&e.access.write;case"pdfDataSetForm":return"dataSet"===e.modelDefinition.name&&e.access.read;case"runNow":case"preview":return"pushAnalysis"===e.modelDefinition.name&&e.access.write;default:return!0}},i.searchListByName=function(e){var t=e.subscribe(function(e){i.setState({isLoading:!0}),P.a.searchByName({modelType:i.props.params.modelType,searchString:e}).subscribe(function(){},function(e){return y.a.error(e)})});i.registerDisposable(t)},i.closeTranslationDialog=function(){D.a.setState(Object.assign({},D.a.state,{open:!1}))},i.closeSharingDialog=function(e){var t=e?Object.assign(N.a.state.model,{publicAccess:e.publicAccess}):N.a.state.model;N.a.setState(Object.assign({},N.a.state,{model:t,open:!1}))},i.closeDataElementOperandDialog=function(){M.a.setState(Object.assign({},M.a.state,{open:!1}))},i.renderFilters=function(){var e=function(e){return function(t){i.setState({isLoading:!0}),P.a.setFilterValue({filterField:e,filterValue:t.target.value,modelType:i.props.params.modelType})}};return d.a.createElement("div",null,d.a.createElement(R.a,{searchObserverHandler:i.searchListByName}),n.i(H.d)(i.props.params.modelType).map(function(t){var n=i.context.d2.models[i.props.params.modelType],a=n.modelProperties.hasOwnProperty(t)&&n.modelProperties[t].hasOwnProperty("constants"),r=a&&n.modelProperties[t].constants.map(function(e){return{text:u(i.props.params.modelType,t,e),value:e}}),o=i.context.d2.models.hasOwnProperty(t)?t:i.props.params.modelType+"."+t;return d.a.createElement("div",{key:t,style:Y.box},a?d.a.createElement(V.a,{labelText:i.getTranslation(t),options:r,onChange:e(t),value:i.state.filters?i.state.filters[t]:null,translateOptions:"periodType"!==t}):d.a.createElement(G.a,{labelText:i.getTranslation(t),referenceType:o,onChange:e(t),value:i.state.filters?i.state.filters[t]:null,quickAddLink:!1,preventAutoDefault:!0,style:Y.filterDrowDownAsync,limit:1,top:-15}))}))},s=a,o(i,s)}return i(t,e),$(t,[{key:"componentWillMount",value:function(){var e=this;this.observerDisposables=[];var t=j.a.subscribe(function(t){b()(t.list)&&(P.a.hideDetailsBox(),e.setState({dataRows:t.list,pager:t.pager,tableColumns:t.tableColumns,filters:t.filters,isLoading:!1}))}),n=k.a.subscribe(function(t){e.setState({detailsObject:t})}),a=N.a.subscribe(function(t){e.setState(function(e){return{sharing:t,dataRows:e.dataRows.map(function(e){return e.id===t.model.id?Object.assign(e,{publicAccess:t.model.publicAccess}):e})}})}),r=D.a.subscribe(function(t){e.setState({translation:t})}),o=M.a.subscribe(function(t){e.setState({dataElementOperand:t})}),i=B.a.subscribe(function(t){e.setState({predictorDialog:t})});this.registerDisposable(t),this.registerDisposable(n),this.registerDisposable(a),this.registerDisposable(r),this.registerDisposable(o),this.registerDisposable(i)}},{key:"componentWillReceiveProps",value:function(e){this.props.params.modelType!==e.params.modelType&&this.setState({isLoading:!0,translation:Object.assign({},this.state.translation,{open:!1})})}},{key:"componentWillUnmount",value:function(){this.observerDisposables.forEach(function(e){return e.unsubscribe()})}},{key:"registerDisposable",value:function(e){this.observerDisposables.push(e)}},{key:"render",value:function(){var e=this,t=n.i(U.a)(this.state.pager),r={hasNextPage:function(){return Boolean(e.state.pager.hasNextPage)&&e.state.pager.hasNextPage()},hasPreviousPage:function(){return Boolean(e.state.pager.hasPreviousPage)&&e.state.pager.hasPreviousPage()},onNextPageClick:function(){e.setState({isLoading:!0}),P.a.getNextPage()},onPreviousPageClick:function(){e.setState({isLoading:!0}),P.a.getPreviousPage()},total:this.state.pager.total,currentlyShown:t},o=Object.keys(C.a).filter(s,this).filter(l,this).filter(function(t){return"share"!==t||e.context.d2.models[e.props.params.modelType]&&e.context.d2.models[e.props.params.modelType].isShareable}).reduce(function(e,t){return e[t]=C.a[t],e},{}),i={clone:"content_copy",sharing:"share",sectionForm:"assignment_turned_in",dataEntryForm:"assignment",pdfDataSetForm:"picture_as_pdf",compulsoryDataElements:"border_color",runNow:"queue_play_next",preview:"dashboard"},p=function(t){return e.state.tableColumns.reduce(function(e,n){if(n.includes("___")){var r=n.substr(0,n.indexOf("___")),o=n.substr(n.indexOf("___")+3);Object.assign(e,a({},n,t&&t[r]?t[r][o]:""))}return e},t),t},f=function(t){return t.categoryCombo&&t.categoryCombo.displayName&&"default"===t.categoryCombo.displayName&&t.categoryCombo___displayName===t.categoryCombo.displayName&&(t.categoryCombo___displayName=e.getTranslation("none"),t.categoryCombo.displayName=e.getTranslation("none")),t},h=function(t){var n={organisationUnit:["level"],dataSet:["formType"]},a=function(e,t){return!(n.hasOwnProperty(e)&&n[e].includes(t))};return t.noMoreGottaTranslateCauseIsDone?t:e.state.tableColumns.reduce(function(n,r){return a(t.modelDefinition.name,r)&&t&&t.modelDefinition&&t.modelDefinition.modelProperties[r]&&t.modelDefinition.modelProperties[r].constants&&(t.noMoreGottaTranslateCauseIsDone=!0,t[r]&&(n[r]=e.getTranslation(u(t.modelDefinition.name,r,t[r]).toLowerCase()))),n},t)},m=function(e){e.access.write?o.edit(e):L.a.show({message:"you_do_not_have_permissions_to_edit_this_object",translate:!0,action:"dismiss"})};return d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement(x.a,null,this.getTranslation(w()(this.props.params.modelType)+"_management"),d.a.createElement(W.a,{schema:this.props.params.modelType})),d.a.createElement(A.a,{modelType:this.props.params.modelType,groupName:this.props.params.groupName})),d.a.createElement("div",{style:Y.filterWrap},d.a.createElement("div",{style:Y.topPagination},d.a.createElement(_.a,r)),this.renderFilters()),d.a.createElement(I.a,{loadingText:["Loading",this.props.params.modelType,"list..."].join(" "),isLoading:this.state.isLoading}),this.state.isLoading?d.a.createElement("div",null,"Loading..."):d.a.createElement("div",{style:Y.listDetailsWrap},d.a.createElement("div",{style:Y.dataTableWrap},this.state.dataRows&&this.state.dataRows.length?d.a.createElement(v.a,{rows:this.state.dataRows.map(p).map(f).map(h),columns:this.state.tableColumns,contextMenuActions:o,contextMenuIcons:i,primaryAction:m,isContextActionAllowed:this.isContextActionAllowed}):d.a.createElement("div",null,this.getTranslation("no_results_found"))),!!this.state.detailsObject&&d.a.createElement(E.a,{style:Y.detailsBoxWrap,detailsObject:this.state.detailsObject,onClose:P.a.hideDetailsBox})),!!this.state.dataRows&&!!this.state.dataRows.length&&d.a.createElement("div",{style:Y.bottomPagination},d.a.createElement(_.a,r)),!!this.state.sharing.model&&d.a.createElement(S.a,{id:this.state.sharing.model.id,type:this.props.params.modelType,open:this.state.sharing.model&&this.state.sharing.open,onRequestClose:this.closeSharingDialog,bodyStyle:{minHeight:"400px"}}),!!this.state.translation.model&&d.a.createElement(O.a,{objectToTranslate:this.state.translation.model,objectTypeToTranslate:this.state.translation.model&&this.state.translation.model.modelDefinition,open:this.state.translation.open,onTranslationSaved:this.translationSaved,onTranslationError:this.translationError,onRequestClose:this.closeTranslationDialog,fieldsToTranslate:c(this.props.params.modelType)}),d.a.createElement(z.a,{model:this.state.dataElementOperand.model,dataElementOperands:this.state.dataElementOperand.dataElementOperands,open:this.state.dataElementOperand.open,onRequestClose:this.closeDataElementOperandDialog}),this.state.predictorDialog&&d.a.createElement(F.a,null))}}]),t}(p.Component);J.propTypes={params:h.a.shape({modelType:h.a.string.isRequired,groupName:h.a.string.isRequired}).isRequired},J.contextTypes={d2:h.a.object.isRequired},t.default=n.i(K.a)(J)},1206:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){var t=e.level,n=e.text,r=e.style,o=e.children,s=a(e,["level","text","style","children"]),l={type:t<=6?"h"+t:"span"},u=c({fontSize:24,fontWeight:300,color:"rgba(0, 0, 0, 0.87)",padding:"16px 0 5px 0",margin:0},r);return i.a.createElement(l.type,c({},s,{style:u}),o||n)}var o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};r.propTypes={level:l.a.oneOf([1,2,3,4,5,6]),text:l.a.string},r.defaultProps={level:1},t.a=r},1209:function(e,t,n){"use strict";function a(e){return e.d2&&e.d2.i18n&&n.i(s.isFunction)(e.d2.i18n.getTranslation)}function r(e,t){return n.i(s.isString)(e.children)?a(t)?i.a.createElement("span",null,t.d2.i18n.getTranslation(e.children)):(c.a.error("<Translate />: d2 is not available on the `context`"),i.a.createElement("span",null)):(c.a.error("<Translate /> requires a string to be passed as a child in order for it to translate. e.g. <Translate>string_to_translate</Translate>"),i.a.createElement("span",null))}var o=n(0),i=n.n(o),s=n(14),l=(n.n(s),n(23)),c=n.n(l),u=n(60);t.a=n.i(u.a)(r)},1212:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(229),o=(a(r),n(228)),i=(a(o),n(464)),s=a(i),l=function(e){return function(t){var n=(0,s.default)(t),a=function(t){return n(e(t))};return a}};t.default=l},1213:function(e,t,n){var a,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var r=typeof a;if("string"===r||"number"===r)e.push(a);else if(Array.isArray(a)&&a.length){var i=n.apply(null,a);i&&e.push(i)}else if("object"===r)for(var s in a)o.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(a=[],void 0!==(r=function(){return n}.apply(t,a))&&(e.exports=r))}()},1219:function(e,t,n){"use strict";function a(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=w.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=S.exec(e))?o(parseInt(t[1],16)):(t=O.exec(e))?new c(t[1],t[2],t[3],1):(t=x.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=E.exec(e))?i(t[1],t[2],t[3],t[4]):(t=C.exec(e))?i(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=k.exec(e))?p(t[1],t[2]/100,t[3]/100,1):(t=j.exec(e))?p(t[1],t[2]/100,t[3]/100,t[4]):P.hasOwnProperty(e)?o(P[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function o(e){return new c(e>>16&255,e>>8&255,255&e,1)}function i(e,t,n,a){return a<=0&&(e=t=n=NaN),new c(e,t,n,a)}function s(e){return e instanceof a||(e=r(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function l(e,t,n,a){return 1===arguments.length?s(e):new c(e,t,n,null==a?1:a)}function c(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function u(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function p(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new h(e,t,n,a)}function d(e){if(e instanceof h)return new h(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=r(e)),!e)return new h;if(e instanceof h)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),s=Math.max(t,n,o),l=NaN,c=s-i,u=(s+i)/2;return c?(l=t===s?(n-o)/c+6*(n<o):n===s?(o-t)/c+2:(t-n)/c+4,c/=u<.5?s+i:2-s-i,l*=60):c=u>0&&u<1?0:l,new h(l,c,u,e.opacity)}function f(e,t,n,a){return 1===arguments.length?d(e):new h(e,t,n,null==a?1:a)}function h(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function m(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.c=a,n.d(t,"e",function(){return g}),n.d(t,"d",function(){return b}),t.h=r,t.b=s,t.g=l,t.a=c,t.f=f;var y=n(1220),g=.7,b=1/g,v="\\s*([+-]?\\d+)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",T="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3})$/,S=/^#([0-9a-f]{6})$/,O=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),x=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),E=new RegExp("^rgba\\("+[v,v,v,_]+"\\)$"),C=new RegExp("^rgba\\("+[T,T,T,_]+"\\)$"),k=new RegExp("^hsl\\("+[_,T,T]+"\\)$"),j=new RegExp("^hsla\\("+[_,T,T,_]+"\\)$"),P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(y.a)(a,r,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),n.i(y.a)(c,l,n.i(y.b)(a,{brighter:function(e){return e=null==e?b:Math.pow(b,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(y.a)(h,f,n.i(y.b)(a,{brighter:function(e){return e=null==e?b:Math.pow(b,e),new h(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new h(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new c(m(e>=240?e-240:e+120,r,a),m(e,r,a),m(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},1220:function(e,t,n){"use strict";function a(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}t.b=a,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},1221:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(466),p=n.n(u),d=n(462),f=n.n(d),h=n(19),m=(n.n(h),n(463)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();h.config.i18n.strings.add("selected"),h.config.i18n.strings.add("assign_all"),h.config.i18n.strings.add("remove_all"),h.config.i18n.strings.add("hidden_by_filters");var g=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.state={selectedLeft:0,selectedRight:0,loading:!0},o.onAssignItems=function(){o.setState({loading:!0}),o.props.onAssignItems([].map.call(o.leftSelect.selectedOptions,function(e){return e.value})).then(function(){o.clearSelection(),o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})})},o.onRemoveItems=function(){o.setState({loading:!0}),o.props.onRemoveItems([].map.call(o.rightSelect.selectedOptions,function(e){return e.value})).then(function(){o.clearSelection(),o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})})},o.onAssignAll=function(){o.setState({loading:!0}),o.props.onAssignItems([].map.call(o.leftSelect.options,function(e){return e.value})).then(function(){o.clearSelection(),o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})})},o.onRemoveAll=function(){o.setState({loading:!0}),o.props.onRemoveItems([].map.call(o.rightSelect.options,function(e){return e.value})).then(function(){o.clearSelection(),o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})})},o.byAssignedItemsOrder=function(e,t){var n=o.props.assignedItemStore.state;return Array.isArray(n)?n.indexOf(e.value)>n.indexOf(t.value)?1:-1:0};var i=o.context.d2.i18n;return o.getTranslation=i.getTranslation.bind(i),o}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;this.disposables=[],this.disposables.push(this.props.itemStore.subscribe(function(t){return e.setState({loading:!t})})),this.disposables.push(this.props.assignedItemStore.subscribe(function(){return e.forceUpdate()}))}},{key:"componentWillReceiveProps",value:function(e){e.hasOwnProperty("filterText")&&this.leftSelect&&this.rightSelect&&this.setState({selectedLeft:[].filter.call(this.leftSelect.selectedOptions,function(t){return-1!==t.text.toLowerCase().indexOf((""+e.filterText).trim().toLowerCase())}).length,selectedRight:[].filter.call(this.rightSelect.selectedOptions,function(t){return-1!==t.text.toLowerCase().indexOf((""+e.filterText).trim().toLowerCase())}).length})}},{key:"componentWillUnmount",value:function(){this.disposables.forEach(function(e){e.unsubscribe()})}},{key:"getItemStoreIsCollection",value:function(){return void 0!==this.props.itemStore.state&&"function"==typeof this.props.itemStore.state.values&&"function"==typeof this.props.itemStore.state.has}},{key:"getItemStoreIsArray",value:function(){return void 0!==this.props.itemStore.state&&"Array"===this.props.itemStore.state.constructor.name}},{key:"getAssignedItemStoreIsCollection",value:function(){return void 0!==this.props.assignedItemStore.state&&"function"==typeof this.props.assignedItemStore.state.values&&"function"==typeof this.props.assignedItemStore.state.has}},{key:"getAssignedItemStoreIsArray",value:function(){return void 0!==this.props.assignedItemStore.state&&"Array"===this.props.assignedItemStore.state.constructor.name}},{key:"getAllItems",value:function(){return this.getItemStoreIsCollection()?Array.from(this.props.itemStore.state.values()).map(function(e){return{value:e.id,text:e.name}}):this.props.itemStore.state||[]}},{key:"getItemCount",value:function(){return this.getItemStoreIsCollection()&&this.props.itemStore.state.size||this.getItemStoreIsArray()&&this.props.itemStore.state.length||0}},{key:"getIsValueAssigned",value:function(e){return this.getAssignedItemStoreIsCollection()?this.props.assignedItemStore.state.has(e):this.props.assignedItemStore.state&&-1!==this.props.assignedItemStore.state.indexOf(e)}},{key:"getAssignedItems",value:function(){var e=this;return this.getAllItems().filter(function(t){return e.getIsValueAssigned(t.value)})}},{key:"getAvailableItems",value:function(){var e=this;return this.getAllItems().filter(function(t){return!e.getIsValueAssigned(t.value)})}},{key:"getAllItemsFiltered",value:function(){return this.filterItems(this.getAllItems())}},{key:"getAssignedItemsFiltered",value:function(){return this.filterItems(this.getAssignedItems())}},{key:"getAvailableItemsFiltered",value:function(){return this.filterItems(this.getAvailableItems())}},{key:"getAssignedItemsCount",value:function(){return this.getAssignedItems().length}},{key:"getAvailableItemsCount",value:function(){return this.getAvailableItems().length}},{key:"getAssignedItemsFilterCount",value:function(){return 0===this.getFilterText().length?0:this.getAssignedItems().length-this.getAssignedItemsFiltered().length}},{key:"getAvailableItemsFilterCount",value:function(){return 0===this.getFilterText().length?0:this.getAvailableItems().length-this.getAvailableItemsFiltered().length}},{key:"getAssignedItemsUnfilteredCount",value:function(){return 0===this.getFilterText().length?this.getAssignedItemsCount():this.getAssignedItemsCount()-this.getAssignedItemsFilterCount()}},{key:"getAvailableItemsUnfilteredCount",value:function(){return 0===this.getFilterText().length?this.getAvailableItemsCount():this.getAvailableItemsCount()-this.getAvailableItemsFilterCount()}},{key:"getFilterText",value:function(){return this.props.filterText?this.props.filterText.trim().toLowerCase():""}},{key:"getAvailableSelectedCount",value:function(){return Math.max(this.state.selectedLeft,0)}},{key:"getAssignedSelectedCount",value:function(){return Math.max(this.state.selectedRight,0)}},{key:"getSelectedCount",value:function(){return Math.max(this.getAvailableSelectedCount(),this.getAssignedSelectedCount())}},{key:"getSelectedItems",value:function(){return[].map.call(this.rightSelect.selectedOptions,function(e){return e.value})}},{key:"clearSelection",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(this.leftSelect.selectedIndex=-1),t&&(this.rightSelect.selectedIndex=-1),this.setState(function(n){return{selectedLeft:e?0:n.selectedLeft,selectedRight:t?0:n.selectedRight}})}},{key:"filterItems",value:function(e){var t=this;return e.filter(function(e){return 0===t.getFilterText().length||-1!==e.text.trim().toLowerCase().indexOf(t.getFilterText())})}},{key:"render",value:function(){var e=this,t=this.getFilterText().length>0?15:0,n={container:{display:"flex",marginTop:16,marginBottom:32,height:this.props.height+"px"},left:{flex:"1 0 120px"},middle:{flex:"0 0 120px",alignSelf:"center",textAlign:"center"},right:{flex:"1 0 120px"},paper:{width:"100%",height:"100%"},select:{width:"100%",minHeight:"50px",height:this.props.height-t+"px",border:"none",fontFamily:"Roboto",fontSize:13,outline:"none"},options:{padding:".25rem .5rem"},buttons:{minWidth:"100px",maxWidth:"100px",marginTop:"8px"},selected:{fontSize:13,minHeight:"15px",marginTop:"45px",padding:"0 8px"},status:{marginTop:"8px",minHeight:"60px"},hidden:{fontSize:13,color:"#404040",fontStyle:"italic",textAlign:"center",width:"100%",background:"#d0d0d0",maxHeight:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},a=function(t){e.clearSelection(!1,!0),e.setState({selectedLeft:t.target.selectedOptions.length})},r=function(t){e.clearSelection(!0,!1),e.setState({selectedRight:t.target.selectedOptions.length})},o=function(t){return e.getItemCount()>0&&e.getFilterText().length>0?t+" "+e.getTranslation("hidden_by_filters"):""};return s.a.createElement("div",{style:n.container},s.a.createElement("div",{style:n.left},s.a.createElement(p.a,{style:n.paper},s.a.createElement("div",{style:n.hidden},o(this.getAvailableItemsFilterCount())),s.a.createElement("select",{multiple:!0,style:n.select,onChange:a,ref:function(t){e.leftSelect=t}},this.getAvailableItemsFiltered().map(function(t){return s.a.createElement("option",{key:t.value,value:t.value,onDoubleClick:e.onAssignItems,style:n.options},t.text)}))),s.a.createElement(f.a,{label:this.getTranslation("assign_all")+" "+(0===this.getAvailableItemsUnfilteredCount()?"":this.getAvailableItemsUnfilteredCount())+" →",disabled:this.state.loading||0===this.getAvailableItemsUnfilteredCount(),onClick:this.onAssignAll,style:{marginTop:"1rem"},secondary:!0})),s.a.createElement("div",{style:n.middle},s.a.createElement("div",{style:n.selected},function(){return e.getSelectedCount()>0?e.getSelectedCount()+" "+e.getTranslation("selected"):""}()),s.a.createElement(f.a,{label:"→",secondary:!0,onClick:this.onAssignItems,style:n.buttons,disabled:this.state.loading||0===this.state.selectedLeft}),s.a.createElement(f.a,{label:"←",secondary:!0,onClick:this.onRemoveItems,style:n.buttons,disabled:this.state.loading||0===this.state.selectedRight}),s.a.createElement("div",{style:n.status},this.state.loading?s.a.createElement(m.a,{small:!0,style:{width:60,height:60}}):void 0)),s.a.createElement("div",{style:n.right},s.a.createElement(p.a,{style:n.paper},s.a.createElement("div",{style:n.hidden},o(this.getAssignedItemsFilterCount())),s.a.createElement("select",{multiple:!0,style:n.select,onChange:r,ref:function(t){e.rightSelect=t}},this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function(t){return s.a.createElement("option",{key:t.value,value:t.value,onDoubleClick:e.onRemoveItems,style:n.options},t.text)}))),s.a.createElement(f.a,{label:"← "+this.getTranslation("remove_all")+" "+(this.getAssignedItemsUnfilteredCount()>0?this.getAssignedItemsUnfilteredCount():""),style:{float:"right",marginTop:"1rem"},disabled:this.state.loading||0===this.getAssignedItemsUnfilteredCount(),onClick:this.onRemoveAll,secondary:!0})))}}]),t}(i.Component);g.propTypes={itemStore:c.a.object.isRequired,assignedItemStore:c.a.object.isRequired,filterText:c.a.string,onAssignItems:c.a.func.isRequired,onRemoveItems:c.a.func.isRequired,onMoveItems:c.a.func,height:c.a.number},g.contextTypes={d2:c.a.object},g.defaultProps={height:500,filterText:"",onMoveItems:function(){}},t.a=g},1222:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(2)),o=n.n(r),i={contextTypes:{d2:o.a.object.isRequired},getTranslation:function(e){return this.context.d2.i18n.getTranslation(e)}};t.a=i},1224:function(e,t,n){"use strict";var a=n(1219);n.d(t,"f",function(){return a.h}),n.d(t,"e",function(){return a.g}),n.d(t,"d",function(){return a.f});var r=n(1290);n.d(t,"c",function(){return r.b}),n.d(t,"a",function(){return r.a});var o=n(1289);n.d(t,"b",function(){return o.a})},1226:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),l=n.n(s),c=n(2),u=n.n(c),p=n(19),d=(n.n(p),n(227)),f=n(1257),h=n(1258),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g={display:"flex",alignItems:"flex-end"},b=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={options:[],isRefreshing:!1},a.onRefreshClick=function(){a.setState({isRefreshing:!0}),a.loadOptions().then(function(){return a.setState({isRefreshing:!1})})},a.onChange=function(e){if(null===e.target.value)return void a.props.onChange({target:{value:null}});var t=a.state.options.find(function(t){return t.model.id===e.target.value});t&&t.model&&a.props.onChange({target:{value:t.model}})},i=n,o(a,i)}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.loadOptions()}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.options.find(function(e){return"default"===e.model.name});e.value&&t&&t.model.id!==e.value.id&&this.props.model&&"TRACKER"===this.props.model.domainType&&this.props.onChange({target:{value:t.model}})}},{key:"componentWillUnmount",value:function(){this.omgLikeJustStop=!0}},{key:"loadOptions",value:function(){var e=this,t="id,displayName,name";"optionSet"===this.props.referenceType&&(t="id,displayName,name,valueType"),"program"===this.props.referenceType&&(t="id,displayName,programType,programTrackedEntityAttributes[id,trackedEntityAttribute[id,displayName,valueType]]"),"trackedEntityType"===this.props.referenceType&&(t=t.concat(",trackedEntityTypeAttributes[trackedEntityAttribute]"));var a=this.props.queryParamFilter,r={};return n.i(p.getInstance)().then(function(n){if(r=n,n.models.hasOwnProperty(e.props.referenceType))return n.models[e.props.referenceType].list(Object.assign({fields:t,paging:!1,filter:a},a&&a.length>1?{rootJunction:"OR"}:{}));if(-1!==e.props.referenceType.indexOf(".")){var o=e.props.referenceType.substr(0,e.props.referenceType.indexOf(".")),i=e.props.referenceType.substr(o.length+1);return n.models[o].modelProperties[i].constants.map(function(e){return{displayName:n.i18n.getTranslation(e.toLowerCase()),id:e}})}}).then(function(e){return e?e.toArray?e.toArray():e:[]}).then(function(e){return e.map(function(e){return{text:e.displayName,value:e.id,model:e}})}).then(function(t){e.omgLikeJustStop||e.setState({options:t.map(function(e){return Object.assign(e,e.model&&e.model.modelDefinition&&"categoryCombo"===e.model.modelDefinition.name&&"default"===e.text?{text:r.i18n.getTranslation("none")}:{})})})})}},{key:"render",value:function(){var e=this.props,t=(e.errorStyle,e.errorText,e.modelDefinition,e.models,e.referenceType,e.referenceProperty,e.isInteger,e.multiLine,e.fullWidth),n=(e.translateOptions,e.options,e.model,e.queryParamFilter,e.quickAddLink),r=(e.preventAutoDefault,e.style),o=a(e,["errorStyle","errorText","modelDefinition","models","referenceType","referenceProperty","isInteger","multiLine","fullWidth","translateOptions","options","model","queryParamFilter","quickAddLink","preventAutoDefault","style"]);return r&&r.display&&"none"===r.display?null:l.a.createElement("div",{style:g},this.state.isRefreshing&&l.a.createElement(h.a,{horizontal:!0}),l.a.createElement(d.a,m({},o,{top:this.props.top,options:this.state.options,value:this.props.value?this.props.value.id:this.props.value,onChange:this.onChange,fullWidth:t})),n&&l.a.createElement(f.a,{referenceType:this.props.referenceType,onRefreshClick:this.onRefreshClick}))}}]),t}(s.Component);b.propTypes={value:u.a.shape({id:u.a.string.isRequired}),referenceType:u.a.string.isRequired,queryParamFilter:u.a.array,errorText:u.a.string,onChange:u.a.func.isRequired,translateOptions:u.a.bool,preventAutoDefault:u.a.bool,isInteger:u.a.bool,quickAddLink:u.a.bool,multiLine:u.a.bool,fullWidth:u.a.bool,style:u.a.object,errorStyle:u.a.object,referenceProperty:u.a.string,modelDefinition:u.a.object,models:u.a.object,model:u.a.object,options:u.a.array},b.defaultProps={queryParamFilter:void 0,value:void 0,translateOptions:!1,fullWidth:!0,multiLine:!1,isInteger:!1,quickAddLink:!0,preventAutoDefault:!1,errorText:"",style:{},referenceProperty:"",errorStyle:{},modelDefinition:{},models:{},model:{},options:[]},t.a=b},1229:function(e,t,n){"use strict";var a=new Map([["dataElement",["name","shortName","code","description","formName","domainType","valueType","aggregationType","zeroIsSignificant","url","categoryCombo","optionSet","commentOptionSet","legendSets","aggregationLevels"]],["dataElementGroup",["name","shortName","code","description","dataElements"]],["dataElementGroupSet",["name","shortName","code","description","compulsory","dataDimension","dataElementGroups"]],["category",["name","shortName","code","description","dataDimensionType","dataDimension","categoryOptions"]],["categoryOption",["name","shortName","code","description","startDate","endDate","organisationUnits"]],["categoryCombo",["name","shortName","code","dataDimensionType","skipTotal","categories"]],["categoryOptionGroup",["name","shortName","code","description","dataDimensionType","categoryOptions"]],["categoryOptionGroupSet",["name","description","dataDimension","dataDimensionType","categoryOptionGroups"]],["indicator",["name","shortName","code","description","annualized","decimals","indicatorType","legendSets","url","aggregateExportCategoryOptionCombo","aggregateExportAttributeOptionCombo"]],["indicatorGroup",["name","indicators"]],["indicatorType",["name","factor"]],["indicatorGroupSet",["name","description","compulsory","indicatorGroups"]],["dataSet",["name","shortName","code","description","expiryDays","openFuturePeriods","timelyDays","periodType","dataInputPeriods","categoryCombo","notificationRecipients","notifyCompletingUser","workflow","mobile","fieldCombinationRequired","validCompleteOnly","noValueRequiresComment","legendSets","skipOffline","dataElementDecoration","renderAsTabs","renderHorizontally","compulsoryFieldsCompleteOnly","dataSetElements","indicators","organisationUnits"]],["dataSetNotificationTemplate",["name","code","dataSets","messageTemplate","dataSetNotificationTrigger","relativeScheduledDays","sendStrategy","notificationRecipient","recipientUserGroup","deliveryChannels"]],["organisationUnit",["name","shortName","code","description","openingDate","closedDate","comment","url","contactPerson","address","email","phoneNumber","coordinates","dataSets","programs"]],["organisationUnitGroup",["name","shortName","code","description","color","symbol","organisationUnits"]],["organisationUnitGroupSet",["name","shortName","code","description","compulsory","dataDimension","includeSubhierarchyInAnalytics","organisationUnitGroups"]],["organisationUnitLevel",["name","offlineLevels"]],["constant",["name","shortName","code","description","value"]],["attribute",["name","shortName","code","description","valueType","optionSet","sortOrder","mandatory","unique","dataElementAttribute"]],["optionSet",["name","code","description","valueType"]],["legendSet",["name","code","legends"]],["eventProgram",["name","shortName","code","description","version","categoryCombo","workflow","completeEventsExpiryDays","expiryPeriodType","expiryDays"]],["eventProgramStage",["blockEntryForm","captureCoordinates","validCompleteOnly","preGenerateUID","executionDateLabel"]],["trackerProgram",["name","shortName","code","description","version","trackedEntityType","categoryCombo","workflow","displayFrontPageList","useFirstStageDuringRegistration","completeEventsExpiryDays","expiryPeriodType","expiryDays","programAttributes","minAttributesRequiredToSearch","maxTeiCountToReturn"]],["enrollment",["selectEnrollmentDatesInFuture","selectIncidentDatesInFuture","onlyEnrollOnce","displayIncidentDate","incidentDateLabel","enrollmentDateLabel","ignoreOverdueEvents","captureCoordinates","relationshipType","relationshipText","relationshipFromA","relatedProgram"]],["programStage",["name","description","minDaysFromStart","repeatable","periodType","displayGenerateEventBox","standardInterval","autoGenerateEvent","openAfterEnrollment","reportDateToUse","blockEntryForm","remindCompleted","allowGenerateNextVisit","generatedByEnrollmentDate","hideDueDate","captureCoordinates","validCompleteOnly","preGenerateUID","executionDateLabel","dueDateLabel"]],["trackedEntityAttribute",["name","shortName","code","description","optionSet","valueType","aggregationType","unique","orgunitScope","generated","pattern","inherit","confidential","displayInListNoProgram","legendSets"]],["trackedEntityAttributeGroup",["name","shortName","code","description","trackedEntityAttributes"]],["relationshipType",["name","code","aIsToB","bIsToA"]],["trackedEntityType",["name","description","minAttributesRequiredToSearch","maxTeiCountToReturn","trackedEntityTypeAttributes"]],["programIndicator",["program","name","shortName","code","description","decimals","aggregationType","analyticsType","analyticsPeriodBoundaries","displayInForm","legendSets","aggregateExportCategoryOptionCombo","aggregateExportAttributeOptionCombo","expression","filter"]],["programIndicatorGroup",["name","code","programIndicators"]],["validationRule",["name","shortName","code","description","instruction","importance","ruleType","importance","ruleType","periodType","leftSide","operator","rightSide","organisationUnitLevels","skipFormValidation"]],["validationRuleGroup",["name","shortName","code","description","validationRules"]],["predictor",["name","shortName","code","description","output","periodType","organisationUnitLevels","generator","sampleSkipTest","sequentialSampleCount","annualSampleCount","sequentialSkipCount"]],["pushAnalysis",["name","code","title","message","dashboard","recipientUserGroups","schedulingFrequency","enabled"]],["externalMapLayer",["name","code","mapService","imageFormat","url","attribution","mapLayerPosition","legendSet","legendSetUrl"]],["validationNotificationTemplate",["name","code","validationRules","recipientUserGroups","sendStrategy","notifyUsersInHierarchyOnly","messageTemplate"]],["programRule",["program","name","description","priority","condition","programRuleActions"]],["programRuleVariable",["program","name","useCodeForOptionSet","programRuleVariableSourceType","programStage","dataElement","trackedEntityAttribute"]],["dataApprovalLevel",["name","orgUnitLevel","categoryOptionGroupSet"]],["dataApprovalWorkflow",["name","periodType","dataApprovalLevels"]]]);t.a={for:function(e){return e&&a.has(e)?a.get(e):["name","shortName","code"]}}},1232:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=Math.PI/180,r=180/Math.PI},1245:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(481),p=n.n(u),d=n(477),f=n.n(d),h=n(1284),m=n(1285),y=n(1283),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state=o.getStateFromProps(o.props),o.handleRowClick=function(e,t){var n=e.currentTarget;o.setState(function(e){return{contextMenuTarget:n,showContextMenu:!0,activeRow:t!==e.activeRow?t:void 0}})},o.hideContextMenu=function(){o.setState({activeRow:void 0,showContextMenu:!1})},i=n,r(o,i)}return o(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(this.getStateFromProps(e))}},{key:"getStateFromProps",value:function(e){var t=[];return f()(e.rows)&&(t=e.rows instanceof Map?Array.from(e.rows.values()):e.rows),{columns:p()(e.columns)?e.columns:["name","lastUpdated"],dataRows:t,activeRow:void 0}}},{key:"renderRows",value:function(){var e=this;return this.state.dataRows.map(function(t,n){return s.a.createElement(m.a,{key:n,dataSource:t,columns:e.state.columns,isActive:e.state.activeRow===n,itemClicked:e.handleRowClick,primaryClick:e.props.primaryAction||function(){}})})}},{key:"renderHeaders",value:function(){return this.state.columns.map(function(e,t){return s.a.createElement(h.a,{key:e,isOdd:Boolean(t%2),name:e})})}},{key:"renderContextMenu",value:function(){var e=this,t=this.props.isContextActionAllowed&&this.props.isContextActionAllowed.bind(null,this.state.activeRow)||function(){return!0},n=Object.keys(this.props.contextMenuActions||{}).filter(t).reduce(function(t,n){return t[n]=e.props.contextMenuActions[n],t},{});return s.a.createElement(y.a,{target:this.state.contextMenuTarget,onRequestClose:this.hideContextMenu,actions:n,activeItem:this.state.activeRow,icons:this.props.contextMenuIcons})}},{key:"render",value:function(){return s.a.createElement("div",{className:"data-table"},s.a.createElement("div",{className:"data-table__headers"},this.renderHeaders(),s.a.createElement(h.a,null)),s.a.createElement("div",{className:"data-table__rows"},this.renderRows()),this.renderContextMenu())}}]),t}(i.Component);b.propTypes={contextMenuActions:c.a.object,contextMenuIcons:c.a.object,primaryAction:c.a.func,isContextActionAllowed:c.a.func},t.a=b},1248:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(229),o=(a(r),n(228)),i=(a(o),n(464)),s=a(i),l=function(e){return e},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return function(a){var r=void 0,o=void 0,i=function(i){return e(i)?(r=r||(0,s.default)(t(a)))(i):(o=o||(0,s.default)(n(a)))(i)};return i}};t.default=c},1252:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.value,n=void 0===t?"":t,a={width:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",position:"absolute",wordBreak:"break-all",wordWrap:"break-word",top:0,lineHeight:"50px",paddingRight:"1rem"},r=n.toString();return b.a.createElement("span",{title:r,style:a},r)}function s(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return n.i(v.isNil)(t)?"":void 0!==e.Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(a,{year:"numeric",month:"long",day:"numeric"}).format(new Date(t)):t.substr(0,19).replace("T"," ")}function l(e){var t=e.value&&(e.value.displayName||e.value.name);return b.a.createElement(i,S({},e,{value:t}))}function c(e){var t=e.valueType,n=e.value;return"DATE"===t||E.test(n)}function u(e){return/#([a-z0-9]{6})$/i.test(e.value)}function p(e){var t=e.value;return t&&(t.displayName||t.name)}function d(e){var t=e.value;if(t){var n=t.substr(0,2),a=t.substr(2,2);if("----"===t.substr(4,4)&&("--"===a||"r-"===a||"rw"===a)){if("rw"===n)return b.a.createElement(T.a,null,"public_can_edit");if("r-"===n)return b.a.createElement(T.a,null,"public_can_view");if("--"===n)return b.a.createElement(T.a,null,"public_none")}}return b.a.createElement(i,{value:t})}function f(e){return"publicAccess"===e.columnName}function h(e,t){return C.unshift([e,t]),function(){var t=new Map(C);t.delete(e),C=Array.from(t)}}t.b=h,n.d(t,"a",function(){return k});var m=n(2),y=n.n(m),g=n(0),b=n.n(g),v=n(14),_=(n.n(v),n(1286)),T=n(1209),w=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),x=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={uiLocale:"en"},o}return o(t,e),O(t,[{key:"componentDidMount",value:function(){var e=this;this.context.d2.currentUser.userSettings.get("keyUiLocale").then(function(t){return e.setState({uiLocale:t})})}},{key:"render",value:function(){var e=s(this.props.value,this.state.uiLocale);return b.a.createElement(i,{value:e})}}]),t}(g.PureComponent);x.contextTypes={d2:y.a.object};var E=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{2,3}$/,C=[[f,d],[c,x],[p,l],[u,_.a]],k=function(e){var t=C.map(function(e){return w(e,1)[0]}),n=t.findIndex(function(t){return t(e)});return C[n]&&C[n][1]||i}}).call(t,n(25))},1257:function(e,t,n){"use strict";function a(e){var t=e.referenceType,a=e.onRefreshClick,r=n.i(m.b)(t),i={quickAddWrap:{display:"flex"},hidden:{display:"none"}};return r?o.a.createElement("div",{style:i.quickAddWrap},o.a.createElement(l.f,{to:"/edit/"+r+"/"+t+"/add",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(u.a,{tooltip:"Add new",tooltipPosition:"top-left"},o.a.createElement(d.a,null))),o.a.createElement(u.a,{tooltip:"Refresh values",tooltipPosition:"top-left",onClick:a},o.a.createElement(h.a,null))):o.a.createElement("div",{style:i.hidden})}t.a=a;var r=n(0),o=n.n(r),i=n(2),s=n.n(i),l=n(148),c=n(232),u=n.n(c),p=n(1348),d=n.n(p),f=n(1349),h=n.n(f),m=n(149);a.propTypes={referenceType:s.a.string.isRequired,onRefreshClick:s.a.func.isRequired}},1258:function(e,t,n){"use strict";function a(e,t){var n=e.horizontal,a=t.d2,r={fieldMask:{position:"absolute",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.2)",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:n?"row":"column"}};return o.a.createElement("div",{style:r.fieldMask},o.a.createElement(i.a,null),o.a.createElement("div",null,a.i18n.getTranslation("reloading_available_values")))}t.a=a;var r=n(0),o=n.n(r),i=n(463);a.propTypes={horizontal:r.PropTypes.bool},a.defaultProps={horizontal:!1},a.contextTypes={d2:r.PropTypes.object}},1278:function(e,t,n){"use strict";function a(e){return e&&b.a[e]}function r(e){var t=e.major,n=e.minor;return e.snapshot?"master":t+"."+n}function o(e,t){var n=/\$\{(.+?)\}/g;return e.replace(n,function(e,n){return t.has(n)?t.get(n):".+?"})}function i(e,t){return Object.keys(b.a).find(function(n){var a=o(n,t);return new RegExp(a).test(e)})}function s(e,t){return a(e)?o(b.a[e],t):""}function l(e,t){var a=new Map([["objectType",t]]),r=new Map([["objectType",n.i(y.camelCaseToUnderscores)(t)]]);return s(i(e,a),r)}function c(e,t){var n=e.schema,a=t.d2,o=window.location.hash.replace(/^#/,"").replace(/\?.+?$/,""),i="https://ci.dhis2.org/docs/"+r(a.system.version),s=l(o,n);return s?p.a.createElement(m.a,{href:""+i+s,target:"_blank",rel:"noopener noreferrer",tooltip:a.i18n.getTranslation("open_user_guide"),tooltipPosition:"bottom-center",iconClassName:"material-icons",iconStyle:{top:-2}},"help_outline"):null}t.a=c;var u=n(0),p=n.n(u),d=n(2),f=n.n(d),h=n(47),m=n.n(h),y=n(237),g=(n.n(y),n(1291)),b=n.n(g);c.propTypes={schema:f.a.string.isRequired},c.contextTypes={d2:f.a.object}},1281:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(0),s=function(e){function t(){return a(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return null},t}(i.Component);s.displayName="Nothing";var l=function(e){return s};t.default=l},1283:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){var n=Object.keys(e.actions).filter(function(t){return"function"==typeof e.actions[t]}),r={position:"fixed"},o=(e.actions,e.activeItem),i=e.icons,s=a(e,["actions","activeItem","icons"]);return l.a.createElement(y.a,_({},s,{open:Boolean(e.activeItem),anchorEl:e.target,anchorOrigin:{horizontal:"middle",vertical:"center"},animated:!1,style:r,animation:b.a}),l.a.createElement(u.a,{className:"data-table__context-menu",desktop:!0},n.map(function(n){var a=i&&i[n]?i[n]:n,r=function(){"function"==typeof e.onRequestClose&&e.onRequestClose(),e.actions[n].apply(e.actions,[e.activeItem])};return l.a.createElement(d.a,{key:n,"data-object-id":o&&o.id,className:"data-table__context-menu__item",onClick:r,primaryText:t.d2.i18n.getTranslation(n),leftIcon:l.a.createElement(h.a,{className:"material-icons"},a)})})))}var o=n(2),i=n.n(o),s=n(0),l=n.n(s),c=n(238),u=n.n(c),p=n(145),d=n.n(p),f=n(112),h=n.n(f),m=n(75),y=n.n(m),g=n(33),b=n.n(g),v=n(60),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};r.defaultProps={icons:{},actions:{}},r.propTypes={actions:i.a.objectOf(i.a.func),activeItem:i.a.object,icons:i.a.object,target:i.a.object,onRequestClose:i.a.func},t.a=n.i(v.a)(r)},1284:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(88),p=n.n(u),d=n(1213),f=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o.context.d2.i18n;return o.getTranslation=i.getTranslation.bind(i),o}return o(t,e),h(t,[{key:"render",value:function(){var e=f()("data-table__headers__header",{"data-table__headers__header--even":!this.props.isOdd,"data-table__headers__header--odd":this.props.isOdd});return s.a.createElement("div",{className:e},this.props.name?this.getTranslation(p()(this.props.name)):null)}}]),t}(i.Component);m.propTypes={isOdd:c.a.bool,name:c.a.string},m.contextTypes={d2:c.a.object},t.a=m},1285:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return e&&e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[t]&&e.modelDefinition.modelValidations[t].type}var s=n(0),l=n.n(s),c=n(2),u=n.n(c),p=n(1213),d=n.n(p),f=n(14),h=(n.n(f),n(47)),m=n.n(h),y=n(484),g=n.n(y),b=n(60),v=n(1252),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),T=n.i(b.a)(function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.iconMenuClick=function(e){o.props.itemClicked(e,o.props.dataSource)},o.handleContextClick=function(e){e&&e.preventDefault(),o.props.itemClicked(e,o.props.dataSource)},o.handleClick=function(e){o.props.primaryClick(o.props.dataSource,e)},i=n,r(o,i)}return o(t,e),_(t,[{key:"render",value:function(){var e=this,t=d()("data-table__rows__row",{"data-table__rows__row--even":!this.props.isOdd,"data-table__rows__row--odd":this.props.isOdd}),a=this.props.columns.map(function(t,a){var r={valueType:i(e.props.dataSource,t),value:e.props.dataSource[t],columnName:t},o=n.i(v.a)(r);return l.a.createElement("div",{key:a,className:"data-table__rows__row__column",onContextMenu:e.handleContextClick,onClick:e.handleClick},l.a.createElement(o,r))});return l.a.createElement("div",{className:t},a,l.a.createElement("div",{className:"data-table__rows__row__column",style:{width:"1%"}},l.a.createElement(m.a,{tooltip:this.context.d2.i18n.getTranslation("actions"),onClick:this.iconMenuClick},l.a.createElement(g.a,null))))}}]),t}(s.Component));T.propTypes={columns:u.a.arrayOf(u.a.string).isRequired,dataSource:u.a.object,isEven:u.a.bool,isOdd:u.a.bool,itemClicked:u.a.func.isRequired,primaryClick:u.a.func.isRequired},t.a=T},1286:function(e,t,n){"use strict";function a(e){var t=e.value,a={color:{backgroundColor:t,color:n.i(i.a)(t).l<70?"#FFF":"#000",textAlign:"center",position:"relative",width:90,height:36,lineHeight:2.5,boxShadow:"0 1px 6px rgba(0,0,0,0.12),0 1px 4px rgba(0,0,0,0.12)"}};return o.a.createElement("div",{style:a.color},t)}t.a=a;var r=n(0),o=n.n(r),i=n(1224)},1288:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(1213),p=n.n(u),d=n(19),f=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),h=function(){};d.config.i18n.strings.add("of_page");var m=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o.context.d2.i18n;return o.getTranslation=i.getTranslation.bind(i),o}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.hasPreviousPage,n=e.hasNextPage,a=e.onPreviousPageClick,r=e.onNextPageClick,o=e.currentlyShown,i=e.total,l=["material-icons","waves-effect"],c=p()(l,{"data-table-pager--previous-page__disabled":!t()}),u=p()(l,{"data-table-pager--next-page__disabled":!n()});return s.a.createElement("div",{className:"data-table-pager"},s.a.createElement("ul",{className:"data-table-pager--buttons"},i?s.a.createElement("li",{className:"data-table-pager--page-info"},s.a.createElement("span",null,o," ",""+this.getTranslation("of_page")," ",i)):"",s.a.createElement("li",{className:"data-table-pager--previous-page"},s.a.createElement("i",{className:c,onClick:t()?a:h},"navigate_before")),s.a.createElement("li",{className:"data-table-pager--next-page"},s.a.createElement("i",{className:u,onClick:n()?r:h},"navigate_next"))))}}]),t}(i.Component);m.propTypes={hasPreviousPage:c.a.func,hasNextPage:c.a.func,onPreviousPageClick:c.a.func,onNextPageClick:c.a.func,total:c.a.number,currentlyShown:c.a.oneOfType([c.a.string,c.a.number])},m.defaultProps={hasPreviousPage:h,hasNextPage:h,onPreviousPageClick:h,onNextPageClick:h,total:0,currentlyShown:0},m.contextTypes={d2:c.a.object},t.a=m},1289:function(e,t,n){"use strict";function a(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.a||(e=n.i(s.b)(e));var t=e.r/255,a=e.g/255,r=e.b/255,i=(y*r+h*t-m*a)/(y+h-m),c=r-i,u=(f*(a-i)-p*c)/d,g=Math.sqrt(u*u+c*c)/(f*i*(1-i)),b=g?Math.atan2(u,c)*l.a-120:NaN;return new o(b<0?b+360:b,g,i,e.opacity)}function r(e,t,n,r){return 1===arguments.length?a(e):new o(e,t,n,null==r?1:r)}function o(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}t.a=r;var i=n(1220),s=n(1219),l=n(1232),c=-.14861,u=1.78277,p=-.29227,d=-.90649,f=1.97294,h=f*d,m=f*u,y=u*p-d*c;n.i(i.a)(o,r,n.i(i.b)(s.c,{brighter:function(e){return e=null==e?s.d:Math.pow(s.d,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.e:Math.pow(s.e,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*l.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new s.a(255*(t+n*(c*a+u*r)),255*(t+n*(p*a+d*r)),255*(t+n*(f*a)),this.opacity)}}))},1290:function(e,t,n){"use strict";function a(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof d){if(isNaN(e.h))return new o(e.l,0,0,e.opacity);var t=e.h*m.b;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof h.a||(e=n.i(h.b)(e));var a,r,s=c(e.r),l=c(e.g),u=c(e.b),p=i((.2225045*s+.7168786*l+.0606169*u)/g);return s===l&&l===u?a=r=p:(a=i((.4360747*s+.3850649*l+.1430804*u)/y),r=i((.0139322*s+.0971045*l+.7141733*u)/b)),new o(116*p-16,500*(a-p),200*(p-r),e.opacity)}function r(e,t,n,r){return 1===arguments.length?a(e):new o(e,t,n,null==r?1:r)}function o(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function i(e){return e>w?Math.pow(e,1/3):e/T+v}function s(e){return e>_?e*e*e:T*(e-v)}function l(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function c(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function u(e){if(e instanceof d)return new d(e.h,e.c,e.l,e.opacity);if(e instanceof o||(e=a(e)),0===e.a&&0===e.b)return new d(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*m.a;return new d(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function p(e,t,n,a){return 1===arguments.length?u(e):new d(e,t,n,null==a?1:a)}function d(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}t.b=r,t.a=p;var f=n(1220),h=n(1219),m=n(1232),y=.96422,g=1,b=.82521,v=4/29,_=6/29,T=3*_*_,w=_*_*_;n.i(f.a)(o,r,n.i(f.b)(h.c,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=y*s(t),e=g*s(e),n=b*s(n),new h.a(l(3.1338561*t-1.6168667*e-.4906146*n),l(-.9787684*t+1.9161415*e+.033454*n),l(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),n.i(f.a)(d,p,n.i(f.b)(h.c,{brighter:function(e){return new d(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new d(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return a(this).rgb()}}))},1291:function(e,t){e.exports={"/edit/categorySection/categoryOptionGroupSet":"/en/user/html/manage_category.html#create_category_option_group_set","/edit/categorySection/categoryOptionGroup":"/en/user/html/manage_category.html#create_category_option_group","/edit/categorySection/categoryOptionCombo":"/en/user/html/manage_category.html#assign_code_category_option_combo","/edit/categorySection/categoryOption":"/en/user/html/manage_category.html#create_category_option","/edit/categorySection/categoryCombo":"/en/user/html/manage_category.html#create_category_combination","/edit/categorySection/category":"/en/user/html/manage_category.html#create_category","/list/categorySection":"/en/user/html/manage_category.html","/edit/dataElementSection/dataElementGroupSet":"/en/user/html/manage_data_element.html#create_data_element_group_set","/edit/dataElementSection/dataElementGroup":"/en/user/html/manage_data_element.html#create_data_element_group","/edit/dataElementSection/dataElement":"/en/user/html/manage_data_element.html#create_data_element","/list/dataElementSection":"/en/user/html/manage_data_element.html","/edit/dataSetSection/dataSet/${objectId}/sections":"/en/user/html/manage_data_set.html#manage_section_form","/edit/dataSetSection/dataSet":"/en/user/html/manage_data_set.html#create_data_set","/list/dataSetSection/dataSet":"/en/user/html/manage_data_set.html","/edit/indicatorSection/programIndicatorGroup":"/en/user/html/configure_program_indicator.html#create_program_indicator_group","/list/indicatorSection/programIndicatorGroup":"/en/user/html/configure_program_indicator.html","/edit/indicatorSection/programIndicator":"/en/user/html/configure_program_indicator.html#create_program_indicator","/list/indicatorSection/programIndicator":"/en/user/html/configure_program_indicator.html","/edit/indicatorSection/indicatorGroupSet":"/en/user/html/manage_indicator.html#create_indicator_group_set","/edit/indicatorSection/indicatorGroup":"/en/user/html/manage_indicator.html#create_indicator_group","/edit/indicatorSection/indicatorType":"/en/user/html/manage_indicator.html#create_indicator_type","/edit/indicatorSection/indicator":"/en/user/html/manage_indicator.html#create_indicator","/list/indicatorSection":"/en/user/html/manage_indicator.html","/edit/organisationUnitSection/organisationUnitGroupSet":"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set","/edit/organisationUnitSection/organisationUnitGroup":"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group","/edit/organisationUnitSection/organisationUnitLevel":"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level","/edit/organisationUnitSection/organisationUnit":"/en/user/html/manage_organisation_unit.html#create_organisation_unit","/list/organisationUnitSection":"/en/user/html/manage_organisation_unit.html","/edit/programSection/trackedEntityAttribute":"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute","/edit/programSection/programRuleVariable":"/en/user/html/configure_program_rule.html#create_program_rule_variable","/edit/programSection/relationshipType":"/en/user/html/configure_relationship_type.html#create_relationship_type","/edit/programSection/trackedEntity":"/en/user/html/configure_tracked_entity.html#about_tracked_entity","/edit/programSection/programRule":"/en/user/html/configure_program_rule.html#create_program_rule","/edit/programSection/program":"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program","/list/programSection":"/en/user/html/configure_programs_in_maintenance_app.html","/edit/validationSection/validationNotificationTemplate":"/en/user/html/manage_validation_rule.html#create_validation_notification","/edit/validationSection/validationRuleGroup":"/en/user/html/manage_validation_rule.html#create_validation_rule_group","/edit/validationSection/validationRule":"/en/user/html/manage_validation_rule.html#create_validation_rule","/list/validationSection":"/en/user/html/manage_validation_rule.html","/edit/otherSection/legendSet":"/en/user/html/manage_legend.html#create_legend","/list/otherSection/legendSet":"/en/user/html/manage_legend.html","/edit/otherSection/pushAnalysis":"/en/user/html/manage_push_report.html#create_push_report","/list/otherSection/pushAnalysis":"/en/user/html/manage_push_report.html","/edit/otherSection/externalMapLayer":"/en/user/html/manage_external_maplayer.html#create_external_map_layer","/list/otherSection/externalMapLayer":"/en/user/html/manage_external_maplayer.html","/edit/otherSection/${objectType}":"/en/user/html/manage_${objectType}.html#create_${objectType}","/list/otherSection/${objectType}":"/en/user/html/manage_${objectType}.html"}},1296:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(0),r=n.n(a),o=n(2),i=n.n(o),s=n(473),l=n.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e){var t=function(t,n){var a=n.d2,o={getCurrentUser:function(){return a.currentUser},getModelDefinitionByName:function(e){return a.models[e]}};return r.a.createElement(e,c({},t,o))};return t.displayName="WithAuth("+l()(e)+")",t.contextTypes={d2:i.a.object},t}},1297:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(19),p=(n.n(u),n(470)),d=n.n(p),f=n(1316),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function(e){function t(e,o){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.i18n=o.d2.i18n,i.state={TranslationForm:n.i(f.a)(i.props.objectToTranslate)},i.translationSaved=i.translationSaved.bind(i),i.translationError=i.translationError.bind(i),i.closeTranslationDialog=i.closeTranslationDialog.bind(i),i}return o(t,e),m(t,[{key:"render",value:function(){return s.a.createElement(d.a,h({title:this.i18n.getTranslation("translation_dialog_title"),autoDetectWindowHeight:!0,autoScrollBodyContent:!0},this.props),s.a.createElement(this.state.TranslationForm,{onTranslationSaved:this.translationSaved,onTranslationError:this.translationError,onCancel:this.closeTranslationDialog,fieldsToTranslate:this.props.fieldsToTranslate}))}},{key:"componentWillReceiveProps",value:function(e){e.objectToTranslate&&this.setState({TranslationForm:n.i(f.a)(e.objectToTranslate)})}},{key:"closeTranslationDialog",value:function(){this.props.onRequestClose()}},{key:"translationSaved",value:function(e){this.props.onTranslationSaved(e),this.closeTranslationDialog()}},{key:"translationError",value:function(e){this.props.onTranslationError(e)}}]),t}(i.Component);y.propTypes={objectToTranslate:c.a.shape({id:c.a.string.isRequired}).isRequired,onTranslationSaved:c.a.func.isRequired,onTranslationError:c.a.func.isRequired,open:c.a.bool,onRequestClose:c.a.func.isRequired,fieldsToTranslate:c.a.array},y.contextTypes={d2:c.a.object},t.a=y},1300:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(464),o=a(r),i=n(228),s=(a(i),function(e){return function(t){var n=(0,o.default)(e),a=function(e){return n(e)};return a}});t.default=s},1315:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(235),p=n.n(u),d=n(113),f=n.n(d),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.onLocaleChange=function(e,t,n){o.setState({locale:n}),o.props.onChange(n,e)};var i=o.context.d2.i18n;return o.getTranslation=i.getTranslation.bind(i),o}return o(t,e),m(t,[{key:"render",value:function(){var e=[{payload:"",text:""}].concat(this.props.locales).map(function(e,t){return s.a.createElement(f.a,{key:t,primaryText:e.name,value:e.locale})});return s.a.createElement(p.a,h({fullWidth:!0},this.props,{value:this.state&&this.state.locale,hintText:this.getTranslation("select_locale"),onChange:this.onLocaleChange}),e)}}]),t}(i.Component);y.propTypes={value:c.a.string,locales:c.a.arrayOf(c.a.shape({name:c.a.string.isRequired,locale:c.a.string.isRequired})).isRequired,onChange:c.a.func.isRequired},y.contextTypes={d2:c.a.object},t.a=y},1316:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=w.a.create();return n.i(_.a)(e).subscribe(function(e){t.setState(e)}),b.Observable.combineLatest(n.i(_.b)(),t,function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return Object.assign.apply(Object,[{objectToTranslate:e,setTranslations:function(e){t.setState({translations:e})}}].concat(a))})}function s(e){return n.i(T.a)(i(e),x)}t.a=s;var l=n(0),c=n.n(l),u=n(2),p=n.n(u),d=n(461),f=n.n(d),h=n(88),m=n.n(h),y=n(462),g=n.n(y),b=n(18),v=(n.n(b),n(1315)),_=n(1317),T=n(146),w=n(29),S=n(463),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),x=function(e){function t(e,o){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));i.state={loading:!0,translations:{},translationValues:{},currentSelectedLocale:""},i.setCurrentLocale=function(e){i.setState({currentSelectedLocale:e})},i.setValue=function(e,t){var n=[].concat(i.props.translations),a=n.find(function(t){return t.locale===i.state.currentSelectedLocale&&t.property.toLowerCase()===m()(e)});a?t.target.value?a.value=t.target.value:n=n.filter(function(e){return e!==a}):(a={property:m()(e).toUpperCase(),locale:i.state.currentSelectedLocale,value:t.target.value},n.push(a)),i.props.setTranslations(n)},i.saveTranslations=function(){n.i(_.c)(i.props.objectToTranslate,i.props.translations).subscribe(i.props.onTranslationSaved,i.props.onTranslationError)};var s=i.context.d2.i18n;return i.getTranslation=s.getTranslation.bind(s),i}return o(t,e),O(t,[{key:"getLoadingdataElement",value:function(){return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(S.a,{mode:"indeterminate"}))}},{key:"renderFieldsToTranslate",value:function(){var e=this;return this.props.fieldsToTranslate.filter(function(e){return e}).map(function(t){return c.a.createElement("div",{key:t},c.a.createElement(f.a,{floatingLabelText:e.getTranslation(m()(t)),value:e.getTranslationValueFor(t),fullWidth:!0,onChange:e.setValue.bind(e,t)}),c.a.createElement("div",null,e.props.objectToTranslate[t]))})}},{key:"renderForm",value:function(){return c.a.createElement("div",null,this.renderFieldsToTranslate(),c.a.createElement(g.a,{label:this.getTranslation("save"),primary:!0,onClick:this.saveTranslations}),c.a.createElement(g.a,{style:{marginLeft:"1rem"},label:this.getTranslation("cancel"),onClick:this.props.onCancel}))}},{key:"renderHelpText",value:function(){return c.a.createElement("div",null,c.a.createElement("p",null,this.getTranslation("select_a_locale_to_enter_translations_for_that_language")))}},{key:"render",value:function(){return this.props.locales||this.props.translations?c.a.createElement("div",{style:{minHeight:250}},c.a.createElement(v.a,{locales:this.props.locales,onChange:this.setCurrentLocale}),this.state.currentSelectedLocale?this.renderForm():this.renderHelpText()):this.getLoadingdataElement()}},{key:"getTranslationValueFor",value:function(e){var t=this,n=this.props.translations.find(function(n){return n.locale===t.state.currentSelectedLocale&&n.property.toLowerCase()===m()(e)});if(n)return n.value}}]),t}(l.Component);x.propTypes={onTranslationSaved:p.a.func.isRequired,onTranslationError:p.a.func.isRequired,objectToTranslate:p.a.shape({id:p.a.string.isRequired}),fieldsToTranslate:p.a.arrayOf(p.a.string)},x.defaultProps={fieldsToTranslate:["name","shortName","description"]},x.contextTypes={d2:p.a.object}},1317:function(e,t,n){"use strict";function a(){return a.localePromise||(a.localePromise=n.i(i.getInstance)().then(function(e){return e.Api.getApi().get("locales/db")}).then(function(e){return{locales:e}})),s.Observable.fromPromise(a.localePromise)}function r(e){return e.href?e.href:e.modelDefinition.apiEndpoint+"/"+e.id}function o(e){return s.Observable.of(e).flatMap(function(e){var t=e.modelDefinition;return t||t.name?n.i(i.getInstance)().then(function(t){return t.Api.getApi().get(r(e)+"/translations")}):Promise.reject(new Error("Can not find modelDefinition for "+e.id))})}t.b=a,t.a=o,n.d(t,"c",function(){return u});var i=n(19),s=(n.n(i),n(18)),l=(n.n(s),n(72)),c=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=l.a.create("saveTranslations");u.subscribe(function(e){var t=c(e.data,2),a=t[0],o=t[1],s=e.complete,l=e.error,u=r(a)+"/translations";n.i(i.getInstance)().then(function(e){e.Api.getApi().update(u,{translations:o},{dataType:"text"}).then(function(){return s(o)}).catch(l)})})},1321:function(e,t,n){"use strict";function a(e){var t=e.style,n=void 0===t?{}:t,a=e.large,r=void 0!==a&&a,o=e.small,i=void 0!==o&&o;return s.a.createElement("div",{style:Object.assign({},c,n)},s.a.createElement(l.a,{large:r,small:i}))}t.a=a;var r=n(2),o=n.n(r),i=n(0),s=n.n(i),l=n(463),c={left:"45%",position:"fixed",top:"45%"};a.propTypes={style:o.a.object,large:o.a.bool,small:o.a.bool}},1348:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=a(r),i=n(12),s=a(i),l=n(11),c=a(l),u=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))};u=(0,s.default)(u),u.displayName="ContentAddCircleOutline",u.muiName="SvgIcon",t.default=u},1349:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=a(r),i=n(12),s=a(i),l=n(11),c=a(l),u=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}))};u=(0,s.default)(u),u.displayName="NavigationRefresh",u.muiName="SvgIcon",t.default=u},1368:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n.n(i),l=n(0),c=n.n(l),u=n(47),p=n.n(u),d=n(233),f=n.n(d),h=n(510),m=n.n(h),y=n(238),g=n.n(y),b=n(19),v=(n.n(b),n(152)),_=n(1599),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};b.config.i18n.strings.add("can_edit_and_view"),b.config.i18n.strings.add("can_capture_data"),b.config.i18n.strings.add("can_view_data"),b.config.i18n.strings.add("can_view_only"),b.config.i18n.strings.add("no_access");var w={optionHeader:{paddingLeft:16,paddingTop:16,fontWeight:"400",color:"gray"}},S=function(e){return e.canEdit?"Create":e.canView?"Visibility":"NotInterested"},O=function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={open:!1},o.onOptionClick=function(e,t){var n=T({},o.props.access,t.props.value);o.props.onChange(n)},o.openMenu=function(e){e.preventDefault(),o.setState({open:!0,anchor:e.currentTarget})},o.closeMenu=function(){o.setState({open:!1})},o.translate=function(e){return o.context.d2.i18n.getTranslation(e)},o.render=function(){var e=o.props.access,t=e.data,n=e.meta,a=o.props.accessOptions,r=a.data,i=a.meta;return c.a.createElement("div",null,c.a.createElement(p.a,{onClick:o.openMenu,disabled:o.props.disabled},c.a.createElement(v.a,{icon:S(n)})),c.a.createElement(m.a,{open:o.state.open,anchorEl:o.state.anchor,onRequestClose:o.closeMenu},c.a.createElement(x,{text:o.translate("metadata")}),c.a.createElement(g.a,{onItemTouchTap:o.onOptionClick},c.a.createElement(_.a,{disabled:!i.canEdit,value:{meta:{canView:!0,canEdit:!0}},primaryText:o.translate("can_edit_and_view"),isSelected:n.canEdit}),c.a.createElement(_.a,{disabled:!i.canView,value:{meta:{canView:!0,canEdit:!1}},primaryText:o.translate("can_view_only"),isSelected:!n.canEdit&&n.canView}),c.a.createElement(_.a,{disabled:!i.noAccess,value:{meta:{canView:!1,canEdit:!1}},primaryText:o.translate("no_access"),isSelected:!n.canEdit&&!n.canView})),c.a.createElement(f.a,null),r&&c.a.createElement("div",null,c.a.createElement(x,{text:o.translate("data")}),c.a.createElement(g.a,{onItemTouchTap:o.onOptionClick},c.a.createElement(_.a,{disabled:!r.canEdit,value:{data:{canView:!0,canEdit:!0}},primaryText:o.translate("can_capture_data"),isSelected:t.canEdit}),c.a.createElement(_.a,{disabled:!r.canView,value:{data:{canView:!0,canEdit:!1}},primaryText:o.translate("can_view_data"),isSelected:!t.canEdit&&t.canView}),c.a.createElement(_.a,{disabled:!r.noAccess,value:{data:{canView:!1,canEdit:!1}},primaryText:o.translate("no_access"),isSelected:!t.canEdit&&!t.canView})))))},i=n,r(o,i)}return o(t,e),t}(l.Component);O.propTypes={access:s.a.object.isRequired,accessOptions:s.a.object.isRequired,onChange:s.a.func.isRequired,disabled:s.a.bool},O.defaultProps={disabled:!1},O.contextTypes={d2:s.a.object.isRequired};var x=function(e){var t=e.text;return c.a.createElement("div",{style:w.optionHeader},t.toUpperCase())};x.propTypes={text:s.a.string.isRequired},t.a=O},1369:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e){if(!e)return{data:{canView:!1,canEdit:!1},meta:{canView:!1,canEdit:!1}};var t=e.substring(0,2),n=e.substring(2,4);return{meta:{canView:t.includes("r"),canEdit:t.includes("rw")},data:{canView:n.includes("r"),canEdit:n.includes("rw")}}},r=function(e){var t=function(e){var t=e.canEdit,n=e.canView;return t?"rw":n?"r-":"--"},n="";return n+=t(e.meta),n+=t(e.data),n+="----"}},1375:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=a(r),i=n(3),s=a(i),l=n(4),c=a(l),u=n(7),p=a(u),d=n(6),f=a(d),h=n(8),m=a(h),y=n(0),g=a(y),b=n(2),v=a(b),_=n(1608),T=(a(_),n(1607)),w=a(T),S=n(1609),O=a(S),x=function(e){function t(e,n){var a=n.muiTheme;(0,s.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return r.state={isKeyboardFocused:!1},r.styles=(0,O.default)(a),r.getStylesMain=r.getStylesMain.bind(r),r.getStylesText=r.getStylesText.bind(r),r.getStylesFocus=r.getStylesFocus.bind(r),r.setFocus=r.setFocus.bind(r),r.handleFocus=r.handleFocus.bind(r),r.handleKeyUp=r.handleKeyUp.bind(r),r.handleBlur=r.handleBlur.bind(r),r}return(0,f.default)(t,e),(0,c.default)(t,[{key:"handleBlur",value:function(){this.setState({isKeyboardFocused:!1}),this.props.onBlur()}},{key:"handleFocus",value:function(){this.setState({isKeyboardFocused:!0}),this.props.onFocus()}},{key:"handleKeyUp",value:function(e){this.state.isKeyboardFocused&&13===e.keyCode&&this.props.onClick(e)}},{key:"setFocus",value:function(){this.refs.link.focus()}},{key:"getStylesMain",value:function(){var e=this.props,t=e.isOpen,n=e.direction,a=e.alignment,r=e.style,o=this.styles,i=t?"visible":"invisible";return(0,m.default)({},o.root.main,o.root[i].main,o.root.direction[n],o.root[i].direction[n],o.root.alignment[a],r)}},{key:"getStylesFocus",value:function(e){return this.state.isKeyboardFocused?this.styles.focus[e]:{}}},{key:"getStylesText",value:function(){var e=this.props,t=e.alignment,n=e.styleText,a=this.styles;return(0,m.default)({},a.text.main,a.text.alignment[t],this.getStylesFocus("text"),n)}},{key:"renderAvatar",value:function(e){var t=this.styles,n=this.props[e];return n?g.default.cloneElement(n,{style:(0,m.default)({},n.props.style,t[e],this.getStylesFocus("avatar"))}):null}},{key:"renderContent",value:function(){var e=this.props.primaryText;return g.default.createElement("span",null,this.renderAvatar("leftAvatar"),g.default.createElement("span",{style:this.getStylesText()},e),this.renderAvatar("rightAvatar"))}},{key:"renderLink",value:function(){var e=this.props,t=e.href,n=e.onClick,a=e.tabIndex,r=e.isOpen,o=this.styles;return t?g.default.createElement("a",{href:t,ref:"link",style:o.wrap.main,tabIndex:r?a:-1,onBlur:this.handleBlur,onFocus:this.handleFocus},this.renderContent()):g.default.createElement("a",{ref:"link",style:o.wrap.main,tabIndex:r?a:-1,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onClick:n},this.renderContent())}},{key:"render",value:function(){var e=this.props.className;return g.default.createElement("li",{className:e,ref:"item",style:this.getStylesMain()},this.renderLink())}}]),t}(g.default.Component);x.displayName="BubbleListItem",x.propTypes={},x.defaultProps=w.default,x.contextTypes={muiTheme:v.default.object.isRequired},t.default=x},1376:function(e,t,n){"use strict";function a(e){var t=e.query&&e.query.pageSize||50,n=e.total,a=e.pageCount,r=e.page,o=n-(n-(a-(a-r))*t),i=1+o-t,s=o;return i+" - "+(s>n?n:s)}t.a=a},1581:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(18),p=(n.n(u),n(466)),d=n.n(p),f=n(1588),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(t){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),h(n,[{key:"componentDidMount",value:function(){var t=this;this.subscription=u.Observable.fromEvent(e,"scroll").debounceTime(200).map(function(){return document.querySelector("body").scrollTop}).subscribe(function(){return t.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"render",value:function(){var e={maxWidth:500,minWidth:300,marginTop:document.querySelector("body").scrollTop};return s.a.createElement("div",{style:this.props.style},s.a.createElement(d.a,{zDepth:1,rounded:!1,style:e},s.a.createElement(f.a,{source:this.props.detailsObject,showDetailBox:!!this.props.detailsObject,onClose:this.props.onClose})))}}]),n}(i.Component);m.propTypes={style:c.a.object,detailsObject:c.a.object.isRequired,onClose:c.a.func.isRequired},m.defaultProps={style:{}},t.a=m}).call(t,n(25))},1582:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(19),s=(n.n(i),n(470)),l=n.n(s),c=n(465),u=n.n(c),p=n(495),d=n.n(p),f=n(2),h=n.n(f),m=n(0),y=n.n(m),g=n(1600),b=n(1321),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();i.config.i18n.strings.add("share"),i.config.i18n.strings.add("close"),i.config.i18n.strings.add("no_manage_access");var T={loadingMask:{position:"relative"}},w={sharedObject:null,errorMessage:""},S=function(e){function t(){var e,o,s,l;a(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return o=s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s.state=v({},w,{dataShareableTypes:[]}),s.onSearchRequest=function(e){return s.state.api.get("sharing/search",{key:e}).then(function(e){return e})},s.onSharingChanged=function(e,t){var n={meta:s.state.sharedObject.meta,object:v({},s.state.sharedObject.object,e)};s.postChanges(n,t)},s.createPropsChecker=function(e){return function(t){return e[t]!==s.props[t]}},s.postChanges=function(e,t){var n="sharing?type="+s.props.type+"&id="+s.props.id;return s.state.api.post(n,e).then(function(n){var a=n.httpStatus,r=n.message;return"OK"===a&&s.setState({sharedObject:e},function(){t&&t()}),r}).catch(function(e){var t=e.message;s.setState({errorMessage:t})})},s.resetState=function(){s.setState(w)},s.loadDataSharingSettings=function(){n.i(i.getInstance)().then(function(e){e.Api.getApi().get("schemas",{fields:["name","dataShareable"]}).then(function(e){var t=e.schemas.filter(function(e){return e.dataShareable}).map(function(e){return e.name});s.setState({dataShareableTypes:t})})})},s.loadObjectFromApi=function(){n.i(i.getInstance)().then(function(e){var t=e.Api.getApi(),n=s.props,a=n.type,r=n.id;t.get("sharing",{type:a,id:r}).then(function(e){s.setState({api:t,sharedObject:e})}).catch(function(e){s.setState({errorMessage:e.message})})})},s.closeSharingDialog=function(){s.props.onRequestClose(s.state.sharedObject.object)},l=o,r(s,l)}return o(t,e),_(t,[{key:"componentDidMount",value:function(){this.loadDataSharingSettings(),this.props.open&&this.props.type&&this.props.id&&this.loadObjectFromApi()}},{key:"componentWillReceiveProps",value:function(e){var t=this.createPropsChecker(e);(t("id")||t("type"))&&(this.resetState(),e.open&&this.loadObjectFromApi()),!this.props.open&&e.open&&this.loadObjectFromApi()}},{key:"render",value:function(){var e=-1!==this.state.dataShareableTypes.indexOf(this.props.type),t=""!==this.state.errorMessage,n=!this.state.sharedObject&&this.props.open&&!t,a=[y.a.createElement(u.a,{label:this.context.d2.i18n.getTranslation("close"),onClick:this.closeSharingDialog})];return y.a.createElement("div",null,y.a.createElement(d.a,{open:t,message:this.state.errorMessage,autoHideDuration:3e3}),n&&y.a.createElement(b.a,{style:T.loadingMask,size:1}),this.state.sharedObject&&y.a.createElement(l.a,v({autoDetectWindowHeight:!0,autoScrollBodyContent:!0,open:this.props.open,title:this.context.d2.i18n.getTranslation("share"),actions:a,onRequestClose:this.closeSharingDialog},this.props),y.a.createElement(g.a,{sharedObject:this.state.sharedObject,dataShareable:e,onChange:this.onSharingChanged,onSearch:this.onSearchRequest})))}}]),t}(y.a.Component);S.propTypes={open:h.a.bool.isRequired,onRequestClose:h.a.func.isRequired,type:h.a.string.isRequired,id:h.a.string.isRequired},S.contextTypes={d2:h.a.object.isRequired},t.a=S},1585:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleListItem=t.BubbleList=t.SpeedDial=void 0;var r=n(1614),o=a(r),i=n(1610),s=a(i),l=n(1375),c=a(l);t.SpeedDial=o.default,t.BubbleList=s.default,t.BubbleListItem=c.default},1588:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(1213),p=n.n(u),d=n(236),f=n.n(d),h=n(88),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.getTranslation=function(e){return o.context.d2.i18n.getTranslation(e)},o.getDetailBoxContent=function(){return o.props.source?o.props.fields.filter(function(e){return o.props.source[e]}).map(function(e){var t=o.getValueToRender(e,o.props.source[e]);return s.a.createElement("div",{key:e,className:"detail-field"},s.a.createElement("div",{className:"detail-field__label detail-field__"+e+"-label"},o.getTranslation(m()(e))),s.a.createElement("div",{className:"detail-field__value detail-field__"+e},t))}):s.a.createElement("div",{className:"detail-box__status"},"Loading details...")},o.getDateString=function(e){var t=new Date(e).toString();return"Invalid Date"===t?e:t},o.getNamesToDisplay=function(e){var t=e.map(function(e){return e.displayName?e.displayName:e.name}).filter(function(e){return e});return s.a.createElement("ul",null,t.map(function(e){return s.a.createElement("li",{key:e},e)}))},o.getJsonApiResource=function(e){return s.a.createElement("a",{style:{wordBreak:"break-all"},href:e+".json",target:"_blank"},e)},o.getValueToRender=function(e,t){return Array.isArray(t)&&t.length?o.getNamesToDisplay(t):"created"===e||"lastUpdated"===e?o.getDateString(t):"href"===e?o.getJsonApiResource(t):t},i=n,r(o,i)}return o(t,e),y(t,[{key:"render",value:function(){var e=p()("details-box"),t=s.a.createElement(f.a,{className:"details-box__close-button material-icons",onClick:this.props.onClose},"close");return!1===this.props.showDetailBox?null:s.a.createElement("div",{className:e},t,s.a.createElement("div",null,this.getDetailBoxContent()))}}]),t}(i.Component);g.propTypes={fields:c.a.array,showDetailBox:c.a.bool,source:c.a.object,onClose:c.a.func},g.defaultProps={source:c.a.object,fields:["name","shortName","code","displayDescription","created","lastUpdated","id","href"],showDetailBox:!1,onClose:function(){}},g.contextTypes={d2:c.a.object.isRequired},t.a=g},1589:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(479),c=n.n(l),u=n(236),p=n.n(u),d=n(158),f=n.n(d),h=n(74),m=n(1296),y=n(1585),g=(n.n(y),n(60)),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={items:[{id:"WITHOUT_REGISTRATION",primaryText:n.d2.i18n.getTranslation("event_program"),rightAvatar:s.a.createElement(f.a,{className:"material-icons",icon:s.a.createElement(p.a,null,"event")})},{id:"WITH_REGISTRATION",primaryText:n.d2.i18n.getTranslation("tracker_program"),rightAvatar:s.a.createElement(f.a,{className:"material-icons",icon:s.a.createElement(p.a,null,"assignment")})}]},o}return o(t,e),v(t,[{key:"handleClick",value:function(e){n.i(h.b)("/edit/"+this.props.groupName+"/"+this.props.modelType+"/add?type="+e.id)}},{key:"render",value:function(){var e=this;return s.a.createElement(y.SpeedDial,{hasBackdrop:!0},s.a.createElement(y.BubbleList,null,this.state.items.map(function(t,n){return s.a.createElement(y.BubbleListItem,b({key:t.id},t,{onClick:e.handleClick.bind(e,t)}))})))}}]),t}(s.a.Component);_=n.i(g.a)(_);var T=s.a.createClass({displayName:"ListActionBar",propTypes:{modelType:s.a.PropTypes.string.isRequired,groupName:s.a.PropTypes.string.isRequired},_addClick:function(){n.i(h.b)("/edit/"+this.props.groupName+"/"+this.props.modelType+"/add")},render:function(){var e={textAlign:"right",marginTop:"1rem",bottom:"1.5rem",right:"1.5rem",position:"fixed",zIndex:10},t=this.props.getModelDefinitionByName(this.props.modelType);return this.props.getCurrentUser().canCreate(t)?s.a.createElement("div",{style:e},"program"===this.props.modelType?s.a.createElement(_,this.props):s.a.createElement(c.a,{onClick:this._addClick},s.a.createElement(p.a,{className:"material-icons"},"add"))):null}});t.a=n.i(m.a)(T)},1590:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(234),i=n.n(o);t.a=r.a.createClass({displayName:"LoadingStatus.component",propTypes:{isLoading:r.a.PropTypes.bool.isRequired},getDefaultProps:function(){return{isLoading:!1}},render:function(){return this.props.isLoading?r.a.createElement(i.a,{mode:"indeterminate",style:{backgroundColor:"lightblue"}}):null}})},1591:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1596),i=n(1222),s=n(461),l=n.n(s),c=n(19),u=(n.n(c),n(51)),p=["organisationUnit"],d=r.a.createClass({displayName:"SearchBox",propTypes:{searchObserverHandler:r.a.PropTypes.func.isRequired},mixins:[o.a,i.a],getInitialState:function(){return{showSearchField:!1,value:""}},componentWillMount:function(){this.searchBoxCb=this.createEventObserver("searchBox")},componentDidMount:function(){var e=this,t=this.events.searchBox.debounceTime(400).map(function(e){return e&&e.target&&e.target.value?e.target.value:""}).distinctUntilChanged();this.props.searchObserverHandler(t),this.subscription=u.d.subscribe(function(t){return e.setState({value:"",showSearchField:!p.includes(t)})})},componentWillUnmount:function(){this.subscription&&this.subscription.unsubscribe&&this.subscription.unsubscribe()},render:function(){var e={display:"inline-block",marginRight:16,position:"relative",top:-15};return this.state.showSearchField?r.a.createElement("div",{className:"search-list-items",style:e},r.a.createElement(l.a,{className:"list-search-field",value:this.state.value,fullWidth:!1,type:"search",onChange:this._onKeyUp,floatingLabelText:""+this.getTranslation("search_by_name")})):null},_onKeyUp:function(e){this.setState({value:e.target.value}),this.searchBoxCb(e)}});t.a=d},1592:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t={},n=this.getOwnedPropertyNames(),a=e.getCollectionChildrenPropertyNames();return Object.keys(this.modelValidations).forEach(function(r){if(n.indexOf(r)>=0&&void 0!==e.dataValues[r]&&null!==e.dataValues[r])if(-1===a.indexOf(r))t[r]=e.dataValues[r];else{if("compulsoryDataElementOperands"===r)return void(t[r]=e.dataValues[r]);t[r]=Array.from(e.dataValues[r].values()).filter(function(e){return e.id}).map(function(t){return e.modelDefinition&&"legendSet"===e.modelDefinition.name?s.call(t.modelDefinition,t):{id:t.id}})}}),t}var l=n(0),c=n.n(l),u=n(470),p=n.n(u),d=n(465),f=n.n(d),h=n(462),m=n.n(h),y=n(461),g=n.n(y),b=n(60),v=n(1206),_=n(1221),T=n(29),w=n(61),S=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),x=T.a.create(),E=T.a.create(),C=function(e){function t(e,n){var i=this;r(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return l._changeFilter=function(e){l.setState({filterText:e.target.value})},l._assignItems=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.getState().concat(t),E.setState(n),e.abrupt("return",Promise.resolve(!0));case 3:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}(),l._removeItems=function(e){var t=E.getState().filter(function(t){return-1===e.indexOf(t)});return E.setState(t),Promise.resolve(!0)},l._saveCollection=function(){var e=E.getState().map(function(e){return e.split(".")}).filter(function(e){return 2===e.length}).map(function(e){var t=S(e,2);return{dataElement:{id:t[0]},categoryOptionCombo:{id:t[1]}}});l.setState({isSaving:!0});s.bind(l.props.model.modelDefinition)(l.props.model),l.context.d2;l.props.model.compulsoryDataElementOperands=e,l.props.model.save().then(function(){w.a.show({message:"saved_compulsory_data_elements",translate:!0})}).catch(function(){w.a.show({message:"failed_to_save_compulsory_data_elements",action:"ok",translate:!0})}).then(function(){l.setState({isSaving:!1}),l.props.onRequestClose()})},l.state={filterText:"",isSaving:!1},l.i18n=n.d2.i18n,e.dataElementOperands&&e.model&&(x.setState(e.dataElementOperands.map(function(e){return{text:e.displayName,value:e.dataElementId+"."+e.optionComboId}})),E.setState(e.model.compulsoryDataElementOperands.filter(function(e){return e.dataElement&&e.categoryOptionCombo}).map(function(e){return e.dataElement.id+"."+e.categoryOptionCombo.id}))),l}return i(t,e),O(t,[{key:"componentWillReceiveProps",value:function(e){e.open?e.dataElementOperands&&e.model&&(x.setState(e.dataElementOperands.map(function(e){return{text:e.displayName,value:[e.dataElementId,e.optionComboId].join(".")}})),E.setState(e.model.compulsoryDataElementOperands.filter(function(e){return e.dataElement&&e.categoryOptionCombo}).map(function(e){return[e.dataElement.id,e.categoryOptionCombo.id].join(".")}))):(x.setState(void 0),E.setState([]))}},{key:"render",value:function(){var e=this.state.isSaving?this.i18n.getTranslation("saving"):this.i18n.getTranslation("save"),t=[c.a.createElement(f.a,{disabled:this.state.isSaving,style:{marginRight:"1rem"},onClick:this.props.onRequestClose,label:this.i18n.getTranslation("close")}),c.a.createElement(m.a,{labelColor:"white",disabled:this.state.isSaving,primary:!0,onClick:this._saveCollection,label:e})];return c.a.createElement(p.a,{open:this.props.open,onRequestClose:this.props.onRequestClose,autoScrollBodyContent:!0,modal:!0,actions:t,contentStyle:{maxWidth:"none",width:"95%"}},c.a.createElement("div",{style:{marginBottom:"3.5rem"}},c.a.createElement(v.a,null,this.i18n.getTranslation("edit_compulsory_data_elements")," - ",this.props.model&&this.props.model.displayName),c.a.createElement(g.a,{floatingLabelText:this.i18n.getTranslation("filter"),style:{width:"100%"},onChange:this._changeFilter}),c.a.createElement(_.a,{itemStore:x,assignedItemStore:E,onAssignItems:this._assignItems,onRemoveItems:this._removeItems,height:350,filterText:this.state.filterText})))}}]),t}(l.Component);t.a=n.i(b.a)(C)},1593:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1252),i=n(1248),s=n.n(i),l=n(511),c=n.n(l),u=n(1606),p=n.n(u),d=n(1300),f=n.n(d),h=n(1281),m=n.n(h),y=n(1212),g=n.n(y),b=n(14),v=(n.n(b),n(1209)),_=g()(function(){return{}}),T=s()(function(e){var t=e.value;return!n.i(b.isString)(t)},m.a),w=s()(function(e){return!0===e.value},f()(_(c.a)))(_(p.a));n.i(o.b)(function(e){return"BOOLEAN"===e.valueType},w),n.i(o.b)(function(e){var t=e.columnName,n=e.valueType;return"formType"===t&&"CONSTANT"===n},T(function(e){var t=e.value;return r.a.createElement(v.a,null,t.toLowerCase())}))},1594:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),l=n.n(s),c=n(468),u=n.n(c),p=n(62),d=n.n(p),f=n(110),h=n.n(f),m=n(476),y=n.n(m),g=n(509),b=n.n(g),v=n(19),_=(n.n(v),n(61)),T=n(485),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=function(e){function t(){var e;r(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));return s.state={open:!1,running:!1},s.getTranslation=s.context.d2.i18n.getTranslation.bind(s.context.d2.i18n),s.setStartDate=s.setStartDate.bind(s),s.setEndDate=s.setEndDate.bind(s),s.executeAction=s.executeAction.bind(s),s}return i(t,e),w(t,[{key:"componentDidMount",value:function(){var e=this;this.subscriptions=[],this.subscriptions.push(T.a.subscribe(function(t){return e.setState(t)}))}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe&&e.unsubscribe()})}},{key:"requestClose",value:function(){T.a.setState(Object.assign({},T.a.state,{open:!1}))}},{key:"setStartDate",value:function(e,t){var n=new Date(t);this.setState({startDate:n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()})}},{key:"setEndDate",value:function(e,t){var n=new Date(t);this.setState({endDate:n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()})}},{key:"executeAction",value:function(){function e(){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(){var t,a,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(v.getInstance)();case 2:t=e.sent,a=[this.state.model.modelDefinition.plural,this.state.model.id,"run"].join("/"),r=a+"?startDate="+this.state.startDate+"&endDate="+this.state.endDate,this.setState({running:!0}),t.Api.getApi().post(r,{startDate:this.state.startDate,endDate:this.state.endDate}).then(function(e){_.a.show({message:e.message,action:"ok"}),o.setState({open:!1,running:!1})}).catch(function(e){_.a.show({message:o.getTranslation("failed_to_start_predictor")+": "+e.message,action:"ok"}),o.setState({open:!1,running:!1}),console.error(e)});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=[l.a.createElement(d.a,{label:this.getTranslation("cancel"),onClick:this.requestClose,style:{marginRight:16},disabled:this.state.running}),l.a.createElement(u.a,{label:this.getTranslation("run_predictor"),primary:!0,onClick:this.executeAction,disabled:!this.state.startDate||!this.state.endDate||this.state.running})];return l.a.createElement(h.a,{open:this.state.open,actions:e,title:this.getTranslation("run_predictor"),contentStyle:{maxWidth:450},bodyStyle:{marginLeft:64}},this.state.running?l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"center",marginRight:64}},this.getTranslation("running_predictor")),l.a.createElement("div",{style:{marginTop:32,marginRight:64,textAlign:"center"}},l.a.createElement(b.a,null))):l.a.createElement("div",null,l.a.createElement(y.a,{autoOk:!0,floatingLabelText:this.getTranslation("start_date")+" (*)",onChange:this.setStartDate}),l.a.createElement(y.a,{autoOk:!0,floatingLabelText:this.getTranslation("end_date")+" (*)",onChange:this.setEndDate})),l.a.createElement("div",{style:{marginBottom:16}}))}}]),t}(l.a.Component);S.contextTypes={d2:l.a.PropTypes.any},t.a=S},1596:function(e,t,n){"use strict";var a=n(18),r=(n.n(a),n(23)),o=n.n(r),i={getInitialState:function(){return this.events={},this.eventSubjects={},{}},createEventObserver:function(){var e=new Map;return function(t){var n=void 0;return e.has(t)?n=e.get(t):(n=new a.Subject,e.set(t,n)),this.events[t]||(this.events[t]=n.map(function(e){return Object.assign({},e)})),function(e){n.next(e)}}}(),componentWillUnmount:function(){var e=this;Object.keys(this.eventSubjects).forEach(function(t){o.a.debug("Completing: "+[e.constructor.name,t].join(".")),e.eventSubjects[t].completed()})}};t.a=i},1597:function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"b",function(){return T}),n.d(t,"a",function(){return S});var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(471),l=n(19),c=(n.n(l),n(47)),u=n.n(c),p=n(152),d=n(1368),f=n(1369),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};l.config.i18n.strings.add("public_access"),l.config.i18n.strings.add("external_access"),l.config.i18n.strings.add("anyone_can_view_without_a_login"),l.config.i18n.strings.add("anyone_can_find_view_and_edit"),l.config.i18n.strings.add("anyone_can_find_and_view"),l.config.i18n.strings.add("no_access");var m={accessView:{fontWeight:"400",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"4px 8px"},accessDescription:{display:"flex",flexDirection:"column",flex:1,paddingLeft:16}},y={d2:r.a.object.isRequired},g=function(e){switch(e){case"user":return"Person";case"userGroup":return"Group";case"external":return"Public";case"public":return"Business";default:return"Person"}},b=function(e){return h({},e,{access:n.i(f.b)(e.access),onChange:function(t){e.onChange(n.i(f.a)(t))}})},v=function(e){var t=e.access,n=e.accessType,a=e.accessOptions,r=e.primaryText,o=e.secondaryText,s=e.onChange,l=e.onRemove,c=e.disabled;return i.a.createElement("div",{style:m.accessView},i.a.createElement(p.a,{icon:g(n)}),i.a.createElement("div",{style:m.accessDescription},i.a.createElement("div",null,r),i.a.createElement("div",{style:{color:"#818181",paddingTop:4}},o||" ")),i.a.createElement(d.a,{access:t,accessOptions:a,onChange:s,disabled:c}),i.a.createElement(u.a,{disabled:!l,iconStyle:{color:"#bbbbbb"},onClick:l||function(){}},i.a.createElement(p.a,{icon:"Clear"})))};v.contextTypes=y,v.propTypes={access:r.a.object.isRequired,accessType:r.a.string.isRequired,accessOptions:r.a.object.isRequired,primaryText:r.a.string.isRequired,onChange:r.a.func.isRequired,disabled:r.a.bool,secondaryText:r.a.string,onRemove:r.a.func},v.defaultProps={secondaryText:void 0,onRemove:void 0,disabled:!1};var _=n.i(s.b)(n.i(s.h)(b),n.i(s.a)(function(e){return{accessType:e.groupType,primaryText:e.groupName,accessOptions:{meta:{canView:!0,canEdit:!0,noAccess:!1},data:e.dataShareable&&{canView:!0,canEdit:!0,noAccess:!0}}}}))(v),T=n.i(s.b)(n.i(s.i)(y),n.i(s.a)(function(e){return{accessType:"external",primaryText:e.d2.i18n.getTranslation("external_access"),secondaryText:e.access?e.d2.i18n.getTranslation("anyone_can_view_without_a_login"):e.d2.i18n.getTranslation("no_access"),access:{meta:{canEdit:!1,canView:e.access},data:{canEdit:!1,canView:!1}},onChange:function(t){e.onChange(t.meta.canView)},accessOptions:{meta:{canView:!0,canEdit:!1,noAccess:!0}}}}))(v),w=function(e){var t=e.canView;return e.canEdit?"anyone_can_find_view_and_edit":t?"anyone_can_find_and_view":"no_access"},S=n.i(s.b)(n.i(s.h)(b),n.i(s.i)(y),n.i(s.a)(function(e){return{accessType:"public",primaryText:e.d2.i18n.getTranslation("public_access"),secondaryText:e.d2.i18n.getTranslation(w(e.access.meta)),accessOptions:{meta:{canView:!0,canEdit:!0,noAccess:!0},data:e.dataShareable&&{canView:!0,canEdit:!0,noAccess:!0}}}}))(v)},1598:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(19);n.n(s);s.config.i18n.strings.add("created_by"),s.config.i18n.strings.add("no_author");var l=function(e,t){var n=e.author,a=n?t.d2.i18n.getTranslation("created_by")+": "+n.name:t.d2.i18n.getTranslation("no_author");return i.a.createElement("div",null,a)};l.propTypes={author:r.a.object.isRequired},l.contextTypes={d2:r.a.object.isRequired},t.a=l},1599:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n.n(i),l=n(0),c=n.n(l),u=n(152),p=n(145),d=n.n(p),f=function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),p=0;p<s;p++)l[p]=arguments[p];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.ref=null,o.render=function(){return o.props.disabled?null:c.a.createElement(d.a,{insetChildren:!0,leftIcon:o.props.isSelected?c.a.createElement(u.a,{icon:"Done"}):void 0,primaryText:o.props.primaryText,value:o.props.value,disabled:o.props.disabled,onTouchTap:o.props.onTouchTap,focusState:o.props.focusState})},i=n,r(o,i)}return o(t,e),t}(l.Component);f.propTypes={disabled:s.a.bool.isRequired,isSelected:s.a.bool.isRequired,primaryText:s.a.string.isRequired,value:s.a.object.isRequired,onTouchTap:s.a.func,focusState:s.a.string},f.defaultProps={onTouchTap:void 0,focusState:"none"},f.muiName="MenuItem",t.a=f},1600:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),c=n(0),u=n.n(c),p=n(19),d=(n.n(p),n(233)),f=n.n(d),h=n(245),m=n.n(h),y=n(1206),g=n(1601),b=n(1598),v=n(1597),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();p.config.i18n.strings.add("who_has_access");var w={createdBy:{color:"#818181"},titleBodySpace:{paddingTop:30},rules:{height:"240px",overflowY:"scroll"}},S=function(e){function t(){var e,n,i,s;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.onAccessRuleChange=function(e){return function(t){var n=function(n){return n.id===e?_({},n,{access:t}):n},a=(i.props.sharedObject.object.userAccesses||[]).map(n),r=(i.props.sharedObject.object.userGroupAccesses||[]).map(n);i.props.onChange({userAccesses:a,userGroupAccesses:r})}},i.onAccessRemove=function(e){return function(){var t=function(t){return t.id!==e},n=(i.props.sharedObject.object.userAccesses||[]).filter(t),a=(i.props.sharedObject.object.userGroupAccesses||[]).filter(t);i.props.onChange({userAccesses:n,userGroupAccesses:a})}},i.onPublicAccessChange=function(e){i.props.onChange({publicAccess:e})},i.onExternalAccessChange=function(e){i.props.onChange({externalAccess:e})},i.setAccessListRef=function(e){i.accessListRef=e},i.accessListRef=null,i.addUserAccess=function(e){var t=i.props.sharedObject.object.userAccesses||[];i.props.onChange({userAccesses:[].concat(a(t),[e])},i.scrollAccessListToBottom())},i.addUserGroupAccess=function(e){var t=i.props.sharedObject.object.userGroupAccesses||[];i.props.onChange({userGroupAccesses:[].concat(a(t),[e])},i.scrollAccessListToBottom())},i.scrollAccessListToBottom=function(){i.accessListRef.scrollTop=i.accessListRef.scrollHeight},s=n,o(i,s)}return i(t,e),T(t,[{key:"render",value:function(){var e=this,t=this.props.sharedObject.object,n=t.user,a=t.displayName,r=t.userAccesses,o=t.userGroupAccesses,i=t.publicAccess,s=t.externalAccess,l=this.props.sharedObject.meta,c=l.allowPublicAccess,p=l.allowExternalAccess,d=(r||[]).map(function(e){return e.id}).concat((o||[]).map(function(e){return e.id}));return u.a.createElement("div",null,u.a.createElement(y.a,{text:a,level:2}),u.a.createElement(b.a,{author:n}),u.a.createElement("div",{style:w.titleBodySpace}),u.a.createElement(m.a,null,this.context.d2.i18n.getTranslation("who_has_access")),u.a.createElement(f.a,null),u.a.createElement("div",{style:w.rules,ref:this.setAccessListRef},u.a.createElement(v.a,{access:i,disabled:!c,dataShareable:this.props.dataShareable,onChange:this.onPublicAccessChange}),u.a.createElement(f.a,null),u.a.createElement(v.b,{access:s,disabled:!p,onChange:this.onExternalAccessChange}),u.a.createElement(f.a,null),r&&r.map(function(t){return u.a.createElement("div",{key:t.id},u.a.createElement(v.c,{groupName:t.displayName,groupType:"user",access:t.access,dataShareable:e.props.dataShareable,onRemove:e.onAccessRemove(t.id),onChange:e.onAccessRuleChange(t.id)}),u.a.createElement(f.a,null))}),o&&o.map(function(t){return u.a.createElement("div",{key:t.id},u.a.createElement(v.c,{access:t.access,groupName:t.displayName,groupType:"userGroup",dataShareable:e.props.dataShareable,onRemove:e.onAccessRemove(t.id),onChange:e.onAccessRuleChange(t.id)}),u.a.createElement(f.a,null))})),u.a.createElement(g.a,{onSearch:this.props.onSearch,addUserAccess:this.addUserAccess,addUserGroupAccess:this.addUserGroupAccess,dataShareable:this.props.dataShareable,currentAccessIds:d}))}}]),t}(u.a.Component);S.propTypes={sharedObject:l.a.object.isRequired,dataShareable:l.a.bool.isRequired,onChange:l.a.func.isRequired,onSearch:l.a.func.isRequired},S.contextTypes={d2:l.a.object.isRequired},t.a=S},1601:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(19),p=(n.n(u),n(18)),d=(n.n(p),n(508)),f=n.n(d),h=n(1369),m=n(1368),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();u.config.i18n.strings.add("add_users_and_user_groups"),u.config.i18n.strings.add("enter_names");var b={container:{fontWeight:"400",padding:16,backgroundColor:"#F5F5F5",display:"flex",flexDirection:"column",justifyContent:"center"},innerContainer:{display:"flex",flexDirection:"row",flex:1},title:{color:"#818181",paddingBottom:8},searchBox:{backgroundColor:"white",boxShadow:"2px 2px 2px #cccccc",padding:"0px 16px",marginRight:"16px"}},v=function(e){function t(){var e,o,i,s;a(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={defaultAccess:{meta:{canView:!0,canEdit:!0},data:{canView:!1,canEdit:!1}},searchResult:[],searchText:""},i.onResultClick=function(e,t){i.inputStream.next("");var a=i.state.searchResult[t],r=a.type;delete a.type,"userAccess"===r?i.props.addUserAccess(y({},a,{access:n.i(h.a)(i.state.defaultAccess)})):i.props.addUserGroupAccess(y({},a,{access:n.i(h.a)(i.state.defaultAccess)})),i.clearSearchText()},i.inputStream=new p.Subject,i.hasNoCurrentAccess=function(e){return-1===i.props.currentAccessIds.indexOf(e.id)},i.fetchSearchResult=function(e){""===e?i.handleSearchResult([]):i.props.onSearch(e).then(function(e){var t=e.users,n=e.userGroups,a=function(e){return function(t){return y({},t,{type:e})}},r=t.map(a("userAccess")).filter(i.hasNoCurrentAccess).concat(n.map(a("userGroupAccess")).filter(i.hasNoCurrentAccess));i.handleSearchResult(r)})},i.handleSearchResult=function(e){i.setState({searchResult:e})},i.handleUpdateInput=function(e){i.inputStream.next(e),i.setState({searchText:e})},i.accessOptionsChanged=function(e){i.setState({defaultAccess:e})},i.clearSearchText=function(){i.setState({searchText:""})},i.noFilter=function(){return!0},s=o,r(i,s)}return o(t,e),g(t,[{key:"componentWillMount",value:function(){var e=this;this.inputStream.debounce(function(){return p.Observable.timer(300)}).subscribe(function(t){e.fetchSearchResult(t)})}},{key:"render",value:function(){return s.a.createElement("div",{style:b.container},s.a.createElement("div",{style:b.title},this.context.d2.i18n.getTranslation("add_users_and_user_groups")),s.a.createElement("div",{style:b.innerContainer},s.a.createElement(f.a,{fullWidth:!0,openOnFocus:!0,filter:this.noFilter,dataSource:this.state.searchResult,dataSourceConfig:{text:"displayName",value:"id"},hintText:this.context.d2.i18n.getTranslation("enter_names"),onNewRequest:this.onResultClick,onUpdateInput:this.handleUpdateInput,style:b.searchBox,searchText:this.state.searchText,underlineShow:!1}),s.a.createElement(m.a,{access:this.state.defaultAccess,accessOptions:{meta:{canView:!0,canEdit:!0,noAccess:!1},data:this.props.dataShareable&&{canView:!0,canEdit:!0,noAccess:!0}},onChange:this.accessOptionsChanged})))}}]),t}(i.Component);v.propTypes={onSearch:c.a.func.isRequired,addUserAccess:c.a.func.isRequired,dataShareable:c.a.bool.isRequired,addUserGroupAccess:c.a.func.isRequired,currentAccessIds:c.a.array.isRequired},v.contextTypes={d2:c.a.object.isRequired},t.a=v},1606:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=a(r),i=n(12),s=a(i),l=n(11),c=a(l),u=function(e){return o.default.createElement(c.default,e,o.default.createElement("path",{d:"M19 13H5v-2h14v2z"}))};u=(0,s.default)(u),u.displayName="ContentRemove",u.muiName="SvgIcon",t.default=u},1607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isOpen:!1,isInTransition:!1,positionV:"bottom",tabIndex:1,onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){}}},1608:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.default={alignment:a.PropTypes.string,className:a.PropTypes.string,direction:a.PropTypes.string,href:a.PropTypes.string,isInTransition:a.PropTypes.bool,isOpen:a.PropTypes.bool,leftAvatar:a.PropTypes.object,positionV:a.PropTypes.string,primaryText:a.PropTypes.string,rightAvatar:a.PropTypes.object,style:a.PropTypes.object,styleText:a.PropTypes.object,tabIndex:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]),onBlur:a.PropTypes.func,onClick:a.PropTypes.func,onFocus:a.PropTypes.func,onKeyboardFocus:a.PropTypes.func,onKeyDown:a.PropTypes.func,onKeyUp:a.PropTypes.func,onMouseDown:a.PropTypes.func,onMouseEnter:a.PropTypes.func,onMouseLeave:a.PropTypes.func,onMouseUp:a.PropTypes.func}},1609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t=e.paper,n=e.baseTheme;return{root:{main:{backgroundColor:"transparent",listStyle:"none",cursor:"pointer",transition:r.default.easeOut()},direction:{down:{marginBottom:14},up:{marginTop:14},right:{textAlign:"left",float:"left",marginRight:14},left:{textAlign:"right",float:"right",marginLeft:14}},alignment:{right:{},left:{}},visible:{main:{opacity:1,visibility:"visible"},direction:{down:{},up:{},right:{},left:{}}},invisible:{main:{opacity:0,visibility:"hidden"},direction:{left:{marginRight:-20},right:{marginLeft:-20},up:{marginTop:-40},down:{marginBottom:-40}}}},wrap:{main:{position:"relative",display:"inline-block",lineHeight:"40px",outline:0,textDecoration:"none"}},text:{main:{borderRadius:"5px",padding:"6px 12px 5px",fontSize:14,color:n.palette.secondaryTextColor,backgroundColor:n.palette.canvasColor,boxShadow:t.zDepthShadows[1],whiteSpace:"nowrap"},alignment:{left:{marginLeft:24},right:{marginRight:24},up:{display:"none"},down:{display:"none"}}},rightAvatar:{float:"right",boxShadow:t.zDepthShadows[1]},leftAvatar:{float:"left",boxShadow:t.zDepthShadows[1]},focus:{avatar:{boxShadow:t.zDepthShadows[2]},text:{boxShadow:t.zDepthShadows[2]}}}}},1610:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return null!==e&&"object"===(void 0===e?"undefined":(0,y.default)(e))&&!(e instanceof Array)&&e.type&&e.type.displayName===t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=a(o),s=n(3),l=a(s),c=n(4),u=a(c),p=n(7),d=a(p),f=n(6),h=a(f),m=n(77),y=a(m),g=n(8),b=a(g),v=n(0),_=a(v),T=n(2),w=a(T),S=n(1611),O=a(S),x=function(e){function t(e,n){var a=n.muiTheme;(0,l.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.styles=(0,O.default)(a),r.getStylesMain=r.getStylesMain.bind(r),r.renderChild=r.renderChild.bind(r),r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"getStylesMain",value:function(){var e=this.props,t=e.isOpen,n=e.direction,a=void 0===n?"up":n,r=e.alignment,o=void 0===r?"right":r,i=e.positionV,s=void 0===i?"bottom":i,l=this.styles,c=t?"visible":"invisible";return(0,b.default)({},l.root.main,l.root[c].main,l.root.direction[a],l.root.direction[a+"_"+s],l.root.alignment[o])}},{key:"renderChild",value:function(e,t){var n=this.props,a=n.isOpen,o=n.isInTransition,i=n.direction,s=void 0===i?"up":i,l=n.alignment,c=void 0===l?"right":l;return r(e,"BubbleListItem")?_.default.cloneElement(e,{key:t,isOpen:a,isInTransition:o,alignment:c,direction:s,ref:"listItem"+t}):e}},{key:"renderChildren",value:function(){var e=this.props.children;return e?r(e,"BubbleListItem")?this.renderChild(e,0):e instanceof Array?e.map(this.renderChild):e:_.default.createElement("ul",{style:this.getStylesMain()})}},{key:"render",value:function(){var e=this.props.className;return _.default.createElement("ul",{className:e,style:this.getStylesMain()},this.renderChildren())}}]),t}(_.default.Component);x.displayName="BubbleList",x.propTypes={},x.defaultProps={isOpen:!1,isInTransition:!1},x.contextTypes={muiTheme:w.default.object.isRequired},t.default=x},1611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){return{root:{main:{position:"absolute",opacity:1,padding:0,margin:0,width:320,transition:r.default.easeOut()},direction:{down:{top:0},up:{bottom:0},right:{left:0},left:{right:0},down_inline:{paddingTop:40},up_inline:{paddingBottom:40}},alignment:{down:{top:0},up:{bottom:-7},right:{right:0,textAlign:"right"},left:{left:0,textAlign:"left"},middle:{top:-22}},visible:{main:{opacity:1}},invisible:{main:{opacity:0}}}}}},1612:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=[],a=(0,l.default)({},c,e),r=a.className,o=a.name,s=a.type,u=a.duration,p=a.iterationCount,d=["animation:"+o+" "+s+" "+u+";","animation-iteration-count:"+p+";"];return n.push("."+r+"{"+d.join("")+"}"),n.push("@keyframes "+o+"{"),(0,i.default)(t).forEach(function(e){var a=[],r=t[e];(0,i.default)(r).forEach(function(e){a.push(e+"("+r[e]+")")}),n.push(e+"{transform:"+a.join(" ")+"}")}),n.push("}"),n.join("")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),i=a(o),s=n(8),l=a(s),c={className:"animation",name:"animationFrame",type:"linear",duration:"0.45s",iterationCount:1};t.default=r},1613:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=a(r),i=n(483),s=a(i),l=n(512),c=a(l);t.default={closeOnSecondClick:!0,closeOnScrollDown:!1,closeOnScrollUp:!1,hasBackdrop:!0,icon:o.default.createElement(s.default,null),iconOpen:o.default.createElement(c.default,null),isInitiallyOpen:!1,positionH:"right",positionV:"bottom",style:{},styleBackdrop:{},styleButtonWrap:{},tabIndex:1,onClickPrimaryButton:function(){},onChangeState:function(){}}},1614:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return document.body.scrollTop||document.documentElement.scrollTop}function o(e,t){return null!==e&&"object"===(void 0===e?"undefined":(0,v.default)(e))&&!(e instanceof Array)&&e.type&&e.type.displayName===t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=a(i),l=n(5),c=a(l),u=n(3),p=a(u),d=n(4),f=a(d),h=n(7),m=a(h),y=n(6),g=a(y),b=n(77),v=a(b),_=n(8),T=a(_),w=n(0),S=a(w),O=n(2),x=a(O),E=n(480),C=a(E),k=n(63),j=n(1375),P=a(j),A=n(1616),R=(a(A),n(1613)),I=a(R),N=n(1617),D=a(N),M=n(1615),B=function(e){function t(e,n){(0,p.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e,n));return a.state={isOpen:e.isOpen||e.isInitiallyOpen,isInTransition:!1,wasOpened:!e.isInitiallyOpen,isBackdropFocused:!1,openedScrollPos:0},a.instanceKey=String(1e4*Math.random()).substring(0,4),a.isControlled=Boolean("boolean"==typeof e.isOpen),a.getStylesBackdrop=a.getStylesBackdrop.bind(a),a.isChildrenBubbleList=a.isChildrenBubbleList.bind(a),a.isToolbox=a.isToolbox.bind(a),a.handleClickOpen=a.handleClickOpen.bind(a),a.handleClickClose=a.handleClickClose.bind(a),a.handleClickCloseToolbox=a.handleClickCloseToolbox.bind(a),a.handleClickBackdrop=a.handleClickBackdrop.bind(a),a.handleFocusFirstListItem=a.handleFocusFirstListItem.bind(a),a.handleFocusPrimaryText=a.handleFocusPrimaryText.bind(a),a.handleFocusBackdrop=a.handleFocusBackdrop.bind(a),a.handleBlurBackdrop=a.handleBlurBackdrop.bind(a),a.handleBackdropKeyUp=a.handleBackdropKeyUp.bind(a),a.handleScroll=a.handleScroll.bind(a),a.styles=(0,D.default)(n.muiTheme),a.isControlled&&"function"!=typeof e.onChange&&console.error("Warning: Failed speed-dial propType: You provided a `isOpen` prop to a speed-dial without an `onChange` handler"),a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.closeOnScrollDown,n=e.closeOnScrollUp;!0!==t&&!0!==n||window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillReceiveProps",value:function(e){this.isControlled&&this.setState({isOpen:e.isOpen})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.closeOnScrollDown,n=e.closeOnScrollUp;!0!==t&&!0!==n||window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.props,t=e.closeOnScrollDown,n=e.closeOnScrollUp,a=this.state,o=a.isOpen,i=a.openedScrollPos;if(o){var s=Number(r()||0)-i;!0===t&&s>=30&&this.handleClickClose(),!0===n&&s<=-30&&this.handleClickClose()}}},{key:"handleFocusFirstListItem",value:function(){this.refs.list&&this.refs.list.refs&&this.refs.list.refs.listItem0&&this.refs.list.refs.listItem0.setFocus()}},{key:"handleClickOpen",value:function(){var e=this;this.updateState({wasOpened:!1,isOpen:!0,isInTransition:!0,openedScrollPos:r()}),setTimeout(function(){e.updateState({wasOpened:!1,isInTransition:!1}),e.handleFocusFirstListItem()},450)}},{key:"handleClickClose",value:function(){var e=this;this.props.onClickPrimaryButton(),this.props.closeOnSecondClick&&this.updateState({wasOpened:!0,isOpen:!1,isInTransition:!0}),setTimeout(function(){e.updateState({wasOpened:!1,isInTransition:!1})},450)}},{key:"handleClickCloseToolbox",value:function(){var e=this;this.updateState({wasOpened:!0,isOpen:!1,isInTransition:!0}),setTimeout(function(){e.updateState({wasOpened:!1,isInTransition:!1})},450)}},{key:"handleClickBackdrop",value:function(e){var t=this;e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),this.updateState({isOpen:!1,isInTransition:!0}),setTimeout(function(){t.updateState({isInTransition:!1})},450)}},{key:"handleFocusPrimaryText",value:function(){this.refs.btn.refs.container.refs.enhancedButton.focus()}},{key:"handleFocusBackdrop",value:function(){this.updateState({isBackdropFocused:!0})}},{key:"handleBlurBackdrop",value:function(){this.updateState({isBackdropFocused:!1})}},{key:"handleBackdropKeyUp",value:function(e){13===e.keyCode&&this.handleClickBackdrop(e)}},{key:"getCurrentTransitionState",value:function(){var e=this.state,t=e.isOpen,n=e.isInTransition,a=e.wasOpened;return n?t&&!a?"opening":"closing":t?"open":"closed"}},{key:"getDirection",value:function(){var e=this.props,t=e.children,n=e.positionV;return t&&t.props&&t.props.direction?t.props.direction:"bottom"===n?"up":"down"}},{key:"getAlignment",value:function(){var e=this.props,t=e.children,n=e.positionH;return t&&t.props&&t.props.alignment?t.props.alignment:n}},{key:"getActionButton",value:function(){try{return this.refs.btn.refs.container}catch(e){return{}}}},{key:"getActionButtonStyles",value:function(){try{return(0,T.default)({},this.getActionButton().refs.enhancedButton.style)}catch(e){return{}}}},{key:"getStylesBtn",value:function(){var e=this.props,t=e.positionV,n=e.positionH,a=e.styleButtonWrap,r=this.getCurrentTransitionState(),o=this.styles;return this.isToolbox()?(0,T.default)({},o.btnWrap.main,o.btnWrap[t],o.btnWrap[n],a,o.btnWrap.toolbox[r]):(0,T.default)({},o.btnWrap.main,o.btnWrap[t],o.btnWrap[n],a)}},{key:"getStylesMain",value:function(){var e=this.props,t=e.positionV,n=e.style,a=this.styles;return(0,T.default)({},a.root.main,a.root[t],n)}},{key:"getStylesContentWrap",value:function(){var e=this.props,t=e.positionV,n=e.positionH,a=this.state.isOpen,r=this.styles,o={};return this.isChildrenBubbleList()||(o=(0,T.default)({},r.notBubbleList.main,r.notBubbleList[a?"visible":"invisible"])),(0,T.default)({},r.contentWrap.main,r.contentWrap[t],r.contentWrap[n],r.contentWrap.direction[this.getDirection()],r.contentWrap.alignment[this.getAlignment()],o)}},{key:"getStylesPrimaryText",value:function(){var e=this.props.positionH,t=this.state.isOpen,n=this.styles;return(0,T.default)({},n.primaryText.main,n.primaryText[String(t)],n.primaryText[e])}},{key:"getStylesBackdrop",value:function(){var e=this.state,t=e.isOpen,n=e.isBackdropFocused,a=this.styles,r=t?a.backdrop.main:a.backdrop.invisible,o=n?a.backdrop.focus:{};return(0,T.default)({},r,o)}},{key:"getStylesToolbox",value:function(){var e=this.state.isOpen,t=this.props.toolbox,n=this.styles;if(!e)return(0,T.default)({},n.toolbox.main);var a={height:t.height};return(0,T.default)({},n.toolbox.main,a)}},{key:"getStylesToolboxInner",value:function(){return(0,T.default)({},this.styles.toolboxInner.main,this.styles.toolboxInner[this.getCurrentTransitionState()])}},{key:"getStylesMorphActionButton",value:function(){var e=this.styles,t=this.getStylesBtn(),n=this.getActionButtonStyles(),a=(0,T.default)({},e.morphActionButton.main,{backgroundColor:n.backgroundColor||k.cyan500,width:n.width||56,height:n.height||56});return(0,T.default)({},t,a,e.morphActionButton[this.getCurrentTransitionState()])}},{key:"updateState",value:function(e){this.setState(e),this.props.onChangeState(e),this.isControlled&&"boolean"==typeof e.isOpen&&this.props.onChange({isOpen:e.isOpen})}},{key:"isChildrenBubbleList",value:function(){return o(this.props.children,"BubbleList")}},{key:"isToolbox",value:function(){var e=this.props.toolbox;return Boolean(e&&"number"==typeof e.height)}},{key:"renderIcon",value:function(){var e=this.props,t=e.icon,n=e.iconOpen,a=this.state.isOpen;return[S.default.cloneElement(t,{key:"0",style:a?this.styles.iconClosed.invisible:this.styles.iconClosed.main}),S.default.cloneElement(n,{key:"1",style:a?this.styles.iconOpen.main:this.styles.iconOpen.invisible})]}},{key:"renderToolbox",value:function(){var e=this.props,t=e.toolbox,n=e.children;return this.isToolbox()?S.default.createElement("div",{className:t.className,style:this.getStylesToolbox()},S.default.createElement("div",{style:this.styles.morphWrap},this.renderMorphActionButton()),S.default.createElement("div",{style:this.getStylesToolboxInner()},S.default.cloneElement(n,{onClickCloseToolbox:this.handleClickCloseToolbox}))):null}},{key:"renderChildren",value:function(){var e=this.props,t=e.children,n=e.positionV,a=this.state,r=a.isOpen,i=a.isInTransition;return this.isToolbox()?null:o(t,"BubbleList")?S.default.cloneElement(t,{isOpen:r,isInTransition:i,direction:this.getDirection(),alignment:this.getAlignment(),positionV:n,ref:"list"}):t}},{key:"renderBackdrop",value:function(){var e=this.props,t=e.hasBackdrop,n=e.classNameBackdrop,a=e.tabIndex,r=e.styleBackdrop,o=this.state.isOpen,i=this.styles,s=o?i.backdropWrap.main:i.backdropWrap.invisible;return!t||this.isToolbox()?null:S.default.createElement("span",{className:n,style:(0,T.default)({},s,r)},S.default.createElement("a",{style:this.getStylesBackdrop(),tabIndex:o?a+1:-1,onBlur:this.handleBlurBackdrop,onFocus:this.handleFocusBackdrop,onKeyUp:this.handleBackdropKeyUp,onClick:this.handleClickBackdrop}))}},{key:"renderPrimaryText",value:function(){var e=this.props,t=e.primaryText,n=e.onClickPrimaryButton,a=e.tabIndex,r=this.state.isOpen;return["left","right"].indexOf(this.getDirection())>=0?null:t&&""!==t?S.default.createElement("ul",{style:this.getStylesPrimaryText()},S.default.createElement(P.default,{isOpen:!0,primaryText:t,tabIndex:r?a:-1,onClick:n,onFocus:this.handleFocusPrimaryText})):null}},{key:"renderMorphActionButton",value:function(){var e=this.getCurrentTransitionState(),t=this.props.toolbox,n=[];return t.classNameMorphButton&&n.push(t.classNameMorphButton),"closing"===e&&n.push("anim-btn-morph-closing"+this.instanceKey),"opening"===e&&n.push("anim-btn-morph"+this.instanceKey),S.default.createElement("div",{className:n.join(" "),ref:"morphBtn",style:this.getStylesMorphActionButton()})}},{key:"renderCssKeyframes",value:function(){var e=this.props,t=e.toolbox,n=e.positionH;if(!this.isToolbox())return null;var a={height:t.height,btnHeight:56,positionH:n};return S.default.createElement("style",null,(0,M.getCssKeyFrames)("anim-btn-morph",this.instanceKey,a),(0,M.getCssKeyFramesClosing)("anim-btn-morph-closing",this.instanceKey,a))}},{key:"render",value:function(){var e=this.props,t=e.floatingActionButtonProps,n=e.className,a=e.classNameInTransition,r=e.classNameOpen,o=e.classNameButtonWrap,i=e.tabIndex,l=this.state,c=l.isOpen,u=l.isInTransition,p=c?this.handleClickClose:this.handleClickOpen,d=[n],f=(0,T.default)({},t,{onClick:p});return u&&a&&d.push(a),c&&r&&d.push(r),S.default.createElement("div",{className:d.join(" "),style:this.getStylesMain()},this.renderCssKeyframes(),this.renderToolbox(),this.renderBackdrop(),S.default.createElement("div",{style:this.getStylesContentWrap()},this.renderChildren()),S.default.createElement("div",{className:o,style:this.getStylesBtn()},this.renderPrimaryText(),S.default.createElement(C.default,(0,s.default)({ref:"btn",tabIndex:i},f),this.renderIcon())))}}]),t}(S.default.Component);B.displayName="SpeedDial",B.propTypes={},B.defaultProps=I.default,B.contextTypes={muiTheme:x.default.object.isRequired},t.default=B},1615:function(e,t,n){"use strict";function a(){return Number(window.innerWidth<=1024?window.innerWidth:1024)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCssKeyFramesClosing=t.getCssKeyFrames=void 0;var r=n(1612),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getCssKeyFrames=function(e,t,n){var r=n.height,i=n.btnHeight,s=n.positionH,l=a(),c=Number(r/2)+"px",u=l/2-i+"px",p="0px,"+c,d=l/40,f="0px,0px";return f="left"===s?u+","+c:"-"+u+","+c,(0,o.default)({className:e+t,name:e+t,iterationCount:1},{"0%":{translate:"0px,0px",scaleX:1,scaleY:1},"20%":{translate:p,scaleX:1,scaleY:1},"40%":{translate:f,scaleX:d/2,scaleY:d/2},"100%":{translate:f,scaleX:d,scaleY:d}})},t.getCssKeyFramesClosing=function(e,t,n){var r=n.height,i=n.btnHeight,s=n.positionH,l=a(),c=Number(r/2)+"px",u=l/2-i+"px",p="0px,"+c,d=l/40,f="0px,0px";return f="left"===s?u+","+c:"-"+u+","+c,(0,o.default)({className:e+t,name:e+t,iterationCount:1},{"0%":{translate:f,scaleX:d,scaleY:d},"20%":{translate:p,scaleX:d/2,scaleY:d/2},"40%":{translate:"0px,0px",scaleX:1,scaleY:1},"100%":{translate:"0px,0px",scaleX:1,scaleY:1}})}},1616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.default={children:a.PropTypes.any,className:a.PropTypes.string,classNameBackdrop:a.PropTypes.string,classNameButtonWrap:a.PropTypes.string,classNameInTransition:a.PropTypes.string,classNameOpen:a.PropTypes.string,closeOnSecondClick:a.PropTypes.bool,closeOnScrollDown:a.PropTypes.bool,closeOnScrollUp:a.PropTypes.bool,floatingActionButtonProps:a.PropTypes.shape({backgroundColor:a.PropTypes.string,className:a.PropTypes.string,disabled:a.PropTypes.bool,iconClassName:a.PropTypes.string,iconStyle:a.PropTypes.object,mini:a.PropTypes.bool,secondary:a.PropTypes.bool,style:a.PropTypes.object,zDepth:a.PropTypes.number}),hasBackdrop:a.PropTypes.bool,icon:a.PropTypes.object,iconOpen:a.PropTypes.object,isInitiallyOpen:a.PropTypes.bool,isOpen:a.PropTypes.bool,positionH:a.PropTypes.string,positionV:a.PropTypes.string,primaryText:a.PropTypes.string,style:a.PropTypes.object,styleBackdrop:a.PropTypes.object,styleButtonWrap:a.PropTypes.object,tabIndex:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]),toolbox:a.PropTypes.shape({height:a.PropTypes.number.isRequired,className:a.PropTypes.string,classNameMorphButton:a.PropTypes.string}),onClickPrimaryButton:a.PropTypes.func,onChange:a.PropTypes.func,onChangeState:a.PropTypes.func}},1617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(63),r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){var t=e.baseTheme;return{root:{main:{position:"fixed",width:"100%",left:0,zIndex:9999},inline:{position:"relative"},top:{top:0},bottom:{bottom:0}},actionButton:{invisible:{opacity:0}},toolbox:{main:{position:"relative",transition:o.default.easeOut(),height:0,width:"100%"}},toolboxInner:{main:{transition:o.default.easeOut()},closed:{opacity:0},closing:{opacity:0},open:{opacity:1},opening:{opacity:0}},morphWrap:{position:"absolute",width:"100%",height:"100%",left:0,top:0,overflow:"hidden"},morphActionButton:{main:{display:"inline-block",transition:o.default.easeOut(),height:56,width:56,background:a.cyan500,zIndex:0,opacity:1,borderRadius:"50%"},closed:{transition:"none"},closing:{transition:"none"},opening:{},open:{transition:"none",position:"absolute",width:"auto",height:"auto",top:0,right:0,bottom:0,left:0,opacity:1,borderRadius:"0%"}},notBubbleList:{main:{transition:o.default.easeOut()},invisible:{opacity:0},visible:{opacity:1}},contentWrap:{main:{position:"absolute"},top:{top:88},bottom:{bottom:88},left:{left:23},right:{right:23},direction:{up:{},down:{},left:{right:88},right:{left:88}},alignment:{up:{bottom:23},down:{top:23},left:{},right:{}}},backdropWrap:{main:{position:"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,opacity:1},invisible:{opacity:0}},backdrop:{main:{position:"absolute",backgroundColor:t.palette.borderColor,display:"block",transition:o.default.easeOut(),width:"100%",height:"100%",top:0,right:0,opacity:.8},invisible:{opacity:0},focus:{backgroundColor:t.palette.secondaryTextColor,opacity:.4}},btnWrap:{main:{transition:o.default.easeOut(),position:"absolute",opacity:1},inline:{top:-28},bottom:{bottom:16},top:{top:16},left:{left:16},right:{right:16},toolbox:{open:{opacity:0},closed:{opacity:1},opening:{opacity:0},closing:{opacity:0}}},iconClosed:{main:{position:"absolute",transform:"rotate(0deg)",opacity:1},invisible:{position:"absolute",transform:"rotate(90deg)",opacity:0}},iconOpen:{main:{transform:"rotate(0deg)",opacity:1},invisible:{transform:"rotate(-90deg)",opacity:0}},primaryText:{main:{position:"absolute",bottom:10,margin:0,transition:o.default.easeOut()},true:{opacity:1},false:{opacity:0},left:{left:33},right:{right:73}}}}}});
//# sourceMappingURL=5-cadeeda23d432254d13b.js.map